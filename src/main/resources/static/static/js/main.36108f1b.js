/*! For license information please see main.36108f1b.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,a)=>{var n=a(853),r=a(43),s=a(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var w=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=S&&e[S]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return E(e(t))}catch(a){}}return null}var z,P,T=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function I(e){if(void 0===z)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||"",P=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+z+e+P}var R=!1;function D(e,t){if(!e||R)return"";R=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(r){var n=r}Reflect.construct(e,[],a)}else{try{a.call()}catch(s){n=s}e.call(a.prototype)}}else{try{throw Error()}catch(i){n=i}(a=e())&&"function"===typeof a.catch&&a.catch((function(){}))}}catch(l){if(l&&n&&"string"===typeof l.stack)return[l.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(r=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(n===o.length||r===c.length)for(n=o.length-1,r=c.length-1;1<=n&&0<=r&&o[n]!==c[r];)r--;for(;1<=n&&0<=r;n--,r--)if(o[n]!==c[r]){if(1!==n||1!==r)do{if(n--,0>--r||o[n]!==c[r]){var u="\n"+o[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=r);break}}}finally{R=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?I(a):""}function L(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function O(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}function F(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function M(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function _(e){if(F(e)!==e)throw Error(i(188))}function $(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=$(e)))return t;e=e.sibling}return null}var B=Array.isArray,U=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},V=[],q=-1;function W(e){return{current:e}}function G(e){0>q||(e.current=V[q],V[q]=null,q--)}function J(e,t){q++,V[q]=e.current,e.current=t}var Q=W(null),K=W(null),Y=W(null),X=W(null);function Z(e,t){switch(J(Y,t),J(K,e),J(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Ku(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Yu(e=Ku(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(Q),J(Q,t)}function ee(){G(Q),G(K),G(Y)}function te(e){null!==e.memoizedState&&J(X,e);var t=Q.current,a=Yu(t,e.type);t!==a&&(J(K,e),J(Q,a))}function ae(e){K.current===e&&(G(Q),G(K)),X.current===e&&(G(X),Od._currentValue=H)}var ne=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,se=n.unstable_cancelCallback,ie=n.unstable_shouldYield,le=n.unstable_requestPaint,oe=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,ue=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,me=n.unstable_NormalPriority,he=n.unstable_LowPriority,pe=n.unstable_IdlePriority,fe=n.log,ge=n.unstable_setDisableYieldValue,ve=null,xe=null;function ye(e){if("function"===typeof fe&&ge(e),xe&&"function"===typeof xe.setStrictMode)try{xe.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=128,Se=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t){var a=e.pendingLanes;if(0===a)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var l=134217727&a;return 0!==l?0!==(a=l&~r)?n=ke(a):0!==(s&=l)?n=ke(s):e||0!==(i=l&~i)&&(n=ke(i)):0!==(l=a&~r)?n=ke(l):0!==s?n=ke(s):e||0!==(i=a&~i)&&(n=ke(i)),0===n?0:0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(i=t&-t)||32===r&&0!==(4194176&i))?t:n}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ze(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=we;return 0===(4194176&(we<<=1))&&(we=128),e}function Te(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Ae(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-be(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194218&a}function De(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-be(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=U.p;return 0!==e?e:void 0===(e=window.event)?32:Yd(e.type)}var Fe=Math.random().toString(36).slice(2),Me="__reactFiber$"+Fe,_e="__reactProps$"+Fe,$e="__reactContainer$"+Fe,Be="__reactEvents$"+Fe,Ue="__reactListeners$"+Fe,He="__reactHandles$"+Fe,Ve="__reactResources$"+Fe,qe="__reactMarker$"+Fe;function We(e){delete e[Me],delete e[_e],delete e[Be],delete e[Ue],delete e[He]}function Ge(e){var t=e[Me];if(t)return t;for(var a=e.parentNode;a;){if(t=a[$e]||a[Me]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=od(e);null!==e;){if(a=e[Me])return a;e=od(e)}return t}a=(e=a).parentNode}return null}function Je(e){if(e=e[Me]||e[$e]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ke(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[qe]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var at=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},st={};function it(e,t,a){if(r=t,ne.call(st,r)||!ne.call(rt,r)&&(nt.test(r)?st[r]=!0:(rt[r]=!0,0)))if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+a)}var r}function lt(e,t,a){if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+a)}}function ot(e,t,a,n){if(null===n)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(t,a,""+n)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function ft(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,a,n,r,s,i,l){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,ct(t)):null!=a?xt(e,i,ct(a)):null!=n&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ct(l):e.removeAttribute("name")}function vt(e,t,a,n,r,s,i,l){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=a){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;a=null!=a?""+ct(a):"",t=null!=t?""+ct(t):a,l||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:r)&&"symbol"!==typeof n&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function xt(e,t,a){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yt(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ct(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,a){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=a)?e.defaultValue=null!=a?""+ct(a):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,a,n){if(null==t){if(null!=n){if(null!=a)throw Error(i(92));if(B(n)){if(1<n.length)throw Error(i(93));n=n[0]}a=n}null==a&&(a=""),t=a}a=ct(t),e.defaultValue=a,(n=e.textContent)===a&&""!==n&&null!==n&&(e.value=n)}function Nt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,a){var n=0===t.indexOf("--");null==a||"boolean"===typeof a||""===a?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,a):"number"!==typeof a||0===a||wt.has(t)?"float"===t?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function kt(e,t,a){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=a){for(var n in a)!a.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&St(e,r,n)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return zt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Rt=null;function Dt(e){var t=Je(e);if(t&&(e=t.stateNode)){var a=e[_e]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[_e]||null;if(!r)throw Error(i(90));gt(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)(n=a[t]).form===e.form&&mt(n)}break e;case"textarea":bt(e,a.value,a.defaultValue);break e;case"select":null!=(t=a.value)&&yt(e,!!a.multiple,t,!1)}}}var Lt=!1;function Ot(e,t,a){if(Lt)return e(t,a);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==It||null!==Rt)&&(Mc(),It&&(t=It,e=Rt,Rt=It=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var a=e.stateNode;if(null===a)return null;var n=a[_e]||null;if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(i(231,t,typeof a));return a}var Mt=!1;if(at)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch(jm){Mt=!1}var $t=null,Bt=null,Ut=null;function Ht(){if(Ut)return Ut;var e,t,a=Bt,n=a.length,r="value"in $t?$t.value:$t.textContent,s=r.length;for(e=0;e<n&&a[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&a[n-t]===r[s-t];t++);return Ut=r.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Wt(){return!1}function Gt(e){function t(t,a,n,r,s){for(var i in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qt:Wt,this.isPropagationStopped=Wt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Jt,Qt,Kt,Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Gt(Yt),Zt=A({},Yt,{view:0,detail:0}),ea=Gt(Zt),ta=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Jt=e.screenX-Kt.screenX,Qt=e.screenY-Kt.screenY):Qt=Jt=0,Kt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),aa=Gt(ta),na=Gt(A({},ta,{dataTransfer:0})),ra=Gt(A({},Zt,{relatedTarget:0})),sa=Gt(A({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0})),ia=Gt(A({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),la=Gt(A({},Yt,{data:0})),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function da(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ua[e])&&!!t[e]}function ma(){return da}var ha=Gt(A({},Zt,{key:function(e){if(e.key){var t=oa[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ca[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pa=Gt(A({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),fa=Gt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma})),ga=Gt(A({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0})),va=Gt(A({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xa=Gt(A({},Yt,{newState:0,oldState:0})),ya=[9,13,27,32],ba=at&&"CompositionEvent"in window,ja=null;at&&"documentMode"in document&&(ja=document.documentMode);var Na=at&&"TextEvent"in window&&!ja,wa=at&&(!ba||ja&&8<ja&&11>=ja),Sa=String.fromCharCode(32),ka=!1;function Ca(e,t){switch(e){case"keyup":return-1!==ya.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var za=!1;var Pa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pa[e.type]:"textarea"===t}function Aa(e,t,a,n){It?Rt?Rt.push(n):Rt=[n]:It=n,0<(t=Ou(t,"onChange")).length&&(a=new Xt("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ia=null,Ra=null;function Da(e){zu(e,0)}function La(e){if(mt(Qe(e)))return e}function Oa(e,t){if("change"===e)return t}var Fa=!1;if(at){var Ma;if(at){var _a="oninput"in document;if(!_a){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),_a="function"===typeof $a.oninput}Ma=_a}else Ma=!1;Fa=Ma&&(!document.documentMode||9<document.documentMode)}function Ba(){Ia&&(Ia.detachEvent("onpropertychange",Ua),Ra=Ia=null)}function Ua(e){if("value"===e.propertyName&&La(Ra)){var t=[];Aa(t,Ra,e,At(e)),Ot(Da,t)}}function Ha(e,t,a){"focusin"===e?(Ba(),Ra=a,(Ia=t).attachEvent("onpropertychange",Ua)):"focusout"===e&&Ba()}function Va(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return La(Ra)}function qa(e,t){if("click"===e)return La(t)}function Wa(e,t){if("input"===e||"change"===e)return La(t)}var Ga="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ja(e,t){if(Ga(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!ne.call(t,r)||!Ga(e[r],t[r]))return!1}return!0}function Qa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ka(e,t){var a,n=Qa(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qa(n)}}function Ya(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ya(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Xa(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=ht((e=t.contentWindow).document)}return t}function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function en(e,t){var a=Xa(t);t=e.focusedElem;var n=e.selectionRange;if(a!==t&&t&&t.ownerDocument&&Ya(t.ownerDocument.documentElement,t)){if(null!==n&&Za(t))if(e=n.start,void 0===(a=n.end)&&(a=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(a,t.value.length);else if((a=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){a=a.getSelection();var r=t.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!a.extend&&s>n&&(r=n,n=s,s=r),r=Ka(t,s);var i=Ka(t,n);r&&i&&(1!==a.rangeCount||a.anchorNode!==r.node||a.anchorOffset!==r.offset||a.focusNode!==i.node||a.focusOffset!==i.offset)&&((e=e.createRange()).setStart(r.node,r.offset),a.removeAllRanges(),s>n?(a.addRange(e),a.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),a.addRange(e)))}for(e=[],a=t;a=a.parentNode;)1===a.nodeType&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(a=e[t]).element.scrollLeft=a.left,a.element.scrollTop=a.top}}var tn=at&&"documentMode"in document&&11>=document.documentMode,an=null,nn=null,rn=null,sn=!1;function ln(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;sn||null==an||an!==ht(n)||("selectionStart"in(n=an)&&Za(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},rn&&Ja(rn,n)||(rn=n,0<(n=Ou(nn,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=an)))}function on(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},un={},dn={};function mn(e){if(un[e])return un[e];if(!cn[e])return e;var t,a=cn[e];for(t in a)if(a.hasOwnProperty(t)&&t in dn)return un[e]=a[t];return e}at&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var hn=mn("animationend"),pn=mn("animationiteration"),fn=mn("animationstart"),gn=mn("transitionrun"),vn=mn("transitionstart"),xn=mn("transitioncancel"),yn=mn("transitionend"),bn=new Map,jn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(e,t){bn.set(e,t),et(t,[e])}var wn=[],Sn=0,kn=0;function Cn(){for(var e=Sn,t=kn=Sn=0;t<e;){var a=wn[t];wn[t++]=null;var n=wn[t];wn[t++]=null;var r=wn[t];wn[t++]=null;var s=wn[t];if(wn[t++]=null,null!==n&&null!==r){var i=n.pending;null===i?r.next=r:(r.next=i.next,i.next=r),n.pending=r}0!==s&&Tn(a,r,s)}}function En(e,t,a,n){wn[Sn++]=e,wn[Sn++]=t,wn[Sn++]=a,wn[Sn++]=n,kn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function zn(e,t,a,n){return En(e,t,a,n),An(e)}function Pn(e,t){return En(e,null,null,t),An(e)}function Tn(e,t,a){e.lanes|=a;var n=e.alternate;null!==n&&(n.lanes|=a);for(var r=!1,s=e.return;null!==s;)s.childLanes|=a,null!==(n=s.alternate)&&(n.childLanes|=a),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;r&&null!==t&&3===e.tag&&(s=e.stateNode,r=31-be(a),null===(e=(s=s.hiddenUpdates)[r])?s[r]=[t]:e.push(t),t.lane=536870912|a)}function An(e){if(50<zc)throw zc=0,Pc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var In={},Rn=new WeakMap;function Dn(e,t){if("object"===typeof e&&null!==e){var a=Rn.get(e);return void 0!==a?a:(t={value:e,source:t,stack:O(t)},Rn.set(e,t),t)}return{value:e,source:t,stack:O(t)}}var Ln=[],On=0,Fn=null,Mn=0,_n=[],$n=0,Bn=null,Un=1,Hn="";function Vn(e,t){Ln[On++]=Mn,Ln[On++]=Fn,Fn=e,Mn=t}function qn(e,t,a){_n[$n++]=Un,_n[$n++]=Hn,_n[$n++]=Bn,Bn=e;var n=Un;e=Hn;var r=32-be(n)-1;n&=~(1<<r),a+=1;var s=32-be(t)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Un=1<<32-be(t)+r|a<<r|n,Hn=s+e}else Un=1<<s|a<<r|n,Hn=e}function Wn(e){null!==e.return&&(Vn(e,1),qn(e,1,0))}function Gn(e){for(;e===Fn;)Fn=Ln[--On],Ln[On]=null,Mn=Ln[--On],Ln[On]=null;for(;e===Bn;)Bn=_n[--$n],_n[$n]=null,Hn=_n[--$n],_n[$n]=null,Un=_n[--$n],_n[$n]=null}var Jn=null,Qn=null,Kn=!1,Yn=null,Xn=!1,Zn=Error(i(519));function er(e){throw sr(Dn(Error(i(418,"")),e)),Zn}function tr(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Me]=e,t[_e]=n,a){case"dialog":Pu("cancel",t),Pu("close",t);break;case"iframe":case"object":case"embed":Pu("load",t);break;case"video":case"audio":for(a=0;a<Cu.length;a++)Pu(Cu[a],t);break;case"source":Pu("error",t);break;case"img":case"image":case"link":Pu("error",t),Pu("load",t);break;case"details":Pu("toggle",t);break;case"input":Pu("invalid",t),vt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":Pu("invalid",t);break;case"textarea":Pu("invalid",t),jt(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(a=n.children)&&"number"!==typeof a&&"bigint"!==typeof a||t.textContent===""+a||!0===n.suppressHydrationWarning||Uu(t.textContent,a)?(null!=n.popover&&(Pu("beforetoggle",t),Pu("toggle",t)),null!=n.onScroll&&Pu("scroll",t),null!=n.onScrollEnd&&Pu("scrollend",t),null!=n.onClick&&(t.onclick=Hu),t=!0):t=!1,t||er(e)}function ar(e){for(Jn=e.return;Jn;)switch(Jn.tag){case 3:case 27:return void(Xn=!0);case 5:case 13:return void(Xn=!1);default:Jn=Jn.return}}function nr(e){if(e!==Jn)return!1;if(!Kn)return ar(e),Kn=!0,!1;var t,a=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xu(e.type,e.memoizedProps)),t=!t),t&&(a=!0),a&&Qn&&er(e),ar(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,a=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===a){Qn=ld(e.nextSibling);break e}a--}else"$"!==t&&"$!"!==t&&"$?"!==t||a++;e=e.nextSibling}Qn=null}}else Qn=Jn?ld(e.stateNode.nextSibling):null;return!0}function rr(){Qn=Jn=null,Kn=!1}function sr(e){null===Yn?Yn=[e]:Yn.push(e)}var ir=Error(i(460)),lr=Error(i(474)),or={then:function(){}};function cr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ur(){}function dr(e,t,a){switch(void 0===(a=e[a])?e.push(t):a!==t&&(t.then(ur,ur),t=a),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ir)throw Error(i(483));throw e;default:if("string"===typeof t.status)t.then(ur,ur);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var a=t;a.status="fulfilled",a.value=e}}),(function(e){if("pending"===t.status){var a=t;a.status="rejected",a.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ir)throw Error(i(483));throw e}throw mr=t,ir}}var mr=null;function hr(){if(null===mr)throw Error(i(459));var e=mr;return mr=null,e}var pr=null,fr=0;function gr(e){var t=fr;return fr+=1,null===pr&&(pr=[]),dr(pr,e,t)}function vr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function xr(e,t){if(t.$$typeof===o)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yr(e){return(0,e._init)(e._payload)}function br(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Fo(e,t)).index=0,e.sibling=null,e}function s(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=33554434,a):n:(t.flags|=33554434,a):(t.flags|=1048576,a)}function l(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function o(e,t,a,n){return null===t||6!==t.tag?((t=Uo(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function m(e,t,a,n){var s=a.type;return s===d?p(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&yr(s)===t.type)?(vr(t=r(t,a.props),a),t.return=e,t):(vr(t=_o(a.type,a.key,a.props,null,e.mode,n),a),t.return=e,t)}function h(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Ho(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function p(e,t,a,n,s){return null===t||7!==t.tag?((t=$o(a,e.mode,n,s)).return=e,t):((t=r(t,a)).return=e,t)}function f(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Uo(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vr(a=_o(t.type,t.key,t.props,null,e.mode,a),t),a.return=e,a;case u:return(t=Ho(t,e.mode,a)).return=e,t;case j:return f(e,t=(0,t._init)(t._payload),a)}if(B(t)||k(t))return(t=$o(t,e.mode,a,null)).return=e,t;if("function"===typeof t.then)return f(e,gr(t),a);if(t.$$typeof===g)return f(e,kl(e,t),a);xr(e,t)}return null}function v(e,t,a,n){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return null!==r?null:o(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case c:return a.key===r?m(e,t,a,n):null;case u:return a.key===r?h(e,t,a,n):null;case j:return v(e,t,a=(r=a._init)(a._payload),n)}if(B(a)||k(a))return null!==r?null:p(e,t,a,n,null);if("function"===typeof a.then)return v(e,t,gr(a),n);if(a.$$typeof===g)return v(e,t,kl(e,a),n);xr(e,a)}return null}function x(e,t,a,n,r){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return o(t,e=e.get(a)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return m(t,e=e.get(null===n.key?a:n.key)||null,n,r);case u:return h(t,e=e.get(null===n.key?a:n.key)||null,n,r);case j:return x(e,t,a,n=(0,n._init)(n._payload),r)}if(B(n)||k(n))return p(t,e=e.get(a)||null,n,r,null);if("function"===typeof n.then)return x(e,t,a,gr(n),r);if(n.$$typeof===g)return x(e,t,a,kl(t,n),r);xr(t,n)}return null}function y(o,m,h,p){if("object"===typeof h&&null!==h&&h.type===d&&null===h.key&&(h=h.props.children),"object"===typeof h&&null!==h){switch(h.$$typeof){case c:e:{for(var b=h.key;null!==m;){if(m.key===b){if((b=h.type)===d){if(7===m.tag){a(o,m.sibling),(p=r(m,h.props.children)).return=o,o=p;break e}}else if(m.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===j&&yr(b)===m.type){a(o,m.sibling),vr(p=r(m,h.props),h),p.return=o,o=p;break e}a(o,m);break}t(o,m),m=m.sibling}h.type===d?((p=$o(h.props.children,o.mode,p,h.key)).return=o,o=p):(vr(p=_o(h.type,h.key,h.props,null,o.mode,p),h),p.return=o,o=p)}return l(o);case u:e:{for(b=h.key;null!==m;){if(m.key===b){if(4===m.tag&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){a(o,m.sibling),(p=r(m,h.children||[])).return=o,o=p;break e}a(o,m);break}t(o,m),m=m.sibling}(p=Ho(h,o.mode,p)).return=o,o=p}return l(o);case j:return y(o,m,h=(b=h._init)(h._payload),p)}if(B(h))return function(r,i,l,o){for(var c=null,u=null,d=i,m=i=0,h=null;null!==d&&m<l.length;m++){d.index>m?(h=d,d=null):h=d.sibling;var p=v(r,d,l[m],o);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(r,d),i=s(p,i,m),null===u?c=p:u.sibling=p,u=p,d=h}if(m===l.length)return a(r,d),Kn&&Vn(r,m),c;if(null===d){for(;m<l.length;m++)null!==(d=f(r,l[m],o))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return Kn&&Vn(r,m),c}for(d=n(d);m<l.length;m++)null!==(h=x(d,r,m,l[m],o))&&(e&&null!==h.alternate&&d.delete(null===h.key?m:h.key),i=s(h,i,m),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach((function(e){return t(r,e)})),Kn&&Vn(r,m),c}(o,m,h,p);if(k(h)){if("function"!==typeof(b=k(h)))throw Error(i(150));return function(r,l,o,c){if(null==o)throw Error(i(151));for(var u=null,d=null,m=l,h=l=0,p=null,g=o.next();null!==m&&!g.done;h++,g=o.next()){m.index>h?(p=m,m=null):p=m.sibling;var y=v(r,m,g.value,c);if(null===y){null===m&&(m=p);break}e&&m&&null===y.alternate&&t(r,m),l=s(y,l,h),null===d?u=y:d.sibling=y,d=y,m=p}if(g.done)return a(r,m),Kn&&Vn(r,h),u;if(null===m){for(;!g.done;h++,g=o.next())null!==(g=f(r,g.value,c))&&(l=s(g,l,h),null===d?u=g:d.sibling=g,d=g);return Kn&&Vn(r,h),u}for(m=n(m);!g.done;h++,g=o.next())null!==(g=x(m,r,h,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?h:g.key),l=s(g,l,h),null===d?u=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(r,e)})),Kn&&Vn(r,h),u}(o,m,h=b.call(h),p)}if("function"===typeof h.then)return y(o,m,gr(h),p);if(h.$$typeof===g)return y(o,m,kl(o,h),p);xr(o,h)}return"string"===typeof h&&""!==h||"number"===typeof h||"bigint"===typeof h?(h=""+h,null!==m&&6===m.tag?(a(o,m.sibling),(p=r(m,h)).return=o,o=p):(a(o,m),(p=Uo(h,o.mode,p)).return=o,o=p),l(o)):a(o,m)}return function(e,t,a,n){try{fr=0;var r=y(e,t,a,n);return pr=null,r}catch(i){if(i===ir)throw i;var s=Lo(29,i,null,e.mode);return s.lanes=n,s.return=e,s}}}var jr=br(!0),Nr=br(!1),wr=W(null),Sr=W(0);function kr(e,t){J(Sr,e=cc),J(wr,t),cc=e|t.baseLanes}function Cr(){J(Sr,cc),J(wr,wr.current)}function Er(){cc=Sr.current,G(wr),G(Sr)}var zr=W(null),Pr=null;function Tr(e){var t=e.alternate;J(Dr,1&Dr.current),J(zr,e),null===Pr&&(null===t||null!==wr.current||null!==t.memoizedState)&&(Pr=e)}function Ar(e){if(22===e.tag){if(J(Dr,Dr.current),J(zr,e),null===Pr){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Pr=e)}}else Ir()}function Ir(){J(Dr,Dr.current),J(zr,zr.current)}function Rr(e){G(zr),Pr===e&&(Pr=null),G(Dr)}var Dr=W(0);function Lr(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Or="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fr=n.unstable_scheduleCallback,Mr=n.unstable_NormalPriority,_r={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $r(){return{controller:new Or,data:new Map,refCount:0}}function Br(e){e.refCount--,0===e.refCount&&Fr(Mr,(function(){e.controller.abort()}))}var Ur=null,Hr=0,Vr=0,qr=null;function Wr(){if(0===--Hr&&null!==Ur){null!==qr&&(qr.status="fulfilled");var e=Ur;Ur=null,Vr=0,qr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gr=T.S;T.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ur){var a=Ur=[];Hr=0,Vr=ju(),qr={status:"pending",value:void 0,then:function(e){a.push(e)}}}Hr++,t.then(Wr,Wr)}(0,t),null!==Gr&&Gr(e,t)};var Jr=W(null);function Qr(){var e=Jr.current;return null!==e?e:tc.pooledCache}function Kr(e,t){J(Jr,null===t?Jr.current:t.pool)}function Yr(){var e=Qr();return null===e?null:{parent:_r._currentValue,pool:e}}var Xr=0,Zr=null,es=null,ts=null,as=!1,ns=!1,rs=!1,ss=0,is=0,ls=null,os=0;function cs(){throw Error(i(321))}function us(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ga(e[a],t[a]))return!1;return!0}function ds(e,t,a,n,r,s){return Xr=s,Zr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=null===e||null===e.memoizedState?ki:Ci,rs=!1,s=a(n,r),rs=!1,ns&&(s=hs(t,a,n,r)),ms(e),s}function ms(e){T.H=Si;var t=null!==es&&null!==es.next;if(Xr=0,ts=es=Zr=null,as=!1,is=0,ls=null,t)throw Error(i(300));null===e||Hi||null!==(e=e.dependencies)&&Nl(e)&&(Hi=!0)}function hs(e,t,a,n){Zr=e;var r=0;do{if(ns&&(ls=null),is=0,ns=!1,25<=r)throw Error(i(301));if(r+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}T.H=Ei,s=t(a,n)}while(ns);return s}function ps(){var e=T.H,t=e.useState()[0];return t="function"===typeof t.then?bs(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Zr.flags|=1024),t}function fs(){var e=0!==ss;return ss=0,e}function gs(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function vs(e){if(as){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}as=!1}Xr=0,ts=es=Zr=null,ns=!1,is=ss=0,ls=null}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zr.memoizedState=ts=e:ts=ts.next=e,ts}function ys(){if(null===es){var e=Zr.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zr.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Zr.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zr.memoizedState=ts=e:ts=ts.next=e}return ts}function bs(e){var t=is;return is+=1,null===ls&&(ls=[]),e=dr(ls,e,t),t=Zr,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,T.H=null===t||null===t.memoizedState?ki:Ci),e}function js(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return bs(e);if(e.$$typeof===g)return Sl(e)}throw Error(i(438,String(e)))}function Ns(e){var t=null,a=Zr.updateQueue;if(null!==a&&(t=a.memoCache),null==t){var n=Zr.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},Zr.updateQueue=a),a.memoCache=t,void 0===(a=t.data[t.index]))for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=w;return t.index++,a}function ws(e,t){return"function"===typeof t?t(e):t}function Ss(e){return ks(ys(),es,e)}function ks(e,t,a){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=a;var r=e.baseQueue,s=n.pending;if(null!==s){if(null!==r){var l=r.next;r.next=s.next,s.next=l}t.baseQueue=r=s,n.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{var o=l=null,c=null,u=t=r.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(nc&m)===m:(Xr&m)===m){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Vr&&(d=!0);else{if((Xr&h)===h){u=u.next,h===Vr&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,l=s):c=c.next=m,Zr.lanes|=h,dc|=h}m=u.action,rs&&a(s,m),s=u.hasEagerState?u.eagerState:a(s,m)}else h={lane:m,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=h,l=s):c=c.next=h,Zr.lanes|=m,dc|=m;u=u.next}while(null!==u&&u!==t);if(null===c?l=s:c.next=o,!Ga(s,e.memoizedState)&&(Hi=!0,d&&null!==(a=qr)))throw a;e.memoizedState=s,e.baseState=l,e.baseQueue=c,n.lastRenderedState=s}return null===r&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Cs(e){var t=ys(),a=t.queue;if(null===a)throw Error(i(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,s=t.memoizedState;if(null!==r){a.pending=null;var l=r=r.next;do{s=e(s,l.action),l=l.next}while(l!==r);Ga(s,t.memoizedState)||(Hi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Es(e,t,a){var n=Zr,r=ys(),s=Kn;if(s){if(void 0===a)throw Error(i(407));a=a()}else a=t();var l=!Ga((es||r).memoizedState,a);if(l&&(r.memoizedState=a,Hi=!0),r=r.queue,Xs(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==ts&&1&ts.memoizedState.tag){if(n.flags|=2048,Gs(9,Ps.bind(null,n,r,a,t),{destroy:void 0},null),null===tc)throw Error(i(349));s||0!==(60&Xr)||zs(n,t,a)}return a}function zs(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=Zr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zr.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Ps(e,t,a,n){t.value=a,t.getSnapshot=n,As(t)&&Is(e)}function Ts(e,t,a){return a((function(){As(t)&&Is(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ga(e,a)}catch(n){return!0}}function Is(e){var t=Pn(e,2);null!==t&&Ic(t,e,2)}function Rs(e){var t=xs();if("function"===typeof e){var a=e;if(e=a(),rs){ye(!0);try{a()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t}function Ds(e,t,a,n){return e.baseState=a,ks(e,es,"function"===typeof n?n:ws)}function Ls(e,t,a,n,r){if(ji(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==T.T?a(!0):s.isTransition=!1,n(s),null===(a=t.pending)?(s.next=t.pending=s,Os(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Os(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var s=T.T,i={};T.T=i;try{var l=a(r,n),o=T.S;null!==o&&o(i,l),Fs(e,t,l)}catch(c){_s(e,t,c)}finally{T.T=s}}else try{Fs(e,t,s=a(r,n))}catch(u){_s(e,t,u)}}function Fs(e,t,a){null!==a&&"object"===typeof a&&"function"===typeof a.then?a.then((function(a){Ms(e,t,a)}),(function(a){return _s(e,t,a)})):Ms(e,t,a)}function Ms(e,t,a){t.status="fulfilled",t.value=a,$s(t),e.state=a,null!==(t=e.pending)&&((a=t.next)===t?e.pending=null:(a=a.next,t.next=a,Os(e,a)))}function _s(e,t,a){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=a,$s(t),t=t.next}while(t!==n)}e.action=null}function $s(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bs(e,t){return t}function Us(e,t){if(Kn){var a=tc.formState;if(null!==a){e:{var n=Zr;if(Kn){if(Qn){t:{for(var r=Qn,s=Xn;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=ld(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){Qn=ld(r.nextSibling),n="F!"===r.data;break e}}er(n)}n=!1}n&&(t=a[0])}}return(a=xs()).memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},a.queue=n,a=xi.bind(null,Zr,n),n.dispatch=a,n=Rs(!1),s=bi.bind(null,Zr,!1,n.queue),r={state:t,dispatch:null,action:e,pending:null},(n=xs()).queue=r,a=Ls.bind(null,Zr,r,s,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function Hs(e){return Vs(ys(),es,e)}function Vs(e,t,a){t=ks(e,t,Bs)[0],e=Ss(ws)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?bs(t):t;var n=ys(),r=n.queue,s=r.dispatch;return a!==n.memoizedState&&(Zr.flags|=2048,Gs(9,qs.bind(null,r,a),{destroy:void 0},null)),[t,s,e]}function qs(e,t){e.action=t}function Ws(e){var t=ys(),a=es;if(null!==a)return Vs(t,a,e);ys(),t=t.memoizedState;var n=(a=ys()).queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Gs(e,t,a,n){return e={tag:e,create:t,inst:a,deps:n,next:null},null===(t=Zr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zr.updateQueue=t),null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Js(){return ys().memoizedState}function Qs(e,t,a,n){var r=xs();Zr.flags|=e,r.memoizedState=Gs(1|t,a,{destroy:void 0},void 0===n?null:n)}function Ks(e,t,a,n){var r=ys();n=void 0===n?null:n;var s=r.memoizedState.inst;null!==es&&null!==n&&us(n,es.memoizedState.deps)?r.memoizedState=Gs(t,a,s,n):(Zr.flags|=e,r.memoizedState=Gs(1|t,a,s,n))}function Ys(e,t){Qs(8390656,8,e,t)}function Xs(e,t){Ks(2048,8,e,t)}function Zs(e,t){return Ks(4,2,e,t)}function ei(e,t){return Ks(4,4,e,t)}function ti(e,t){if("function"===typeof t){e=e();var a=t(e);return function(){"function"===typeof a?a():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ai(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Ks(4,4,ti.bind(null,t,e),a)}function ni(){}function ri(e,t){var a=ys();t=void 0===t?null:t;var n=a.memoizedState;return null!==t&&us(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function si(e,t){var a=ys();t=void 0===t?null:t;var n=a.memoizedState;if(null!==t&&us(t,n[1]))return n[0];if(n=e(),rs){ye(!0);try{e()}finally{ye(!1)}}return a.memoizedState=[n,t],n}function ii(e,t,a){return void 0===a||0!==(1073741824&Xr)?e.memoizedState=t:(e.memoizedState=a,e=Ac(),Zr.lanes|=e,dc|=e,a)}function li(e,t,a,n){return Ga(a,t)?a:null!==wr.current?(e=ii(e,a,n),Ga(e,t)||(Hi=!0),e):0===(42&Xr)?(Hi=!0,e.memoizedState=a):(e=Ac(),Zr.lanes|=e,dc|=e,t)}function oi(e,t,a,n,r){var s=U.p;U.p=0!==s&&8>s?s:8;var i=T.T,l={};T.T=l,bi(e,!1,t,a);try{var o=r(),c=T.S;if(null!==c&&c(l,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)yi(e,t,function(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then((function(){n.status="fulfilled",n.value=t;for(var e=0;e<a.length;e++)(0,a[e])(t)}),(function(e){for(n.status="rejected",n.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)})),n}(o,n),Tc());else yi(e,t,n,Tc())}catch(u){yi(e,t,{then:function(){},status:"rejected",reason:u},Tc())}finally{U.p=s,T.T=i}}function ci(){}function ui(e,t,a,n){if(5!==e.tag)throw Error(i(476));var r=di(e).queue;oi(e,r,t,H,null===a?ci:function(){return mi(e),a(n)})}function di(e){var t=e.memoizedState;if(null!==t)return t;var a={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:H},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:a},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function mi(e){yi(e,di(e).next.queue,{},Tc())}function hi(){return Sl(Od)}function pi(){return ys().memoizedState}function fi(){return ys().memoizedState}function gi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var a=Tc(),n=Al(t,e=Tl(a),a);return null!==n&&(Ic(n,t,a),Il(n,t,a)),t={cache:$r()},void(e.payload=t)}t=t.return}}function vi(e,t,a){var n=Tc();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ji(e)?Ni(t,a):null!==(a=zn(e,t,a,n))&&(Ic(a,e,n),wi(a,t,n))}function xi(e,t,a){yi(e,t,a,Tc())}function yi(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ji(e))Ni(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,a);if(r.hasEagerState=!0,r.eagerState=l,Ga(l,i))return En(e,t,r,0),null===tc&&Cn(),!1}catch(o){}if(null!==(a=zn(e,t,r,n)))return Ic(a,e,n),wi(a,t,n),!0}return!1}function bi(e,t,a,n){if(n={lane:2,revertLane:ju(),action:n,hasEagerState:!1,eagerState:null,next:null},ji(e)){if(t)throw Error(i(479))}else null!==(t=zn(e,a,n,2))&&Ic(t,e,2)}function ji(e){var t=e.alternate;return e===Zr||null!==t&&t===Zr}function Ni(e,t){ns=as=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function wi(e,t,a){if(0!==(4194176&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,De(e,a)}}var Si={readContext:Sl,use:js,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs};Si.useCacheRefresh=cs,Si.useMemoCache=cs,Si.useHostTransitionStatus=cs,Si.useFormState=cs,Si.useActionState=cs,Si.useOptimistic=cs;var ki={readContext:Sl,use:js,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Sl,useEffect:Ys,useImperativeHandle:function(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Qs(4194308,4,ti.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){Qs(4,2,e,t)},useMemo:function(e,t){var a=xs();t=void 0===t?null:t;var n=e();if(rs){ye(!0);try{e()}finally{ye(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=xs();if(void 0!==a){var r=a(t);if(rs){ye(!0);try{a(t)}finally{ye(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=vi.bind(null,Zr,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:function(e){var t=(e=Rs(e)).queue,a=xi.bind(null,Zr,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ni,useDeferredValue:function(e,t){return ii(xs(),e,t)},useTransition:function(){var e=Rs(!1);return e=oi.bind(null,Zr,e.queue,!0,!1),xs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Zr,r=xs();if(Kn){if(void 0===a)throw Error(i(407));a=a()}else{if(a=t(),null===tc)throw Error(i(349));0!==(60&nc)||zs(n,t,a)}r.memoizedState=a;var s={value:a,getSnapshot:t};return r.queue=s,Ys(Ts.bind(null,n,s,e),[e]),n.flags|=2048,Gs(9,Ps.bind(null,n,s,a,t),{destroy:void 0},null),a},useId:function(){var e=xs(),t=tc.identifierPrefix;if(Kn){var a=Hn;t=":"+t+"R"+(a=(Un&~(1<<32-be(Un)-1)).toString(32)+a),0<(a=ss++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=os++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return xs().memoizedState=gi.bind(null,Zr)}};ki.useMemoCache=Ns,ki.useHostTransitionStatus=hi,ki.useFormState=Us,ki.useActionState=Us,ki.useOptimistic=function(e){var t=xs();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=bi.bind(null,Zr,!0,a),a.dispatch=t,[e,t]};var Ci={readContext:Sl,use:js,useCallback:ri,useContext:Sl,useEffect:Xs,useImperativeHandle:ai,useInsertionEffect:Zs,useLayoutEffect:ei,useMemo:si,useReducer:Ss,useRef:Js,useState:function(){return Ss(ws)},useDebugValue:ni,useDeferredValue:function(e,t){return li(ys(),es.memoizedState,e,t)},useTransition:function(){var e=Ss(ws)[0],t=ys().memoizedState;return["boolean"===typeof e?e:bs(e),t]},useSyncExternalStore:Es,useId:pi};Ci.useCacheRefresh=fi,Ci.useMemoCache=Ns,Ci.useHostTransitionStatus=hi,Ci.useFormState=Hs,Ci.useActionState=Hs,Ci.useOptimistic=function(e,t){return Ds(ys(),0,e,t)};var Ei={readContext:Sl,use:js,useCallback:ri,useContext:Sl,useEffect:Xs,useImperativeHandle:ai,useInsertionEffect:Zs,useLayoutEffect:ei,useMemo:si,useReducer:Cs,useRef:Js,useState:function(){return Cs(ws)},useDebugValue:ni,useDeferredValue:function(e,t){var a=ys();return null===es?ii(a,e,t):li(a,es.memoizedState,e,t)},useTransition:function(){var e=Cs(ws)[0],t=ys().memoizedState;return["boolean"===typeof e?e:bs(e),t]},useSyncExternalStore:Es,useId:pi};function zi(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:A({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}Ei.useCacheRefresh=fi,Ei.useMemoCache=Ns,Ei.useHostTransitionStatus=hi,Ei.useFormState=Ws,Ei.useActionState=Ws,Ei.useOptimistic=function(e,t){var a=ys();return null!==es?Ds(a,0,e,t):(a.baseState=e,[e,a.queue.dispatch])};var Pi={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Tc(),r=Tl(n);r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=Al(e,r,n))&&(Ic(t,e,n),Il(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Tc(),r=Tl(n);r.tag=1,r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=Al(e,r,n))&&(Ic(t,e,n),Il(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Tc(),n=Tl(a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Al(e,n,a))&&(Ic(t,e,a),Il(t,e,a))}};function Ti(e,t,a,n,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Ja(a,n)||!Ja(r,s))}function Ai(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function Ii(e,t){var a=t;if("ref"in t)for(var n in a={},t)"ref"!==n&&(a[n]=t[n]);if(e=e.defaultProps)for(var r in a===t&&(a=A({},a)),e)void 0===a[r]&&(a[r]=e[r]);return a}var Ri="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Di(e){Ri(e)}function Li(e){console.error(e)}function Oi(e){Ri(e)}function Fi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(a){setTimeout((function(){throw a}))}}function Mi(e,t,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout((function(){throw n}))}}function _i(e,t,a){return(a=Tl(a)).tag=3,a.payload={element:null},a.callback=function(){Fi(e,t)},a}function $i(e){return(e=Tl(e)).tag=3,e}function Bi(e,t,a,n){var r=a.type.getDerivedStateFromError;if("function"===typeof r){var s=n.value;e.payload=function(){return r(s)},e.callback=function(){Mi(t,a,n)}}var i=a.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Mi(t,a,n),"function"!==typeof r&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Ui=Error(i(461)),Hi=!1;function Vi(e,t,a,n){t.child=null===e?Nr(t,null,a,n):jr(t,e.child,a,n)}function qi(e,t,a,n,r){a=a.render;var s=t.ref;if("ref"in n){var i={};for(var l in n)"ref"!==l&&(i[l]=n[l])}else i=n;return wl(t),n=ds(e,t,a,i,s,r),l=fs(),null===e||Hi?(Kn&&l&&Wn(t),t.flags|=1,Vi(e,t,n,r),t.child):(gs(e,t,r),dl(e,t,r))}function Wi(e,t,a,n,r){if(null===e){var s=a.type;return"function"!==typeof s||Oo(s)||void 0!==s.defaultProps||null!==a.compare?((e=_o(a.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Gi(e,t,s,n,r))}if(s=e.child,!ml(e,r)){var i=s.memoizedProps;if((a=null!==(a=a.compare)?a:Ja)(i,n)&&e.ref===t.ref)return dl(e,t,r)}return t.flags|=1,(e=Fo(s,n)).ref=t.ref,e.return=t,t.child=e}function Gi(e,t,a,n,r){if(null!==e){var s=e.memoizedProps;if(Ja(s,n)&&e.ref===t.ref){if(Hi=!1,t.pendingProps=n=s,!ml(e,r))return t.lanes=e.lanes,dl(e,t,r);0!==(131072&e.flags)&&(Hi=!0)}}return Yi(e,t,a,n,r)}function Ji(e,t,a){var n=t.pendingProps,r=n.children,s=0!==(2&t.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(Ki(e,t),"hidden"===n.mode||s){if(0!==(128&t.flags)){if(n=null!==i?i.baseLanes|a:a,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~n}else t.childLanes=0,t.child=null;return Qi(e,t,n,a)}if(0===(536870912&a))return t.lanes=t.childLanes=536870912,Qi(e,t,null!==i?i.baseLanes|a:a,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Kr(0,null!==i?i.cachePool:null),null!==i?kr(t,i):Cr(),Ar(t)}else null!==i?(Kr(0,i.cachePool),kr(t,i),Ir(),t.memoizedState=null):(null!==e&&Kr(0,null),Cr(),Ir());return Vi(e,t,r,a),t.child}function Qi(e,t,a,n){var r=Qr();return r=null===r?null:{parent:_r._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},null!==e&&Kr(0,null),Cr(),Ar(t),null!==e&&jl(e,t,n,!0),null}function Ki(e,t){var a=t.ref;if(null===a)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof a&&"object"!==typeof a)throw Error(i(284));null!==e&&e.ref===a||(t.flags|=2097664)}}function Yi(e,t,a,n,r){return wl(t),a=ds(e,t,a,n,void 0,r),n=fs(),null===e||Hi?(Kn&&n&&Wn(t),t.flags|=1,Vi(e,t,a,r),t.child):(gs(e,t,r),dl(e,t,r))}function Xi(e,t,a,n,r,s){return wl(t),t.updateQueue=null,a=hs(t,n,a,r),ms(e),n=fs(),null===e||Hi?(Kn&&n&&Wn(t),t.flags|=1,Vi(e,t,a,s),t.child):(gs(e,t,s),dl(e,t,s))}function Zi(e,t,a,n,r){if(wl(t),null===t.stateNode){var s=In,i=a.contextType;"object"===typeof i&&null!==i&&(s=Sl(i)),s=new a(n,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Pi,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=n,s.state=t.memoizedState,s.refs={},zl(t),i=a.contextType,s.context="object"===typeof i&&null!==i?Sl(i):In,s.state=t.memoizedState,"function"===typeof(i=a.getDerivedStateFromProps)&&(zi(t,a,i,n),s.state=t.memoizedState),"function"===typeof a.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&Pi.enqueueReplaceState(s,s.state,null),Ol(t,n,s,r),Ll(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=Ii(a,l);s.props=o;var c=s.context,u=a.contextType;i=In,"object"===typeof u&&null!==u&&(i=Sl(u));var d=a.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l||c!==i)&&Ai(t,s,n,i),El=!1;var m=t.memoizedState;s.state=m,Ol(t,n,s,r),Ll(),c=t.memoizedState,l||m!==c||El?("function"===typeof d&&(zi(t,a,d,n),c=t.memoizedState),(o=El||Ti(t,a,o,n,m,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=i,n=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Pl(e,t),u=Ii(a,i=t.memoizedProps),s.props=u,d=t.pendingProps,m=s.context,c=a.contextType,o=In,"object"===typeof c&&null!==c&&(o=Sl(c)),(c="function"===typeof(l=a.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||m!==o)&&Ai(t,s,n,o),El=!1,m=t.memoizedState,s.state=m,Ol(t,n,s,r),Ll();var h=t.memoizedState;i!==d||m!==h||El||null!==e&&null!==e.dependencies&&Nl(e.dependencies)?("function"===typeof l&&(zi(t,a,l,n),h=t.memoizedState),(u=El||Ti(t,a,u,n,m,h,o)||null!==e&&null!==e.dependencies&&Nl(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,h,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,h,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=o,n=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,Ki(e,t),n=0!==(128&t.flags),s||n?(s=t.stateNode,a=n&&"function"!==typeof a.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&n?(t.child=jr(t,e.child,null,r),t.child=jr(t,null,a,r)):Vi(e,t,a,r),t.memoizedState=s.state,e=t.child):e=dl(e,t,r),e}function el(e,t,a,n){return rr(),t.flags|=256,Vi(e,t,a,n),t.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function al(e){return{baseLanes:e,cachePool:Yr()}}function nl(e,t,a){return e=null!==e?e.childLanes&~a:0,t&&(e|=pc),e}function rl(e,t,a){var n,r=t.pendingProps,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Dr.current)),n&&(s=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(Kn){if(s?Tr(t):Ir(),Kn){var o,c=Qn;if(o=c){e:{for(o=c,c=Xn;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=ld(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Bn?{id:Un,overflow:Hn}:null,retryLane:536870912},(o=Lo(18,null,null,0)).stateNode=c,o.return=t,t.child=o,Jn=t,Qn=null,o=!0):o=!1}o||er(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Rr(t)}return c=r.children,r=r.fallback,s?(Ir(),c=il({mode:"hidden",children:c},s=t.mode),r=$o(r,s,a,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(s=t.child).memoizedState=al(a),s.childLanes=nl(e,n,a),t.memoizedState=tl,r):(Tr(t),sl(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(l)256&t.flags?(Tr(t),t.flags&=-257,t=ll(e,t,a)):null!==t.memoizedState?(Ir(),t.child=e.child,t.flags|=128,t=null):(Ir(),s=r.fallback,c=t.mode,r=il({mode:"visible",children:r.children},c),(s=$o(s,c,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,jr(t,e.child,null,a),(r=t.child).memoizedState=al(a),r.childLanes=nl(e,n,a),t.memoizedState=tl,t=s);else if(Tr(t),"$!"===c.data){if(n=c.nextSibling&&c.nextSibling.dataset)var u=n.dgst;n=u,(r=Error(i(419))).stack="",r.digest=n,sr({value:r,source:null,stack:null}),t=ll(e,t,a)}else if(Hi||jl(e,t,a,!1),n=0!==(a&e.childLanes),Hi||n){if(null!==(n=tc)){if(0!==(42&(r=a&-a)))r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(0!==(r=0!==(r&(n.suspendedLanes|a))?0:r)&&r!==o.retryLane)throw o.retryLane=r,Pn(e,r),Ic(n,e,r),Ui}"$?"===c.data||Vc(),t=ll(e,t,a)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=lu.bind(null,e),c._reactRetry=t,t=null):(e=o.treeContext,Qn=ld(c.nextSibling),Jn=t,Kn=!0,Yn=null,Xn=!1,null!==e&&(_n[$n++]=Un,_n[$n++]=Hn,_n[$n++]=Bn,Un=e.id,Hn=e.overflow,Bn=t),(t=sl(t,r.children)).flags|=4096);return t}return s?(Ir(),s=r.fallback,c=t.mode,u=(o=e.child).sibling,(r=Fo(o,{mode:"hidden",children:r.children})).subtreeFlags=31457280&o.subtreeFlags,null!==u?s=Fo(u,s):(s=$o(s,c,a,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,null===(c=e.child.memoizedState)?c=al(a):(null!==(o=c.cachePool)?(u=_r._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Yr(),c={baseLanes:c.baseLanes|a,cachePool:o}),s.memoizedState=c,s.childLanes=nl(e,n,a),t.memoizedState=tl,r):(Tr(t),e=(a=e.child).sibling,(a=Fo(a,{mode:"visible",children:r.children})).return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a)}function sl(e,t){return(t=il({mode:"visible",children:t},e.mode)).return=e,e.child=t}function il(e,t){return Bo(e,t,0,null)}function ll(e,t,a){return jr(t,e.child,null,a),(e=sl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ol(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),yl(e.return,t,a)}function cl(e,t,a,n,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=r)}function ul(e,t,a){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(Vi(e,t,n.children,a),0!==(2&(n=Dr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ol(e,a,t);else if(19===e.tag)ol(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(J(Dr,n),r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===Lr(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),cl(t,!1,r,a,s);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Lr(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}cl(t,!0,a,null,s);break;case"together":cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(a&t.childLanes)){if(null===e)return null;if(jl(e,t,a,!1),0===(a&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(a=Fo(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Fo(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function ml(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Nl(e))}function hl(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps)Hi=!0;else{if(!ml(e,a)&&0===(128&t.flags))return Hi=!1,function(e,t,a){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),vl(t,_r,e.memoizedState.cache),rr();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:vl(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Tr(t),t.flags|=128,null):0!==(a&t.child.childLanes)?rl(e,t,a):(Tr(t),null!==(e=dl(e,t,a))?e.sibling:null);Tr(t);break;case 19:var r=0!==(128&e.flags);if((n=0!==(a&t.childLanes))||(jl(e,t,a,!1),n=0!==(a&t.childLanes)),r){if(n)return ul(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),J(Dr,Dr.current),n)break;return null;case 22:case 23:return t.lanes=0,Ji(e,t,a);case 24:vl(t,_r,e.memoizedState.cache)}return dl(e,t,a)}(e,t,a);Hi=0!==(131072&e.flags)}else Hi=!1,Kn&&0!==(1048576&t.flags)&&qn(t,Mn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((r=n.$$typeof)===v){t.tag=11,t=qi(null,t,n,e,a);break e}if(r===b){t.tag=14,t=Wi(null,t,n,e,a);break e}}throw t=E(n)||n,Error(i(306,t,""))}Oo(n)?(e=Ii(n,e),t.tag=1,t=Zi(null,t,n,e,a)):(t.tag=0,t=Yi(null,t,n,e,a))}return t;case 0:return Yi(e,t,t.type,t.pendingProps,a);case 1:return Zi(e,t,n=t.type,r=Ii(n,t.pendingProps),a);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(i(387));var s=t.pendingProps;n=(r=t.memoizedState).element,Pl(e,t),Ol(t,s,null,a);var l=t.memoizedState;if(s=l.cache,vl(t,_r,s),s!==r.cache&&bl(t,[_r],a,!0),Ll(),s=l.element,r.isDehydrated){if(r={element:s,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=el(e,t,s,a);break e}if(s!==n){sr(n=Dn(Error(i(424)),t)),t=el(e,t,s,a);break e}for(Qn=ld(t.stateNode.containerInfo.firstChild),Jn=t,Kn=!0,Yn=null,Xn=!0,a=Nr(t,null,s,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(rr(),s===n){t=dl(e,t,a);break e}Vi(e,t,s,a)}t=t.child}return t;case 26:return Ki(e,t),null===e?(a=gd(t.type,null,t.pendingProps,null))?t.memoizedState=a:Kn||(a=t.type,e=t.pendingProps,(n=Qu(Y.current).createElement(a))[Me]=t,n[_e]=e,Wu(n,a,e),Ye(n),t.stateNode=n):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Kn&&(n=t.stateNode=cd(t.type,t.pendingProps,Y.current),Jn=t,Xn=!0,Qn=ld(n.firstChild)),n=t.pendingProps.children,null!==e||Kn?Vi(e,t,n,a):t.child=jr(t,null,n,a),Ki(e,t),t.child;case 5:return null===e&&Kn&&((r=n=Qn)&&(null!==(n=function(e,t,a,n){for(;1===e.nodeType;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=ld(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,Xn))?(t.stateNode=n,Jn=t,Qn=ld(n.firstChild),Xn=!1,r=!0):r=!1),r||er(t)),te(t),r=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,n=s.children,Xu(r,s)?n=null:null!==l&&Xu(r,l)&&(t.flags|=32),null!==t.memoizedState&&(r=ds(e,t,ps,null,null,a),Od._currentValue=r),Ki(e,t),Vi(e,t,n,a),t.child;case 6:return null===e&&Kn&&((e=a=Qn)&&(null!==(a=function(e,t,a){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=ld(e.nextSibling)))return null}return e}(a,t.pendingProps,Xn))?(t.stateNode=a,Jn=t,Qn=null,e=!0):e=!1),e||er(t)),null;case 13:return rl(e,t,a);case 4:return Z(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=jr(t,null,n,a):Vi(e,t,n,a),t.child;case 11:return qi(e,t,t.type,t.pendingProps,a);case 7:return Vi(e,t,t.pendingProps,a),t.child;case 8:case 12:return Vi(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,vl(t,t.type,n.value),Vi(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,wl(t),n=n(r=Sl(r)),t.flags|=1,Vi(e,t,n,a),t.child;case 14:return Wi(e,t,t.type,t.pendingProps,a);case 15:return Gi(e,t,t.type,t.pendingProps,a);case 19:return ul(e,t,a);case 22:return Ji(e,t,a);case 24:return wl(t),n=Sl(_r),null===e?(null===(r=Qr())&&(r=tc,s=$r(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=a),r=s),t.memoizedState={parent:n,cache:r},zl(t),vl(t,_r,r)):(0!==(e.lanes&a)&&(Pl(e,t),Ol(t,null,null,a),Ll()),r=e.memoizedState,s=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),vl(t,_r,n)):(n=s.cache,vl(t,_r,n),n!==r.cache&&bl(t,[_r],a,!0))),Vi(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var pl=W(null),fl=null,gl=null;function vl(e,t,a){J(pl,t._currentValue),t._currentValue=a}function xl(e){e._currentValue=pl.current,G(pl)}function yl(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function bl(e,t,a,n){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var s=r.dependencies;if(null!==s){var l=r.child;s=s.firstContext;e:for(;null!==s;){var o=s;s=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){s.lanes|=a,null!==(o=s.alternate)&&(o.lanes|=a),yl(s.return,a,e),n||(l=null);break e}s=o.next}}else if(18===r.tag){if(null===(l=r.return))throw Error(i(341));l.lanes|=a,null!==(s=l.alternate)&&(s.lanes|=a),yl(l,a,e),l=null}else l=r.child;if(null!==l)l.return=r;else for(l=r;null!==l;){if(l===e){l=null;break}if(null!==(r=l.sibling)){r.return=l.return,l=r;break}l=l.return}r=l}}function jl(e,t,a,n){e=null;for(var r=t,s=!1;null!==r;){if(!s)if(0!==(524288&r.flags))s=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var l=r.alternate;if(null===l)throw Error(i(387));if(null!==(l=l.memoizedProps)){var o=r.type;Ga(r.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(r===X.current){if(null===(l=r.alternate))throw Error(i(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Od):e=[Od])}r=r.return}null!==e&&bl(t,e,a,n),t.flags|=262144}function Nl(e){for(e=e.firstContext;null!==e;){if(!Ga(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wl(e){fl=e,gl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Sl(e){return Cl(fl,e)}function kl(e,t){return null===fl&&wl(e),Cl(e,t)}function Cl(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},null===gl){if(null===e)throw Error(i(308));gl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gl=gl.next=t;return a}var El=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Al(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&ec)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=An(e),Tn(e,null,a),t}return En(e,n,t,a),An(e)}function Il(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,De(e,a)}}function Rl(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var r=null,s=null;if(null!==(a=a.firstBaseUpdate)){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===s?r=s=i:s=s.next=i,a=a.next}while(null!==a);null===s?r=s=t:s=s.next=t}else r=s=t;return a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Dl=!1;function Ll(){if(Dl){if(null!==qr)throw qr}}function Ol(e,t,a,n){Dl=!1;var r=e.updateQueue;El=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var d=r.baseState;for(i=0,u=c=o=null,l=s;;){var m=-536870913&l.lane,h=m!==l.lane;if(h?(nc&m)===m:(n&m)===m){0!==m&&m===Vr&&(Dl=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,f=l;m=t;var g=a;switch(f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(g,d,m);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(g,d,m):p)||void 0===m)break e;d=A({},d,m);break e;case 2:El=!0}}null!==(m=l.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=h,o=d):u=u.next=h,i|=m;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(h=l).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===u&&(o=d),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===s&&(r.shared.lanes=0),dc|=i,e.lanes=i,e.memoizedState=d}}function Fl(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Ml(e,t){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)Fl(a[e],t)}function _l(e,t){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var s=a.create,i=a.inst;n=s(),i.destroy=n}a=a.next}while(a!==r)}}catch(l){nu(t,t.return,l)}}function $l(e,t,a){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){var i=n.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,r=t;var o=a;try{l()}catch(c){nu(r,o,c)}}}n=n.next}while(n!==s)}}catch(c){nu(t,t.return,c)}}function Bl(e){var t=e.updateQueue;if(null!==t){var a=e.stateNode;try{Ml(t,a)}catch(n){nu(e,e.return,n)}}}function Ul(e,t,a){a.props=Ii(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){nu(e,t,n)}}function Hl(e,t){try{var a=e.ref;if(null!==a){var n=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=n;break;default:r=n}"function"===typeof a?e.refCleanup=a(r):a.current=r}}catch(s){nu(e,t,s)}}function Vl(e,t){var a=e.ref,n=e.refCleanup;if(null!==a)if("function"===typeof n)try{n()}catch(r){nu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof a)try{a(null)}catch(s){nu(e,t,s)}else a.current=null}function ql(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){nu(e,e.return,r)}}function Wl(e,t,a){try{var n=e.stateNode;!function(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,l=null,o=null,c=null,u=null,d=null;for(p in a){var m=a[p];if(a.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(p)||Vu(e,t,p,null,n,m)}}for(var h in n){var p=n[h];if(m=a[h],n.hasOwnProperty(h)&&(null!=p||null!=m))switch(h){case"type":s=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==m&&Vu(e,t,h,p,n,m)}}return void gt(e,l,o,c,u,d,s,r);case"select":for(s in p=l=o=h=null,a)if(c=a[s],a.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(s)||Vu(e,t,s,null,n,c)}for(r in n)if(s=n[r],c=a[r],n.hasOwnProperty(r)&&(null!=s||null!=c))switch(r){case"value":h=s;break;case"defaultValue":o=s;break;case"multiple":l=s;default:s!==c&&Vu(e,t,r,s,n,c)}return t=o,a=l,n=p,void(null!=h?yt(e,!!a,h,!1):!!n!==!!a&&(null!=t?yt(e,!!a,t,!0):yt(e,!!a,a?[]:"",!1)));case"textarea":for(o in p=h=null,a)if(r=a[o],a.hasOwnProperty(o)&&null!=r&&!n.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Vu(e,t,o,null,n,r)}for(l in n)if(r=n[l],s=a[l],n.hasOwnProperty(l)&&(null!=r||null!=s))switch(l){case"value":h=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==s&&Vu(e,t,l,r,n,s)}return void bt(e,h,p);case"option":for(var f in a)if(h=a[f],a.hasOwnProperty(f)&&null!=h&&!n.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Vu(e,t,f,null,n,h);for(c in n)if(h=n[c],p=a[c],n.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Vu(e,t,c,h,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in a)h=a[g],a.hasOwnProperty(g)&&null!=h&&!n.hasOwnProperty(g)&&Vu(e,t,g,null,n,h);for(u in n)if(h=n[u],p=a[u],n.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Vu(e,t,u,h,n,p)}return;default:if(Ct(t)){for(var v in a)h=a[v],a.hasOwnProperty(v)&&void 0!==h&&!n.hasOwnProperty(v)&&qu(e,t,v,void 0,n,h);for(d in n)h=n[d],p=a[d],!n.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||qu(e,t,d,h,n,p);return}}for(var x in a)h=a[x],a.hasOwnProperty(x)&&null!=h&&!n.hasOwnProperty(x)&&Vu(e,t,x,null,n,h);for(m in n)h=n[m],p=a[m],!n.hasOwnProperty(m)||h===p||null==h&&null==p||Vu(e,t,m,h,n,p)}(n,e.type,a,t),n[_e]=t}catch(r){nu(e,e.return,r)}}function Gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Jl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ql(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Hu));else if(4!==n&&27!==n&&null!==(e=e.child))for(Ql(e,t,a),e=e.sibling;null!==e;)Ql(e,t,a),e=e.sibling}function Kl(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&27!==n&&null!==(e=e.child))for(Kl(e,t,a),e=e.sibling;null!==e;)Kl(e,t,a),e=e.sibling}var Yl=!1,Xl=!1,Zl=!1,eo="function"===typeof WeakSet?WeakSet:Set,to=null,ao=!1;function no(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:vo(e,a),4&n&&_l(5,a);break;case 1:if(vo(e,a),4&n)if(e=a.stateNode,null===t)try{e.componentDidMount()}catch(l){nu(a,a.return,l)}else{var r=Ii(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){nu(a,a.return,o)}}64&n&&Bl(a),512&n&&Hl(a,a.return);break;case 3:if(vo(e,a),64&n&&null!==(n=a.updateQueue)){if(e=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:e=a.child.stateNode}try{Ml(n,e)}catch(l){nu(a,a.return,l)}}break;case 26:vo(e,a),512&n&&Hl(a,a.return);break;case 27:case 5:vo(e,a),null===t&&4&n&&ql(a),512&n&&Hl(a,a.return);break;case 12:default:vo(e,a);break;case 13:vo(e,a),4&n&&co(e,a);break;case 22:if(!(r=null!==a.memoizedState||Yl)){t=null!==t&&null!==t.memoizedState||Xl;var s=Yl,i=Xl;Yl=r,(Xl=t)&&!i?yo(e,a,0!==(8772&a.subtreeFlags)):vo(e,a),Yl=s,Xl=i}512&n&&("manual"===a.memoizedProps.mode?Hl(a,a.return):Vl(a,a.return))}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var so=null,io=!1;function lo(e,t,a){for(a=a.child;null!==a;)oo(e,t,a),a=a.sibling}function oo(e,t,a){if(xe&&"function"===typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(ve,a)}catch(i){}switch(a.tag){case 26:Xl||Vl(a,t),lo(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:Xl||Vl(a,t);var n=so,r=io;for(so=a.stateNode,lo(e,t,a),t=(a=a.stateNode).attributes;t.length;)a.removeAttributeNode(t[0]);We(a),so=n,io=r;break;case 5:Xl||Vl(a,t);case 6:r=so;var s=io;if(so=null,lo(e,t,a),io=s,null!==(so=r))if(io)try{e=so,n=a.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)}catch(l){nu(a,t,l)}else try{so.removeChild(a.stateNode)}catch(l){nu(a,t,l)}break;case 18:null!==so&&(io?(t=so,a=a.stateNode,8===t.nodeType?sd(t.parentNode,a):1===t.nodeType&&sd(t,a),fm(t)):sd(so,a.stateNode));break;case 4:n=so,r=io,so=a.stateNode.containerInfo,io=!0,lo(e,t,a),so=n,io=r;break;case 0:case 11:case 14:case 15:Xl||$l(2,a,t),Xl||$l(4,a,t),lo(e,t,a);break;case 1:Xl||(Vl(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount&&Ul(a,t,n)),lo(e,t,a);break;case 21:lo(e,t,a);break;case 22:Xl||Vl(a,t),Xl=(n=Xl)||null!==a.memoizedState,lo(e,t,a),Xl=n;break;default:lo(e,t,a)}}function co(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{fm(e)}catch(a){nu(t,t.return,a)}}function uo(e,t){var a=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new eo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new eo),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var n=ou.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}function mo(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var r=a[n],s=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:case 5:so=o.stateNode,io=!1;break e;case 3:case 4:so=o.stateNode.containerInfo,io=!0;break e}o=o.return}if(null===so)throw Error(i(160));oo(s,l,r),so=null,io=!1,null!==(s=r.alternate)&&(s.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)po(t,e),t=t.sibling}var ho=null;function po(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mo(t,e),fo(e),4&n&&($l(3,e,e.return),_l(3,e),$l(5,e,e.return));break;case 1:mo(t,e),fo(e),512&n&&(Xl||null===a||Vl(a,a.return)),64&n&&Yl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?n:a.concat(n))));break;case 26:var r=ho;if(mo(t,e),fo(e),512&n&&(Xl||null===a||Vl(a,a.return)),4&n){var s=null!==a?a.memoizedState:null;if(n=e.memoizedState,null===a)if(null===n)if(null===e.stateNode){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":(!(s=r.getElementsByTagName("title")[0])||s[qe]||s[Me]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=r.createElement(n),r.head.insertBefore(s,r.querySelector("head > title"))),Wu(s,n,a),s[Me]=e,Ye(s),n=s;break e;case"link":var l=Ed("link","href",r).get(n+(a.href||""));if(l)for(var o=0;o<l.length;o++)if((s=l[o]).getAttribute("href")===(null==a.href?null:a.href)&&s.getAttribute("rel")===(null==a.rel?null:a.rel)&&s.getAttribute("title")===(null==a.title?null:a.title)&&s.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){l.splice(o,1);break t}Wu(s=r.createElement(n),n,a),r.head.appendChild(s);break;case"meta":if(l=Ed("meta","content",r).get(n+(a.content||"")))for(o=0;o<l.length;o++)if((s=l[o]).getAttribute("content")===(null==a.content?null:""+a.content)&&s.getAttribute("name")===(null==a.name?null:a.name)&&s.getAttribute("property")===(null==a.property?null:a.property)&&s.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&s.getAttribute("charset")===(null==a.charSet?null:a.charSet)){l.splice(o,1);break t}Wu(s=r.createElement(n),n,a),r.head.appendChild(s);break;default:throw Error(i(468,n))}s[Me]=e,Ye(s),n=s}e.stateNode=n}else zd(r,e.type,e.stateNode);else e.stateNode=Nd(r,n,e.memoizedProps);else s!==n?(null===s?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):s.count--,null===n?zd(r,e.type,e.stateNode):Nd(r,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Wl(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(4&n&&null===e.alternate){r=e.stateNode,s=e.memoizedProps;try{for(var c=r.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[qe]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||r.removeChild(c),c=u}for(var m=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Wu(r,m,s),r[Me]=e,r[_e]=s}catch(f){nu(e,e.return,f)}}case 5:if(mo(t,e),fo(e),512&n&&(Xl||null===a||Vl(a,a.return)),32&e.flags){r=e.stateNode;try{Nt(r,"")}catch(f){nu(e,e.return,f)}}4&n&&null!=e.stateNode&&Wl(e,r=e.memoizedProps,null!==a?a.memoizedProps:r),1024&n&&(Zl=!0);break;case 6:if(mo(t,e),fo(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(f){nu(e,e.return,f)}}break;case 3:if(Cd=null,r=ho,ho=md(t.containerInfo),mo(t,e),ho=r,fo(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{fm(t.containerInfo)}catch(f){nu(e,e.return,f)}Zl&&(Zl=!1,go(e));break;case 4:n=ho,ho=md(e.stateNode.containerInfo),mo(t,e),fo(e),ho=n;break;case 12:mo(t,e),fo(e);break;case 13:mo(t,e),fo(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==a&&null!==a.memoizedState)&&(yc=oe()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,uo(e,n)));break;case 22:if(512&n&&(Xl||null===a||Vl(a,a.return)),c=null!==e.memoizedState,u=null!==a&&null!==a.memoizedState,Yl=(d=Yl)||c,Xl=(m=Xl)||u,mo(t,e),Xl=m,Yl=d,fo(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&n&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Yl||Xl,null===a||u||t||xo(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(a=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===a){u=a=t;try{if(r=u.stateNode,c)"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var p=void 0!==(o=u.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){nu(u,u.return,f)}}}else if(6===t.tag){if(null===a){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(f){nu(u,u.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(a=n.retryQueue)&&(n.retryQueue=null,uo(e,a))));break;case 19:mo(t,e),fo(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,uo(e,n)));break;case 21:break;default:mo(t,e),fo(e)}}function fo(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var a=e.return;null!==a;){if(Gl(a)){var n=a;break e}a=a.return}throw Error(i(160))}switch(n.tag){case 27:var r=n.stateNode;Kl(e,Jl(e),r);break;case 5:var s=n.stateNode;32&n.flags&&(Nt(s,""),n.flags&=-33),Kl(e,Jl(e),s);break;case 3:case 4:var l=n.stateNode.containerInfo;Ql(e,Jl(e),l);break;default:throw Error(i(161))}}}catch(o){nu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function go(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;go(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)no(e,t.alternate,t),t=t.sibling}function xo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$l(4,t,t.return),xo(t);break;case 1:Vl(t,t.return);var a=t.stateNode;"function"===typeof a.componentWillUnmount&&Ul(t,t.return,a),xo(t);break;case 26:case 27:case 5:Vl(t,t.return),xo(t);break;case 22:Vl(t,t.return),null===t.memoizedState&&xo(t);break;default:xo(t)}e=e.sibling}}function yo(e,t,a){for(a=a&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,r=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:yo(r,s,a),_l(4,s);break;case 1:if(yo(r,s,a),"function"===typeof(r=(n=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){nu(n,n.return,c)}if(null!==(r=(n=s).updateQueue)){var l=n.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Fl(o[r],l)}catch(c){nu(n,n.return,c)}}a&&64&i&&Bl(s),Hl(s,s.return);break;case 26:case 27:case 5:yo(r,s,a),a&&null===n&&4&i&&ql(s),Hl(s,s.return);break;case 12:default:yo(r,s,a);break;case 13:yo(r,s,a),a&&4&i&&co(r,s);break;case 22:null===s.memoizedState&&yo(r,s,a),Hl(s,s.return)}t=t.sibling}}function bo(e,t){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&Br(a))}function jo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e))}function No(e,t,a,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)wo(e,t,a,n),t=t.sibling}function wo(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:No(e,t,a,n),2048&r&&_l(9,t);break;case 3:No(e,t,a,n),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Br(e)));break;case 12:if(2048&r){No(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"===typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){nu(t,t.return,o)}}else No(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?No(e,t,a,n):ko(e,t):4&s._visibility?No(e,t,a,n):(s._visibility|=4,So(e,t,a,n,0!==(10256&t.subtreeFlags))),2048&r&&bo(t.alternate,t);break;case 24:No(e,t,a,n),2048&r&&jo(t.alternate,t);break;default:No(e,t,a,n)}}function So(e,t,a,n,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,l=a,o=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:So(s,i,l,o,r),_l(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?4&u._visibility?So(s,i,l,o,r):ko(s,i):(u._visibility|=4,So(s,i,l,o,r)),r&&2048&c&&bo(i.alternate,i);break;case 24:So(s,i,l,o,r),r&&2048&c&&jo(i.alternate,i);break;default:So(s,i,l,o,r)}t=t.sibling}}function ko(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:ko(a,n),2048&r&&bo(n.alternate,n);break;case 24:ko(a,n),2048&r&&jo(n.alternate,n);break;default:ko(a,n)}t=t.sibling}}var Co=8192;function Eo(e){if(e.subtreeFlags&Co)for(e=e.child;null!==e;)zo(e),e=e.sibling}function zo(e){switch(e.tag){case 26:Eo(e),e.flags&Co&&null!==e.memoizedState&&function(e,t,a){if(null===Td)throw Error(i(475));var n=Td;if("stylesheet"===t.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=vd(a.href),s=e.querySelector(xd(r));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Id.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=s,void Ye(s);s=e.ownerDocument||e,a=yd(a),(r=ud.get(r))&&Sd(a,r),Ye(s=s.createElement("link"));var l=s;l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),Wu(s,"link",a),t.instance=s}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Id.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(ho,e.memoizedState,e.memoizedProps);break;case 5:default:Eo(e);break;case 3:case 4:var t=ho;ho=md(e.stateNode.containerInfo),Eo(e),ho=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Co,Co=16777216,Eo(e),Co=t):Eo(e))}}function Po(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function To(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var n=t[a];to=n,Ro(n,e)}Po(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ao(e),e=e.sibling}function Ao(e){switch(e.tag){case 0:case 11:case 15:To(e),2048&e.flags&&$l(9,e,e.return);break;case 3:case 12:default:To(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Io(e)):To(e)}}function Io(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var n=t[a];to=n,Ro(n,e)}Po(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:$l(8,t,t.return),Io(t);break;case 22:4&(a=t.stateNode)._visibility&&(a._visibility&=-5,Io(t));break;default:Io(t)}e=e.sibling}}function Ro(e,t){for(;null!==to;){var a=to;switch(a.tag){case 0:case 11:case 15:$l(8,a,t);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var n=a.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Br(a.memoizedState.cache)}if(null!==(n=a.child))n.return=a,to=n;else e:for(a=e;null!==to;){var r=(n=to).sibling,s=n.return;if(ro(n),n===a){to=null;break e}if(null!==r){r.return=s,to=r;break e}to=s}}}function Do(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(e,t,a,n){return new Do(e,t,a,n)}function Oo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fo(e,t){var a=e.alternate;return null===a?((a=Lo(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=31457280&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mo(e,t){e.flags&=31457282;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _o(e,t,a,n,r,s){var l=0;if(n=e,"function"===typeof e)Oo(e)&&(l=1);else if("string"===typeof e)l=function(e,t,a){if(1===a||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,a,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return $o(a.children,r,s,t);case m:l=8,r|=24;break;case h:return(e=Lo(12,a,t,2|r)).elementType=h,e.lanes=s,e;case x:return(e=Lo(13,a,t,r)).elementType=x,e.lanes=s,e;case y:return(e=Lo(19,a,t,r)).elementType=y,e.lanes=s,e;case N:return Bo(a,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:l=10;break e;case f:l=9;break e;case v:l=11;break e;case b:l=14;break e;case j:l=16,n=null;break e}l=29,a=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=Lo(l,a,t,r)).elementType=e,t.type=n,t.lanes=s,t}function $o(e,t,a,n){return(e=Lo(7,e,n,t)).lanes=a,e}function Bo(e,t,a,n){(e=Lo(22,e,n,t)).elementType=N,e.lanes=a;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=r._current;if(null===e)throw Error(i(456));if(0===(2&r._pendingVisibility)){var t=Pn(e,2);null!==t&&(r._pendingVisibility|=2,Ic(t,e,2))}},attach:function(){var e=r._current;if(null===e)throw Error(i(456));if(0!==(2&r._pendingVisibility)){var t=Pn(e,2);null!==t&&(r._pendingVisibility&=-3,Ic(t,e,2))}}};return e.stateNode=r,e}function Uo(e,t,a){return(e=Lo(6,e,null,t)).lanes=a,e}function Ho(e,t,a){return(t=Lo(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vo(e){e.flags|=4}function qo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Pd(t)){if(null!==(t=zr.current)&&((4194176&nc)===nc?null!==Pr:(62914560&nc)!==nc&&0===(536870912&nc)||t!==Pr))throw mr=or,lr;e.flags|=8192}}function Wo(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,fc|=t)}function Go(e,t){if(!Kn)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jo(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=31457280&r.subtreeFlags,n|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Qo(e,t,a){var n=t.pendingProps;switch(Gn(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Jo(t),null;case 3:return a=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xl(_r),ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(nr(t)?Vo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Yn&&(Dc(Yn),Yn=null))),Jo(t),null;case 26:return a=t.memoizedState,null===e?(Vo(t),null!==a?(Jo(t),qo(t,a)):(Jo(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Vo(t),Jo(t),qo(t,a)):(Jo(t),t.flags&=-16777217):(e.memoizedProps!==n&&Vo(t),Jo(t),t.flags&=-16777217),null;case 27:ae(t),a=Y.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Vo(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Jo(t),null}e=Q.current,nr(t)?tr(t):(e=cd(r,n,a),t.stateNode=e,Vo(t))}return Jo(t),null;case 5:if(ae(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Vo(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Jo(t),null}if(e=Q.current,nr(t))tr(t);else{switch(r=Qu(Y.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?r.createElement(a,{is:n.is}):r.createElement(a)}}e[Me]=t,e[_e]=n;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Wu(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vo(t)}}return Jo(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Vo(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=Y.current,nr(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,null!==(r=Jn))switch(r.tag){case 27:case 5:n=r.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===a||null!==n&&!0===n.suppressHydrationWarning||Uu(e.nodeValue,a)))||er(t)}else(e=Qu(e).createTextNode(n))[Me]=t,t.stateNode=e}return Jo(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=nr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[Me]=t}else rr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jo(t),r=!1}else null!==Yn&&(Dc(Yn),Yn=null),r=!0;if(!r)return 256&t.flags?(Rr(t),t):(Rr(t),null)}if(Rr(t),0!==(128&t.flags))return t.lanes=a,t;if(a=null!==n,e=null!==e&&null!==e.memoizedState,a){r=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(r=n.alternate.memoizedState.cachePool.pool);var s=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(s=n.memoizedState.cachePool.pool),s!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Wo(t,t.updateQueue),Jo(t),null;case 4:return ee(),null===e&&Iu(t.stateNode.containerInfo),Jo(t),null;case 10:return xl(t.type),Jo(t),null;case 19:if(G(Dr),null===(r=t.memoizedState))return Jo(t),null;if(n=0!==(128&t.flags),null===(s=r.rendering))if(n)Go(r,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Lr(e))){for(t.flags|=128,Go(r,!1),e=s.updateQueue,t.updateQueue=e,Wo(t,e),t.subtreeFlags=0,e=a,a=t.child;null!==a;)Mo(a,e),a=a.sibling;return J(Dr,1&Dr.current|2),t.child}e=e.sibling}null!==r.tail&&oe()>bc&&(t.flags|=128,n=!0,Go(r,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Lr(s))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Wo(t,e),Go(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!Kn)return Jo(t),null}else 2*oe()-r.renderingStartTime>bc&&536870912!==a&&(t.flags|=128,n=!0,Go(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=oe(),t.sibling=null,e=Dr.current,J(Dr,n?1&e|2:1&e),t):(Jo(t),null);case 22:case 23:return Rr(t),Er(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&a)&&0===(128&t.flags)&&(Jo(t),6&t.subtreeFlags&&(t.flags|=8192)):Jo(t),null!==(a=t.updateQueue)&&Wo(t,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),null!==e&&G(Jr),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xl(_r),Jo(t),null;case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(Gn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xl(_r),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ae(t),null;case 13:if(Rr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));rr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(Dr),null;case 4:return ee(),null;case 10:return xl(t.type),null;case 22:case 23:return Rr(t),Er(),null!==e&&G(Jr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xl(_r),null;default:return null}}function Yo(e,t){switch(Gn(t),t.tag){case 3:xl(_r),ee();break;case 26:case 27:case 5:ae(t);break;case 4:ee();break;case 13:Rr(t);break;case 19:G(Dr);break;case 10:xl(t.type);break;case 22:case 23:Rr(t),Er(),null!==e&&G(Jr);break;case 24:xl(_r)}}var Xo={getCacheForType:function(e){var t=Sl(_r),a=t.data.get(e);return void 0===a&&(a=e(),t.data.set(e,a)),a}},Zo="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,ac=null,nc=0,rc=0,sc=null,ic=!1,lc=!1,oc=!1,cc=0,uc=0,dc=0,mc=0,hc=0,pc=0,fc=0,gc=null,vc=null,xc=!1,yc=0,bc=1/0,jc=null,Nc=null,wc=!1,Sc=null,kc=0,Cc=0,Ec=null,zc=0,Pc=null;function Tc(){if(0!==(2&ec)&&0!==nc)return nc&-nc;if(null!==T.T){return 0!==Vr?Vr:ju()}return Oe()}function Ac(){0===pc&&(pc=0===(536870912&nc)||Kn?Pe():536870912);var e=zr.current;return null!==e&&(e.flags|=32),pc}function Ic(e,t,a){(e===tc&&2===rc||null!==e.cancelPendingCommit)&&($c(e,0),Fc(e,nc,pc,!1)),Ie(e,a),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(mc|=a),4===uc&&Fc(e,nc,pc,!1)),fu(e))}function Rc(e,t,a){if(0!==(6&ec))throw Error(i(327));for(var n=!a&&0===(60&t)&&0===(t&e.expiredLanes)||Ee(e,t),r=n?function(e,t){var a=ec;ec|=2;var n=Uc(),r=Hc();tc!==e||nc!==t?(jc=null,bc=oe()+500,$c(e,t)):lc=Ee(e,t);e:for(;;)try{if(0!==rc&&null!==ac){t=ac;var s=sc;t:switch(rc){case 1:rc=0,sc=null,Kc(e,t,s,1);break;case 2:if(cr(s)){rc=0,sc=null,Qc(t);break}t=function(){2===rc&&tc===e&&(rc=7),fu(e)},s.then(t,t);break e;case 3:rc=7;break e;case 4:rc=5;break e;case 7:cr(s)?(rc=0,sc=null,Qc(t)):(rc=0,sc=null,Kc(e,t,s,7));break;case 5:var l=null;switch(ac.tag){case 26:l=ac.memoizedState;case 5:case 27:var o=ac;if(!l||Pd(l)){rc=0,sc=null;var c=o.sibling;if(null!==c)ac=c;else{var u=o.return;null!==u?(ac=u,Yc(u)):ac=null}break t}}rc=0,sc=null,Kc(e,t,s,5);break;case 6:rc=0,sc=null,Kc(e,t,s,6);break;case 8:_c(),uc=6;break e;default:throw Error(i(462))}}Gc();break}catch(d){Bc(e,d)}return gl=fl=null,T.H=n,T.A=r,ec=a,null!==ac?0:(tc=null,nc=0,Cn(),uc)}(e,t):qc(e,t,!0),s=n;;){if(0===r){lc&&!n&&Fc(e,t,0,!1);break}if(6===r)Fc(e,t,0,!ic);else{if(a=e.current.alternate,s&&!Oc(a)){r=qc(e,t,!1),s=!1;continue}if(2===r){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;r=gc;var c=o.current.memoizedState.isDehydrated;if(c&&($c(o,l).flags|=256),2!==(l=qc(o,l,!1))){if(oc&&!c){o.errorRecoveryDisabledLanes|=s,mc|=s,r=4;break e}s=vc,vc=r,null!==s&&Dc(s)}r=l}if(s=!1,2!==r)continue}}if(1===r){$c(e,0),Fc(e,t,0,!0);break}e:{switch(n=e,r){case 0:case 1:throw Error(i(345));case 4:if((4194176&t)===t){Fc(n,t,pc,!ic);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(i(329))}if(n.finishedWork=a,n.finishedLanes=t,(62914560&t)===t&&10<(s=yc+300-oe())){if(Fc(n,t,pc,!ic),0!==Ce(n,0))break e;n.timeoutHandle=ed(Lc.bind(null,n,a,vc,jc,xc,t,pc,mc,fc,ic,2,-0,0),s)}else Lc(n,a,vc,jc,xc,t,pc,mc,fc,ic,0,-0,0)}}break}fu(e)}function Dc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Lc(e,t,a,n,r,s,l,o,c,u,d,m,h){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Td={stylesheets:null,count:0,unsuspend:Ad},zo(t),null!==(t=function(){if(null===Td)throw Error(i(475));var e=Td;return e.stylesheets&&0===e.count&&Dd(e,e.stylesheets),0<e.count?function(t){var a=setTimeout((function(){if(e.stylesheets&&Dd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,a,n,r,l,o,c,1,m,h)),void Fc(e,s,l,!u);Zc(e,a,n,r,l,o,c,d,m,h)}function Oc(e){for(var t=e;;){var a=t.tag;if((0===a||11===a||15===a)&&16384&t.flags&&(null!==(a=t.updateQueue)&&null!==(a=a.stores)))for(var n=0;n<a.length;n++){var r=a[n],s=r.getSnapshot;r=r.value;try{if(!Ga(s(),r))return!1}catch(i){return!1}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,a,n){t&=~hc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var s=31-be(r),i=1<<s;n[s]=-1,r&=~i}0!==a&&Re(e,a,t)}function Mc(){return 0!==(6&ec)||(gu(0,!1),!1)}function _c(){if(null!==ac){if(0===rc)var e=ac.return;else gl=fl=null,vs(e=ac),pr=null,fr=0,e=ac;for(;null!==e;)Yo(e.alternate,e),e=e.return;ac=null}}function $c(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,td(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),_c(),tc=e,ac=a=Fo(e.current,null),nc=t,rc=0,sc=null,ic=!1,lc=Ee(e,t),oc=!1,fc=pc=hc=mc=dc=uc=0,vc=gc=null,xc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var r=31-be(n),s=1<<r;t|=e[r],n&=~s}return cc=t,Cn(),a}function Bc(e,t){Zr=null,T.H=Si,t===ir?(t=hr(),rc=3):t===lr?(t=hr(),rc=4):rc=t===Ui?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ac&&(uc=1,Fi(e,Dn(t,e.current)))}function Uc(){var e=T.H;return T.H=Si,null===e?Si:e}function Hc(){var e=T.A;return T.A=Xo,e}function Vc(){uc=4,ic||(4194176&nc)!==nc&&null!==zr.current||(lc=!0),0===(134217727&dc)&&0===(134217727&mc)||null===tc||Fc(tc,nc,pc,!1)}function qc(e,t,a){var n=ec;ec|=2;var r=Uc(),s=Hc();tc===e&&nc===t||(jc=null,$c(e,t)),t=!1;var i=uc;e:for(;;)try{if(0!==rc&&null!==ac){var l=ac,o=sc;switch(rc){case 8:_c(),i=6;break e;case 3:case 2:case 6:null===zr.current&&(t=!0);var c=rc;if(rc=0,sc=null,Kc(e,l,o,c),a&&lc){i=0;break e}break;default:c=rc,rc=0,sc=null,Kc(e,l,o,c)}}Wc(),i=uc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,gl=fl=null,ec=n,T.H=r,T.A=s,null===ac&&(tc=null,nc=0,Cn()),i}function Wc(){for(;null!==ac;)Jc(ac)}function Gc(){for(;null!==ac&&!ie();)Jc(ac)}function Jc(e){var t=hl(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Yc(e):ac=t}function Qc(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Xi(a,t,t.pendingProps,t.type,void 0,nc);break;case 11:t=Xi(a,t,t.pendingProps,t.type.render,t.ref,nc);break;case 5:vs(t);default:Yo(a,t),t=hl(a,t=ac=Mo(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Yc(e):ac=t}function Kc(e,t,a,n){gl=fl=null,vs(t),pr=null,fr=0;var r=t.return;try{if(function(e,t,a,n,r){if(a.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=a.alternate)&&jl(t,a,r,!0),null!==(a=zr.current)){switch(a.tag){case 13:return null===Pr?Vc():null===a.alternate&&0===uc&&(uc=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===or?a.flags|=16384:(null===(t=a.updateQueue)?a.updateQueue=new Set([n]):t.add(n),ru(e,n,r)),!1;case 22:return a.flags|=65536,n===or?a.flags|=16384:(null===(t=a.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):null===(a=t.retryQueue)?t.retryQueue=new Set([n]):a.add(n),ru(e,n,r)),!1}throw Error(i(435,a.tag))}return ru(e,n,r),Vc(),!1}if(Kn)return null!==(t=zr.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==Zn&&sr(Dn(e=Error(i(422),{cause:n}),a))):(n!==Zn&&sr(Dn(t=Error(i(423),{cause:n}),a)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,n=Dn(n,a),Rl(e,r=_i(e.stateNode,n,r)),4!==uc&&(uc=2)),!1;var s=Error(i(520),{cause:n});if(s=Dn(s,a),null===gc?gc=[s]:gc.push(s),4!==uc&&(uc=2),null===t)return!0;n=Dn(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,Rl(a,e=_i(a.stateNode,n,e)),!1;case 1:if(t=a.type,s=a.stateNode,0===(128&a.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Nc||!Nc.has(s))))return a.flags|=65536,r&=-r,a.lanes|=r,Bi(r=$i(r),e,a,n),Rl(a,r),!1}a=a.return}while(null!==a);return!1}(e,r,t,a,nc))return uc=1,Fi(e,Dn(a,e.current)),void(ac=null)}catch(s){if(null!==r)throw ac=r,s;return uc=1,Fi(e,Dn(a,e.current)),void(ac=null)}32768&t.flags?(Kn||1===n?e=!0:lc||0!==(536870912&nc)?e=!1:(ic=e=!0,(2===n||3===n||6===n)&&(null!==(n=zr.current)&&13===n.tag&&(n.flags|=16384))),Xc(t,e)):Yc(t)}function Yc(e){var t=e;do{if(0!==(32768&t.flags))return void Xc(t,ic);e=t.return;var a=Qo(t.alternate,t,cc);if(null!==a)return void(ac=a);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===uc&&(uc=5)}function Xc(e,t){do{var a=Ko(e.alternate,e);if(null!==a)return a.flags&=32767,void(ac=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=a}while(null!==e);uc=6,ac=null}function Zc(e,t,a,n,r,s,l,o,c,u){var d=T.T,m=U.p;try{U.p=2,T.T=null,function(e,t,a,n,r,s,l,o){do{tu()}while(null!==Sc);if(0!==(6&ec))throw Error(i(327));var c=e.finishedWork;if(n=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,a,n,r,s){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(a=i&~a;0<a;){var u=31-be(a),d=1<<u;l[u]=0,o[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var h=m[u];null!==h&&(h.lane&=-536870913)}a&=~d}0!==n&&Re(e,n,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,u|=kn,s,l,o),e===tc&&(ac=tc=null,nc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||wc||(wc=!0,Cc=u,Ec=a,function(e,t){re(e,t)}(me,(function(){return tu(),null}))),a=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||a?(a=T.T,T.T=null,s=U.p,U.p=2,l=ec,ec|=4,function(e,t){if(e=e.containerInfo,Gu=Vd,Za(e=Xa(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch(g){a=null;break e}var l=0,o=-1,c=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var p;m!==a||0!==r&&3!==m.nodeType||(o=l+r),m!==s||0!==n&&3!==m.nodeType||(c=l+n),3===m.nodeType&&(l+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===a&&++u===r&&(o=l),h===s&&++d===n&&(c=l),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ju={focusedElem:e,selectionRange:a},Vd=!1,to=t;null!==to;)if(e=(t=to).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,to=e;else for(;null!==to;){switch(s=(t=to).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,a=t,r=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var f=Ii(a.type,r,(a.elementType,a.type));e=n.getSnapshotBeforeUpdate(f,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){nu(a,a.return,v)}}break;case 3:if(0!==(1024&e))if(9===(a=(e=t.stateNode.containerInfo).nodeType))id(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,to=e;break}to=t.return}f=ao,ao=!1}(e,c),po(c,e),en(Ju,e.containerInfo),Vd=!!Gu,Ju=Gu=null,e.current=c,no(e,c.alternate,c),le(),ec=l,U.p=s,T.T=a):e.current=c,wc?(wc=!1,Sc=e,kc=n):eu(e,u),u=e.pendingLanes,0===u&&(Nc=null),function(e){if(xe&&"function"===typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),fu(e),null!==t)for(r=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],r(u.value,{componentStack:u.stack});0!==(3&kc)&&tu(),u=e.pendingLanes,0!==(4194218&n)&&0!==(42&u)?e===Pc?zc++:(zc=0,Pc=e):zc=0,gu(0,!1)}(e,t,a,n,m,r,s,l)}finally{T.T=d,U.p=m}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Br(t)))}function tu(){if(null!==Sc){var e=Sc,t=Cc;Cc=0;var a=Le(kc),n=T.T,r=U.p;try{if(U.p=32>a?32:a,T.T=null,null===Sc)var s=!1;else{a=Ec,Ec=null;var l=Sc,o=kc;if(Sc=null,kc=0,0!==(6&ec))throw Error(i(331));var c=ec;if(ec|=4,Ao(l.current),wo(l,l.current,o,a),ec=c,gu(0,!1),xe&&"function"===typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(ve,l)}catch(u){}s=!0}return s}finally{U.p=r,T.T=n,eu(e,t)}}return!1}function au(e,t,a){t=Dn(a,t),null!==(e=Al(e,t=_i(e.stateNode,t,2),2))&&(Ie(e,2),fu(e))}function nu(e,t,a){if(3===e.tag)au(e,e,a);else for(;null!==t;){if(3===t.tag){au(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Nc||!Nc.has(n))){e=Dn(a,e),null!==(n=Al(t,a=$i(2),2))&&(Bi(a,n,t,e),Ie(n,2),fu(n));break}}t=t.return}}function ru(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new Zo;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(a)||(oc=!0,r.add(a),e=su.bind(null,e,t,a),t.then(e,e))}function su(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,tc===e&&(nc&a)===a&&(4===uc||3===uc&&(62914560&nc)===nc&&300>oe()-yc?0===(2&ec)&&$c(e,0):hc|=a,fc===nc&&(fc=0)),fu(e)}function iu(e,t){0===t&&(t=Te()),null!==(e=Pn(e,t))&&(Ie(e,t),fu(e))}function lu(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),iu(e,a)}function ou(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),iu(e,a)}var cu=null,uu=null,du=!1,mu=!1,hu=!1,pu=0;function fu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),mu=!0,du||(du=!0,t=vu,nd((function(){0!==(6&ec)?re(ue,t):t()})))}function gu(e,t){if(!hu&&mu){hu=!0;do{for(var a=!1,n=cu;null!==n;){if(!t)if(0!==e){var r=n.pendingLanes;if(0===r)var s=0;else{var i=n.suspendedLanes,l=n.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326677&(s&=r&~(i&~l))?201326677&s|1:s?2|s:0}0!==s&&(a=!0,bu(n,s))}else s=nc,0===(3&(s=Ce(n,n===tc?s:0)))||Ee(n,s)||(a=!0,bu(n,s));n=n.next}}while(a);hu=!1}}function vu(){mu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=pu),pu=0);for(var t=oe(),a=null,n=cu;null!==n;){var r=n.next,s=xu(n,t);0===s?(n.next=null,null===a?cu=r:a.next=r,null===r&&(uu=a)):(a=n,(0!==e||0!==(3&s))&&(mu=!0)),n=r}gu(e,!1)}function xu(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-be(s),l=1<<i,o=r[i];-1===o?0!==(l&a)&&0===(l&n)||(r[i]=ze(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(a=nc,a=Ce(e,e===(t=tc)?a:0),n=e.callbackNode,0===a||e===t&&2===rc||null!==e.cancelPendingCommit)return null!==n&&null!==n&&se(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&a)||Ee(e,a)){if((t=a&-a)===e.callbackPriority)return t;switch(null!==n&&se(n),Le(a)){case 2:case 8:a=de;break;case 32:default:a=me;break;case 268435456:a=pe}return n=yu.bind(null,e),a=re(a,n),e.callbackPriority=t,e.callbackNode=a,t}return null!==n&&null!==n&&se(n),e.callbackPriority=2,e.callbackNode=null,2}function yu(e,t){var a=e.callbackNode;if(tu()&&e.callbackNode!==a)return null;var n=nc;return 0===(n=Ce(e,e===tc?n:0))?null:(Rc(e,n,t),xu(e,oe()),null!=e.callbackNode&&e.callbackNode===a?yu.bind(null,e):null)}function bu(e,t){if(tu())return null;Rc(e,t,!0)}function ju(){return 0===pu&&(pu=Pe()),pu}function Nu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function wu(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}for(var Su=0;Su<jn.length;Su++){var ku=jn[Su];Nn(ku.toLowerCase(),"on"+(ku[0].toUpperCase()+ku.slice(1)))}Nn(hn,"onAnimationEnd"),Nn(pn,"onAnimationIteration"),Nn(fn,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(gn,"onTransitionRun"),Nn(vn,"onTransitionStart"),Nn(xn,"onTransitionCancel"),Nn(yn,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function zu(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(u){Ri(u)}r.currentTarget=null,s=o}else for(i=0;i<n.length;i++){if(o=(l=n[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(u){Ri(u)}r.currentTarget=null,s=o}}}}function Pu(e,t){var a=t[Be];void 0===a&&(a=t[Be]=new Set);var n=e+"__bubble";a.has(n)||(Ru(t,e,2,!1),a.add(n))}function Tu(e,t,a){var n=0;t&&(n|=4),Ru(a,e,n,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[Au]){e[Au]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Eu.has(t)||Tu(t,!1,e),Tu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Au]||(t[Au]=!0,Tu("selectionchange",!1,t))}}function Ru(e,t,a,n){switch(Yd(t)){case 2:var r=qd;break;case 8:r=Wd;break;default:r=Gd}a=r.bind(null,t,a,e),r=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Du(e,t,a,n,r){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var l=n.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=n.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=Ge(l)))return;if(5===(o=i.tag)||6===o||26===o||27===o){n=s=i;continue e}l=l.parentNode}}n=n.return}Ot((function(){var n=s,r=At(a),i=[];e:{var l=bn.get(e);if(void 0!==l){var o=Xt,c=e;switch(e){case"keypress":if(0===Vt(a))break e;case"keydown":case"keyup":o=ha;break;case"focusin":c="focus",o=ra;break;case"focusout":c="blur",o=ra;break;case"beforeblur":case"afterblur":o=ra;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=na;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=fa;break;case hn:case pn:case fn:o=sa;break;case yn:o=ga;break;case"scroll":case"scrollend":o=ea;break;case"wheel":o=va;break;case"copy":case"cut":case"paste":o=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=pa;break;case"toggle":case"beforetoggle":o=xa}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),m=u?null!==l?l+"Capture":null:l;u=[];for(var h,p=n;null!==p;){var f=p;if(h=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===h||null===m||null!=(f=Ft(p,m))&&u.push(Lu(p,f,h)),d)break;p=p.return}0<u.length&&(l=new o(l,c,null,a,r),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||a===Tt||!(c=a.relatedTarget||a.fromElement)||!Ge(c)&&!c[$e])&&(o||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=n,null!==(c=(c=a.relatedTarget||a.toElement)?Ge(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(o=null,c=n),o!==c)){if(u=aa,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=pa,f="onPointerLeave",m="onPointerEnter",p="pointer"),d=null==o?l:Qe(o),h=null==c?l:Qe(c),(l=new u(f,p+"leave",o,a,r)).target=d,l.relatedTarget=h,f=null,Ge(r)===n&&((u=new u(m,p+"enter",c,a,r)).target=h,u.relatedTarget=d,f=u),d=f,o&&c)e:{for(m=c,p=0,h=u=o;h;h=Fu(h))p++;for(h=0,f=m;f;f=Fu(f))h++;for(;0<p-h;)u=Fu(u),p--;for(;0<h-p;)m=Fu(m),h--;for(;p--;){if(u===m||null!==m&&u===m.alternate)break e;u=Fu(u),m=Fu(m)}u=null}else u=null;null!==o&&Mu(i,l,o,u,!1),null!==c&&null!==d&&Mu(i,d,c,u,!0)}if("select"===(o=(l=n?Qe(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=Oa;else if(Ta(l))if(Fa)g=Wa;else{g=Va;var v=Ha}else!(o=l.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?n&&Ct(n.elementType)&&(g=Oa):g=qa;switch(g&&(g=g(e,n))?Aa(i,g,a,r):(v&&v(e,l,n),"focusout"===e&&n&&"number"===l.type&&null!=n.memoizedProps.value&&xt(l,"number",l.value)),v=n?Qe(n):window,e){case"focusin":(Ta(v)||"true"===v.contentEditable)&&(an=v,nn=n,rn=null);break;case"focusout":rn=nn=an=null;break;case"mousedown":sn=!0;break;case"contextmenu":case"mouseup":case"dragend":sn=!1,ln(i,a,r);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":ln(i,a,r)}var x;if(ba)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else za?Ca(e,a)&&(y="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(y="onCompositionStart");y&&(wa&&"ko"!==a.locale&&(za||"onCompositionStart"!==y?"onCompositionEnd"===y&&za&&(x=Ht()):(Bt="value"in($t=r)?$t.value:$t.textContent,za=!0)),0<(v=Ou(n,y)).length&&(y=new la(y,e,null,a,r),i.push({event:y,listeners:v}),x?y.data=x:null!==(x=Ea(a))&&(y.data=x))),(x=Na?function(e,t){switch(e){case"compositionend":return Ea(t);case"keypress":return 32!==t.which?null:(ka=!0,Sa);case"textInput":return(e=t.data)===Sa&&ka?null:e;default:return null}}(e,a):function(e,t){if(za)return"compositionend"===e||!ba&&Ca(e,t)?(e=Ht(),Ut=Bt=$t=null,za=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wa&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(y=Ou(n,"onBeforeInput")).length&&(v=new la("onBeforeInput","beforeinput",null,a,r),i.push({event:v,listeners:y}),v.data=x)),function(e,t,a,n,r){if("submit"===t&&a&&a.stateNode===r){var s=Nu((r[_e]||null).action),i=n.submitter;i&&null!==(t=(t=i[_e]||null)?Nu(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new Xt("action","action",null,n,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==pu){var e=i?wu(r,i):new FormData(r);ui(a,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"===typeof s&&(l.preventDefault(),e=i?wu(r,i):new FormData(r),ui(a,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(i,e,n,a,r)}zu(i,t)}))}function Lu(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ou(e,t){for(var a=t+"Capture",n=[];null!==e;){var r=e,s=r.stateNode;5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=Ft(e,a))&&n.unshift(Lu(e,r,s)),null!=(r=Ft(e,t))&&n.push(Lu(e,r,s))),e=e.return}return n}function Fu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Mu(e,t,a,n,r){for(var s=t._reactName,i=[];null!==a&&a!==n;){var l=a,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===n)break;5!==l&&26!==l&&27!==l||null===c||(o=c,r?null!=(c=Ft(a,s))&&i.unshift(Lu(a,c,o)):r||null!=(c=Ft(a,s))&&i.push(Lu(a,c,o))),a=a.return}0!==i.length&&e.push({event:t,listeners:i})}var _u=/\r\n?/g,$u=/\u0000|\uFFFD/g;function Bu(e){return("string"===typeof e?e:""+e).replace(_u,"\n").replace($u,"")}function Uu(e,t){return t=Bu(t),Bu(e)===t}function Hu(){}function Vu(e,t,a,n,r,s){switch(a){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&Nt(e,""+n);break;case"className":lt(e,"class",n);break;case"tabIndex":lt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,a,n);break;case"style":kt(e,n,s);break;case"data":if("object"!==t){lt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==a)){e.removeAttribute(a);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(a);break}n=Pt(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===a?("input"!==t&&Vu(e,t,"name",r.name,r,null),Vu(e,t,"formEncType",r.formEncType,r,null),Vu(e,t,"formMethod",r.formMethod,r,null),Vu(e,t,"formTarget",r.formTarget,r,null)):(Vu(e,t,"encType",r.encType,r,null),Vu(e,t,"method",r.method,r,null),Vu(e,t,"target",r.target,r,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(a);break}n=Pt(""+n),e.setAttribute(a,n);break;case"onClick":null!=n&&(e.onclick=Hu);break;case"onScroll":null!=n&&Pu("scroll",e);break;case"onScrollEnd":null!=n&&Pu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(a=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}a=Pt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===n?e.setAttribute(a,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Pu("beforetoggle",e),Pu("toggle",e),it(e,"popover",n);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":it(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&it(e,a=Et.get(a)||a,n)}}function qu(e,t,a,n,r,s){switch(a){case"style":kt(e,n,s);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(a=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=a}}break;case"children":"string"===typeof n?Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&Nt(e,""+n);break;case"onScroll":null!=n&&Pu("scroll",e);break;case"onScrollEnd":null!=n&&Pu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),"function"===typeof(s=null!=(s=e[_e]||null)?s[a]:null)&&e.removeEventListener(t,s,r),"function"!==typeof n)?a in e?e[a]=n:!0===n?e.setAttribute(a,""):it(e,a,n):("function"!==typeof s&&null!==s&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r)))}}function Wu(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pu("error",e),Pu("load",e);var n,r=!1,s=!1;for(n in a)if(a.hasOwnProperty(n)){var l=a[n];if(null!=l)switch(n){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Vu(e,t,n,l,a,null)}}return s&&Vu(e,t,"srcSet",a.srcSet,a,null),void(r&&Vu(e,t,"src",a.src,a,null));case"input":Pu("invalid",e);var o=n=l=s=null,c=null,u=null;for(r in a)if(a.hasOwnProperty(r)){var d=a[r];if(null!=d)switch(r){case"name":s=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Vu(e,t,r,d,a,null)}}return vt(e,n,o,c,u,l,s,!1),void dt(e);case"select":for(s in Pu("invalid",e),r=l=n=null,a)if(a.hasOwnProperty(s)&&null!=(o=a[s]))switch(s){case"value":n=o;break;case"defaultValue":l=o;break;case"multiple":r=o;default:Vu(e,t,s,o,a,null)}return t=n,a=l,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=a&&yt(e,!!r,a,!0));case"textarea":for(l in Pu("invalid",e),n=s=r=null,a)if(a.hasOwnProperty(l)&&null!=(o=a[l]))switch(l){case"value":r=o;break;case"defaultValue":s=o;break;case"children":n=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:Vu(e,t,l,o,a,null)}return jt(e,r,s,n),void dt(e);case"option":for(c in a)if(a.hasOwnProperty(c)&&null!=(r=a[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Vu(e,t,c,r,a,null);return;case"dialog":Pu("cancel",e),Pu("close",e);break;case"iframe":case"object":Pu("load",e);break;case"video":case"audio":for(r=0;r<Cu.length;r++)Pu(Cu[r],e);break;case"image":Pu("error",e),Pu("load",e);break;case"details":Pu("toggle",e);break;case"embed":case"source":case"link":Pu("error",e),Pu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&null!=(r=a[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Vu(e,t,u,r,a,null)}return;default:if(Ct(t)){for(d in a)a.hasOwnProperty(d)&&(void 0!==(r=a[d])&&qu(e,t,d,r,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(null!=(r=a[o])&&Vu(e,t,o,r,a,null))}var Gu=null,Ju=null;function Qu(e){return 9===e.nodeType?e:e.ownerDocument}function Ku(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,ad="function"===typeof Promise?Promise:void 0,nd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ad?function(e){return ad.resolve(null).then(e).catch(rd)}:ed;function rd(e){setTimeout((function(){throw e}))}function sd(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&8===r.nodeType)if("/$"===(a=r.data)){if(0===n)return e.removeChild(r),void fm(t);n--}else"$"!==a&&"$?"!==a&&"$!"!==a||n++;a=r}while(a);fm(t)}function id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":id(a),We(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function od(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}function cd(e,t,a){switch(t=Qu(a),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}var ud=new Map,dd=new Set;function md(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var hd=U.d;U.d={f:function(){var e=hd.f(),t=Mc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?mi(t):hd.r(e)},D:function(e){hd.D(e),fd("dns-prefetch",e,null)},C:function(e,t){hd.C(e,t),fd("preconnect",e,t)},L:function(e,t,a){hd.L(e,t,a);var n=pd;if(n&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&a&&a.imageSrcSet?(r+='[imagesrcset="'+ft(a.imageSrcSet)+'"]',"string"===typeof a.imageSizes&&(r+='[imagesizes="'+ft(a.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var s=r;switch(t){case"style":s=vd(e);break;case"script":s=bd(e)}ud.has(s)||(e=A({rel:"preload",href:"image"===t&&a&&a.imageSrcSet?void 0:e,as:t},a),ud.set(s,e),null!==n.querySelector(r)||"style"===t&&n.querySelector(xd(s))||"script"===t&&n.querySelector(jd(s))||(Wu(t=n.createElement("link"),"link",e),Ye(t),n.head.appendChild(t)))}},m:function(e,t){hd.m(e,t);var a=pd;if(a&&e){var n=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(n)+'"][href="'+ft(e)+'"]',s=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=bd(e)}if(!ud.has(s)&&(e=A({rel:"modulepreload",href:e},t),ud.set(s,e),null===a.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jd(s)))return}Wu(n=a.createElement("link"),"link",e),Ye(n),a.head.appendChild(n)}}},X:function(e,t){hd.X(e,t);var a=pd;if(a&&e){var n=Ke(a).hoistableScripts,r=bd(e),s=n.get(r);s||((s=a.querySelector(jd(r)))||(e=A({src:e,async:!0},t),(t=ud.get(r))&&kd(e,t),Ye(s=a.createElement("script")),Wu(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}},S:function(e,t,a){hd.S(e,t,a);var n=pd;if(n&&e){var r=Ke(n).hoistableStyles,s=vd(e);t=t||"default";var i=r.get(s);if(!i){var l={loading:0,preload:null};if(i=n.querySelector(xd(s)))l.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ud.get(s))&&Sd(e,a);var o=i=n.createElement("link");Ye(o),Wu(o,"link",e),o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),o.addEventListener("load",(function(){l.loading|=1})),o.addEventListener("error",(function(){l.loading|=2})),l.loading|=4,wd(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:l},r.set(s,i)}}},M:function(e,t){hd.M(e,t);var a=pd;if(a&&e){var n=Ke(a).hoistableScripts,r=bd(e),s=n.get(r);s||((s=a.querySelector(jd(r)))||(e=A({src:e,async:!0,type:"module"},t),(t=ud.get(r))&&kd(e,t),Ye(s=a.createElement("script")),Wu(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}}};var pd="undefined"===typeof document?null:document;function fd(e,t,a){var n=pd;if(n&&"string"===typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof a&&(r+='[crossorigin="'+a+'"]'),dd.has(r)||(dd.add(r),e={rel:e,crossOrigin:a,href:t},null===n.querySelector(r)&&(Wu(t=n.createElement("link"),"link",e),Ye(t),n.head.appendChild(t)))}}function gd(e,t,a,n){var r,s,l,o,c=(c=Y.current)?md(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof a.precedence&&"string"===typeof a.href?(t=vd(a.href),(n=(a=Ke(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"===typeof a.href&&"string"===typeof a.precedence){e=vd(a.href);var u=Ke(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(xd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ud.set(e,a),u||(r=c,s=e,l=a,o=d.state,r.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=r.createElement("link"),o.preload=s,s.addEventListener("load",(function(){return o.loading|=1})),s.addEventListener("error",(function(){return o.loading|=2})),Wu(s,"link",l),Ye(s),r.head.appendChild(s))))),t&&null===n)throw Error(i(528,""));return d}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=a.async,"string"===typeof(a=a.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=bd(a),(n=(a=Ke(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function vd(e){return'href="'+ft(e)+'"'}function xd(e){return'link[rel="stylesheet"]['+e+"]"}function yd(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function bd(e){return'[src="'+ft(e)+'"]'}function jd(e){return"script[async]"+e}function Nd(e,t,a){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ft(a.href)+'"]');if(n)return t.instance=n,Ye(n),n;var r=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return Ye(n=(e.ownerDocument||e).createElement("style")),Wu(n,"style",r),wd(n,a.precedence,e),t.instance=n;case"stylesheet":r=vd(a.href);var s=e.querySelector(xd(r));if(s)return t.state.loading|=4,t.instance=s,Ye(s),s;n=yd(a),(r=ud.get(r))&&Sd(n,r),Ye(s=(e.ownerDocument||e).createElement("link"));var l=s;return l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),Wu(s,"link",n),t.state.loading|=4,wd(s,a.precedence,e),t.instance=s;case"script":return s=bd(a.src),(r=e.querySelector(jd(s)))?(t.instance=r,Ye(r),r):(n=a,(r=ud.get(s))&&kd(n=A({},a),r),Ye(r=(e=e.ownerDocument||e).createElement("script")),Wu(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,wd(n,a.precedence,e));return t.instance}function wd(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,s=r,i=0;i<n.length;i++){var l=n[i];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===a.nodeType?a.head:a).insertBefore(e,t.firstChild)}function Sd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function kd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cd=null;function Ed(e,t,a){if(null===Cd){var n=new Map,r=Cd=new Map;r.set(a,n)}else(n=(r=Cd).get(a))||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var s=a[r];if(!(s[qe]||s[Me]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=n.get(i);l?l.push(s):n.set(i,[s])}}return n}function zd(e,t,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===t?e.querySelector("head > title"):null)}function Pd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Td=null;function Ad(){}function Id(){if(this.count--,0===this.count)if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Rd=null;function Dd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Rd=new Map,t.forEach(Ld,e),Rd=null,Id.call(e))}function Ld(e,t){if(!(4&t.state.loading)){var a=Rd.get(e);if(a)var n=a.get(null);else{a=new Map,Rd.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var i=r[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(a.set(i.dataset.precedence,i),n=i)}n&&a.set(null,n)}i=(r=t.instance).getAttribute("data-precedence"),(s=a.get(i)||n)===n&&a.set(null,r),a.set(i,r),this.count++,n=Id.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Od={$$typeof:g,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Fd(e,t,a,n,r,s,i,l){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Md(e,t,a,n,r,s,i,l,o,c,u,d){return e=new Fd(e,t,a,i,l,o,c,d),t=1,!0===s&&(t|=24),s=Lo(3,null,null,t),e.current=s,s.stateNode=e,(t=$r()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},zl(s),e}function _d(e){return e?e=In:In}function $d(e,t,a,n,r,s){r=_d(r),null===n.context?n.context=r:n.pendingContext=r,(n=Tl(t)).payload={element:a},null!==(s=void 0===s?null:s)&&(n.callback=s),null!==(a=Al(e,n,t))&&(Ic(a,0,t),Il(a,e,t))}function Bd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Ud(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function Hd(e){if(13===e.tag){var t=Pn(e,67108864);null!==t&&Ic(t,0,67108864),Ud(e,67108864)}}var Vd=!0;function qd(e,t,a,n){var r=T.T;T.T=null;var s=U.p;try{U.p=2,Gd(e,t,a,n)}finally{U.p=s,T.T=r}}function Wd(e,t,a,n){var r=T.T;T.T=null;var s=U.p;try{U.p=8,Gd(e,t,a,n)}finally{U.p=s,T.T=r}}function Gd(e,t,a,n){if(Vd){var r=Jd(n);if(null===r)Du(e,t,n,Qd,a),im(e,n);else if(function(e,t,a,n,r){switch(t){case"focusin":return Zd=lm(Zd,e,t,a,n,r),!0;case"dragenter":return em=lm(em,e,t,a,n,r),!0;case"mouseover":return tm=lm(tm,e,t,a,n,r),!0;case"pointerover":var s=r.pointerId;return am.set(s,lm(am.get(s)||null,e,t,a,n,r)),!0;case"gotpointercapture":return s=r.pointerId,nm.set(s,lm(nm.get(s)||null,e,t,a,n,r)),!0}return!1}(r,e,t,a,n))n.stopPropagation();else if(im(e,n),4&t&&-1<sm.indexOf(e)){for(;null!==r;){var s=Je(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ke(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-be(i);l.entanglements[1]|=o,i&=~o}fu(s),0===(6&ec)&&(bc=oe()+500,gu(0,!1))}}break;case 13:null!==(l=Pn(s,2))&&Ic(l,0,2),Mc(),Ud(s,2)}if(null===(s=Jd(n))&&Du(e,t,n,Qd,a),s===r)break;r=s}null!==r&&n.stopPropagation()}else Du(e,t,n,null,a)}}function Jd(e){return Kd(e=At(e))}var Qd=null;function Kd(e){if(Qd=null,null!==(e=Ge(e))){var t=F(e);if(null===t)e=null;else{var a=t.tag;if(13===a){if(null!==(e=M(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qd=e,null}function Yd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case me:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,em=null,tm=null,am=new Map,nm=new Map,rm=[],sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function im(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":em=null;break;case"mouseover":case"mouseout":tm=null;break;case"pointerover":case"pointerout":am.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nm.delete(t.pointerId)}}function lm(e,t,a,n,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=Je(t))&&Hd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function om(e){var t=Ge(e.target);if(null!==t){var a=F(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=M(a)))return e.blockedOn=t,void function(e,t){var a=U.p;try{return U.p=e,t()}finally{U.p=a}}(e.priority,(function(){if(13===a.tag){var e=Tc(),t=Pn(a,e);null!==t&&Ic(t,0,e),Ud(a,e)}}))}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function cm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Jd(e.nativeEvent);if(null!==a)return null!==(t=Je(a))&&Hd(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);Tt=n,a.target.dispatchEvent(n),Tt=null,t.shift()}return!0}function um(e,t,a){cm(e)&&a.delete(t)}function dm(){Xd=!1,null!==Zd&&cm(Zd)&&(Zd=null),null!==em&&cm(em)&&(em=null),null!==tm&&cm(tm)&&(tm=null),am.forEach(um),nm.forEach(um)}function mm(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dm)))}var hm=null;function pm(e){hm!==e&&(hm=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,(function(){hm===e&&(hm=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if("function"!==typeof n){if(null===Kd(n||a))continue;break}var s=Je(a);null!==s&&(e.splice(t,3),t-=3,ui(s,{pending:!0,data:r,method:a.method,action:n},n,r))}})))}function fm(e){function t(t){return mm(t,e)}null!==Zd&&mm(Zd,e),null!==em&&mm(em,e),null!==tm&&mm(tm,e),am.forEach(t),nm.forEach(t);for(var a=0;a<rm.length;a++){var n=rm[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<rm.length&&null===(a=rm[0]).blockedOn;)om(a),null===a.blockedOn&&rm.shift();if(null!=(a=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<a.length;n+=3){var r=a[n],s=a[n+1],i=r[_e]||null;if("function"===typeof s)i||pm(a);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,i=s[_e]||null)l=i.formAction;else if(null!==Kd(r))continue}else l=i.action;"function"===typeof l?a[n+1]=l:(a.splice(n,3),n-=3),pm(a)}}}function gm(e){this._internalRoot=e}function vm(e){this._internalRoot=e}vm.prototype.render=gm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));$d(t.current,Tc(),e,t,null,null)},vm.prototype.unmount=gm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),$d(e.current,2,null,e,null,null),Mc(),t[$e]=null}},vm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var a=0;a<rm.length&&0!==t&&t<rm[a].priority;a++);rm.splice(a,0,e),0===a&&om(e)}};var xm=r.version;if("19.0.0"!==xm)throw Error(i(527,xm,"19.0.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){a=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===a)return _(r),e;if(s===n)return _(r),t;s=s.sibling}throw Error(i(188))}if(a.return!==n.return)a=r,n=s;else{for(var l=!1,o=r.child;o;){if(o===a){l=!0,a=r,n=s;break}if(o===n){l=!0,n=r,a=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===a){l=!0,a=s,n=r;break}if(o===n){l=!0,n=s,a=r;break}o=o.sibling}if(!l)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(3!==a.tag)throw Error(i(188));return a.stateNode.current===a?e:t}(t),e=null===(e=null!==e?$(e):null)?null:e.stateNode};var ym={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bm.isDisabled&&bm.supportsFiber)try{ve=bm.inject(ym),xe=bm}catch(Nm){}}t.createRoot=function(e,t){if(!l(e))throw Error(i(299));var a=!1,n="",r=Di,s=Li,o=Oi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Md(e,1,!1,null,0,a,n,r,s,o,0,null),e[$e]=t.current,Iu(8===e.nodeType?e.parentNode:e),new gm(t)},t.hydrateRoot=function(e,t,a){if(!l(e))throw Error(i(299));var n=!1,r="",s=Di,o=Li,c=Oi,u=null;return null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(n=!0),void 0!==a.identifierPrefix&&(r=a.identifierPrefix),void 0!==a.onUncaughtError&&(s=a.onUncaughtError),void 0!==a.onCaughtError&&(o=a.onCaughtError),void 0!==a.onRecoverableError&&(c=a.onRecoverableError),void 0!==a.unstable_transitionCallbacks&&a.unstable_transitionCallbacks,void 0!==a.formState&&(u=a.formState)),(t=Md(e,1,!0,t,0,n,r,s,o,c,0,u)).context=_d(null),a=t.current,(r=Tl(n=Tc())).callback=null,Al(a,r,n),t.current.lanes=n,Ie(t,n),fu(t),e[$e]=t.current,Iu(e),new vm(t)},t.version="19.0.0"},43:(e,t,a)=>{e.exports=a(288)},288:(e,t)=>{var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||p}function x(){}function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var b=y.prototype=new x;b.constructor=y,f(b,v.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function S(e,t,n,r,s,i){return n=i.ref,{$$typeof:a,type:e,key:t,ref:void 0!==n?n:null,props:i}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function z(){}function P(e,t,r,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o,c,u=!1;if(null===e)u=!0;else switch(l){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case n:u=!0;break;case m:return P((u=e._init)(e._payload),t,r,s,i)}}if(u)return i=i(e),u=""===s?"."+E(e,0):s,j(i)?(r="",null!=u&&(r=u.replace(C,"$&/")+"/"),P(i,t,r,"",(function(e){return e}))):null!=i&&(k(i)&&(o=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+u,i=S(o.type,c,void 0,0,0,o.props)),t.push(i)),1;u=0;var d,p=""===s?".":s+":";if(j(e))for(var f=0;f<e.length;f++)u+=P(s=e[f],t,r,l=p+E(s,f),i);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(s=e.next()).done;)u+=P(s=s.value,t,r,l=p+E(s,f++),i);else if("object"===l){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(z,z):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,a){if(null==e)return e;var n=[],r=0;return P(e,n,"","",(function(e){return t.call(a,e,r++)})),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:T,forEach:function(e,t,a){T(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=f({},e.props),r=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!w.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=a;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];n.children=i}return S(e.type,r,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,a){var n,r={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)w.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(r[n]=t[n]);var i=arguments.length-2;if(1===i)r.children=a;else if(1<i){for(var l=Array(i),o=0;o<i;o++)l[o]=arguments[o+2];r.children=l}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===r[n]&&(r[n]=i[n]);return S(e,s,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,a={};N.T=a;try{var n=e(),r=N.S;null!==r&&r(a,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(R,I)}catch(s){I(s)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,a){return N.H.useActionState(e,t,a)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,a){return N.H.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,a){return N.H.useReducer(e,t,a)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,a){return N.H.useSyncExternalStore(e,t,a)},t.useTransition=function(){return N.H.useTransition()},t.version="19.0.0"},358:(e,t)=>{const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function o(e,t,a){do{const a=e.charCodeAt(t);if(32!==a&&9!==a)return t}while(++t<a);return a}function c(e,t,a){for(;t>a;){const a=e.charCodeAt(--t);if(32!==a&&9!==a)return t+1}return a}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(4)},579:(e,t,a)=>{e.exports=a(799)},672:(e,t,a)=>{var n=a(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.flushSync=function(e){var t=o.T,a=i.p;try{if(o.T=null,i.p=2,e)return e()}finally{o.T=t,i.p=a,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var a=t.as,n=c(a,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===a?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:s}):"script"===a&&i.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var a=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var a=t.as,n=c(a,t.crossOrigin);i.d.L(e,a,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var a=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,a){return o.H.useFormState(e,t,a)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var s in n={},t)"key"!==s&&(n[s]=t[s]);else n=t;return t=n.ref,{$$typeof:a,type:e,key:r,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=r,t.jsxs=r},853:(e,t,a)=>{e.exports=a(896)},896:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,r=e[n];if(!(0<s(r,t)))break e;e[n]=t,e[a]=r,a=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var l=2*(n+1)-1,o=e[l],c=l+1,u=e[c];if(0>s(o,a))c<r&&0>s(u,o)?(e[n]=u,e[c]=a,n=c):(e[n]=o,e[l]=a,n=l);else{if(!(c<r&&0>s(u,a)))break e;e[n]=u,e[c]=a,n=c}}}return t}function s(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,m=null,h=3,p=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,a(c,t)}t=n(u)}}function j(e){if(g=!1,b(e),!f)if(null!==n(c))f=!0,A();else{var t=n(u);null!==t&&I(j,t.startTime-e)}}var N,w=!1,S=-1,k=5,C=-1;function E(){return!(t.unstable_now()-C<k)}function z(){if(w){var e=t.unstable_now();C=e;var a=!0;try{e:{f=!1,g&&(g=!1,x(S),S=-1),p=!0;var s=h;try{t:{for(b(e),m=n(c);null!==m&&!(m.expirationTime>e&&E());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var l=i(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){m.callback=l,b(e),a=!0;break t}m===n(c)&&r(c),b(e)}else r(c);m=n(c)}if(null!==m)a=!0;else{var o=n(u);null!==o&&I(j,o.startTime-e),a=!1}}break e}finally{m=null,h=s,p=!1}a=void 0}}finally{a?N():w=!1}}}if("function"===typeof y)N=function(){y(z)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=z,N=function(){T.postMessage(null)}}else N=function(){v(z,0)};function A(){w||(w=!0,N())}function I(e,a){S=v((function(){e(t.unstable_now())}),a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var a=h;h=t;try{return e()}finally{h=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return t()}finally{h=a}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,a(u,e),null===n(c)&&e===n(u)&&(g?(x(S),S=-1):g=!0,I(j,s-i))):(e.sortIndex=l,a(c,e),f||p||(f=!0,A())),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var a=h;h=t;try{return e.apply(this,arguments)}finally{h=a}}}},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(672)}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.m=e,a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"static/js/"+e+".e75445ad.chunk.js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";a.l=(n,r,s,i)=>{if(e[n])e[n].push(r);else{var l,o;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){l=d;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+s),l.src=n),e[n]=[r];var m=(t,a)=>{l.onerror=l.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(a))),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="./",(()=>{var e={792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((a,n)=>r=e[t]=[a,n]));n.push(r[2]=s);var i=a.p+a.u(t),l=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",l.name="ChunkLoadError",l.type=s,l.request=i,r[1](l)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,i=n[0],l=n[1],o=n[2],c=0;if(i.some((t=>0!==e[t]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(o)o(a)}for(t&&t(n);c<i.length;c++)s=i[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkfrontend=self.webpackChunkfrontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n={};a.r(n),a.d(n,{hasBrowserEnv:()=>Pa,hasStandardBrowserEnv:()=>Aa,hasStandardBrowserWebWorkerEnv:()=>Ia,navigator:()=>Ta,origin:()=>Ra});var r=a(43),s=a(391),i=(a(358),"popstate");function l(){return p((function(e,t){let{pathname:a,search:n,hash:r}=e.location;return d("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:a,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function m(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function h(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function p(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:s=!1}=n,l=r.history,c="POP",h=null,p=f();function f(){return(l.state||{idx:null}).idx}function g(){c="POP";let e=f(),t=null==e?null:e-p;p=e,h&&h({action:c,location:x.location,delta:t})}function v(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,a="string"===typeof e?e:m(e);return a=a.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${a}`),new URL(a,t)}null==p&&(p=0,l.replaceState({...l.state,idx:p},""));let x={get action(){return c},get location(){return e(r,l)},listen(e){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(i,g),h=e,()=>{r.removeEventListener(i,g),h=null}},createHref:e=>t(r,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let n=d(x.location,e,t);a&&a(n,e),p=f()+1;let i=u(n,p),o=x.createHref(n);try{l.pushState(i,"",o)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;r.location.assign(o)}s&&h&&h({action:c,location:x.location,delta:1})},replace:function(e,t){c="REPLACE";let n=d(x.location,e,t);a&&a(n,e),p=f();let r=u(n,p),i=x.createHref(n);l.replaceState(r,"",i),s&&h&&h({action:c,location:x.location,delta:0})},go:e=>l.go(e)};return x}function f(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,a,n){let r=T(("string"===typeof t?h(t):t).pathname||"/",a);if(null==r)return null;let s=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every(((e,a)=>e===t[a]));return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=P(r);i=E(s[l],e,n)}return i}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(o(i.relativePath.startsWith(n),`Absolute route path "${i.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(n.length));let l=L([n,i.relativePath]),c=a.concat(i);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let a of x(e.path))r(e,t,a);else r(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,r=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===n.length)return r?[s,""]:[s];let i=x(n.join("/")),l=[];return l.push(...i.map((e=>""===e?s:[s,e].join("/")))),r&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}var y=/^:[\w-]+$/,b=3,j=2,N=1,w=10,S=-2,k=e=>"*"===e;function C(e,t){let a=e.split("/"),n=a.length;return a.some(k)&&(n+=S),t&&(n+=j),a.filter((e=>!k(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?N:w)),n)}function E(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,r={},s="/",i=[];for(let l=0;l<n.length;++l){let e=n[l],o=l===n.length-1,c="/"===s?t:t.slice(s.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),d=e.route;if(!u&&o&&a&&!n[n.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),i.push({params:r,pathname:L([s,u.pathname]),pathnameBase:O(L([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=L([s,u.pathnameBase]))}return i}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];c("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce(((e,t,a)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=l[a]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[a];return e[n]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:i,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function A(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e){let t=I(e);return t.map(((e,a)=>a===t.length-1?e.pathname:e.pathnameBase))}function D(e,t,a){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=h(e):(n={...e},o(!n.pathname||!n.pathname.includes("?"),A("?","pathname","search",n)),o(!n.pathname||!n.pathname.includes("#"),A("#","pathname","hash",n)),o(!n.search||!n.search.includes("#"),A("#","search","hash",n)));let s,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)s=a;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:a,search:n="",hash:r=""}="string"===typeof e?h(e):e,s=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)})),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:s,search:F(n),hash:M(r)}}(n,s),u=l&&"/"!==l&&l.endsWith("/"),d=(i||"."===l)&&a.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var L=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function _(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],B=(new Set($),["GET",...$]);new Set(B),Symbol("ResetLoaderData");var U=r.createContext(null);U.displayName="DataRouter";var H=r.createContext(null);H.displayName="DataRouterState";var V=r.createContext({isTransitioning:!1});V.displayName="ViewTransition";var q=r.createContext(new Map);q.displayName="Fetchers";var W=r.createContext(null);W.displayName="Await";var G=r.createContext(null);G.displayName="Navigation";var J=r.createContext(null);J.displayName="Location";var Q=r.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var K=r.createContext(null);K.displayName="RouteError";function Y(){return null!=r.useContext(J)}function X(){return o(Y(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(J).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(e){r.useContext(G).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(Q);return e?function(){let{router:e}=de("useNavigate"),t=he("useNavigate"),a=r.useRef(!1);ee((()=>{a.current=!0}));let n=r.useCallback((async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(a.current,Z),a.current&&("number"===typeof n?e.navigate(n):await e.navigate(n,{fromRouteId:t,...r}))}),[e,t]);return n}():function(){o(Y(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(U),{basename:t,navigator:a}=r.useContext(G),{matches:n}=r.useContext(Q),{pathname:s}=X(),i=JSON.stringify(R(n)),l=r.useRef(!1);ee((()=>{l.current=!0}));let u=r.useCallback((function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c(l.current,Z),!l.current)return;if("number"===typeof n)return void a.go(n);let o=D(n,JSON.parse(i),s,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:L([t,o.pathname])),(r.replace?a.replace:a.push)(o,r.state,r)}),[t,a,i,s,e]);return u}()}r.createContext(null);function ae(){let{matches:e}=r.useContext(Q),t=e[e.length-1];return t?t.params:{}}function ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:a}=r.useContext(Q),{pathname:n}=X(),s=JSON.stringify(R(a));return r.useMemo((()=>D(e,JSON.parse(s),n,"path"===t)),[e,s,n,t])}function re(e,t,a,n){o(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=r.useContext(G),{matches:l}=r.useContext(Q),u=l[l.length-1],d=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";ge(m,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,x=X();if(t){let e="string"===typeof t?h(t):t;o("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=x;let y=v.pathname||"/",b=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let j=!i&&a&&a.matches&&a.matches.length>0?a.matches:f(e,{pathname:b});c(g||null!=j,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),c(null==j||void 0!==j[j.length-1].route.element||void 0!==j[j.length-1].route.Component||void 0!==j[j.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=ce(j&&j.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:L([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,a,n);return t&&N?r.createElement(J.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function se(){let e=pe(),t=_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),a?r.createElement("pre",{style:s},a):null,l)}var ie=r.createElement(se,null),le=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Q.Provider,{value:this.props.routeContext},r.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(e){let{routeContext:t,match:a,children:n}=e,s=r.useContext(U);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),r.createElement(Q.Provider,{value:t},n)}function ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let n=e,s=a?.errors;if(null!=s){let e=n.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),n=n.slice(0,Math.min(n.length,e+1))}let i=!1,l=-1;if(a)for(let r=0;r<n.length;r++){let e=n[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=a,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){i=!0,n=l>=0?n.slice(0,l+1):[n[0]];break}}}return n.reduceRight(((e,o,c)=>{let u,d=!1,m=null,h=null;a&&(u=s&&o.route.id?s[o.route.id]:void 0,m=o.route.errorElement||ie,i&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):l===c&&(d=!0,h=o.route.hydrateFallbackElement||null)));let p=t.concat(n.slice(0,c+1)),f=()=>{let t;return t=u?m:d?h:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(oe,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=a},children:t})};return a&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?r.createElement(le,{location:a.location,revalidation:a.revalidation,component:m,error:u,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()}),null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(e){let t=r.useContext(U);return o(t,ue(e)),t}function me(e){let t=r.useContext(H);return o(t,ue(e)),t}function he(e){let t=function(e){let t=r.useContext(Q);return o(t,ue(e)),t}(e),a=t.matches[t.matches.length-1];return o(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function pe(){let e=r.useContext(K),t=me("useRouteError"),a=he("useRouteError");return void 0!==e?e:t.errors?.[a]}var fe={};function ge(e,t,a){t||fe[e]||(fe[e]=!0,c(!1,a))}r.memo((function(e){let{routes:t,future:a,state:n}=e;return re(t,void 0,n,a)}));function ve(e){let{to:t,replace:a,state:n,relative:s}=e;o(Y(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=r.useContext(G);c(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=r.useContext(Q),{pathname:u}=X(),d=te(),m=D(t,R(l),u,"path"===s),h=JSON.stringify(m);return r.useEffect((()=>{d(JSON.parse(h),{replace:a,state:n,relative:s})}),[d,h,s,a,n]),null}function xe(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:a=null,location:n,navigationType:s="POP",navigator:i,static:l=!1}=e;o(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:i,static:l,future:{}})),[u,i,l]);"string"===typeof n&&(n=h(n));let{pathname:m="/",search:p="",hash:f="",state:g=null,key:v="default"}=n,x=r.useMemo((()=>{let e=T(m,u);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:v},navigationType:s}}),[u,m,p,f,g,v,s]);return c(null!=x,`<Router basename="${u}"> is not able to match the URL "${m}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==x?null:r.createElement(G.Provider,{value:d},r.createElement(J.Provider,{children:a,value:x}))}function be(e){let{children:t,location:a}=e;return re(je(t),a)}r.Component;function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];return r.Children.forEach(e,((e,n)=>{if(!r.isValidElement(e))return;let s=[...t,n];if(e.type===r.Fragment)return void a.push.apply(a,je(e.props.children,s));o(e.type===xe,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=je(e.props.children,s)),a.push(i)})),a}var Ne="get",we="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map((e=>[a,e])):[[a,n]])}),[]))}var Ce=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||Ee.has(e)?e:(c(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${we}"`),null)}function Pe(e,t){let a,n,r,s,i;if(Se(l=e)&&"form"===l.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?T(i,t):null,a=e.getAttribute("method")||Ne,r=ze(e.getAttribute("enctype"))||we,s=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||i.getAttribute("action");if(n=l?T(l,t):null,a=e.getAttribute("formmethod")||i.getAttribute("method")||Ne,r=ze(e.getAttribute("formenctype"))||ze(i.getAttribute("enctype"))||we,s=new FormData(i,e),!function(){if(null===Ce)try{new FormData(document.createElement("form"),0),Ce=!1}catch(e){Ce=!0}return Ce}()){let{name:t,type:a,value:n}=e;if("image"===a){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,n)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Ne,n=null,r=we,i=e}var l;return s&&"text/plain"===r&&(i=s,s=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:s,body:i}}function Te(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ae(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ie(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function De(e,t,a,n,r,s){let i=(e,t)=>!a[t]||e.route.id!==a[t].route.id,l=(e,t)=>a[t].pathname!==e.pathname||a[t].route.path?.endsWith("*")&&a[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>i(e,t)||l(e,t))):"data"===s?t.filter(((t,s)=>{let o=n.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(i(t,s)||l(t,s))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0})):[]}function Le(e){return[...new Set(e)]}function Oe(e,t){let a=new Set,n=new Set(t);return e.reduce(((e,r)=>{if(t&&!Ie(r)&&"script"===r.as&&r.href&&n.has(r.href))return e;let s=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}(r));return a.has(s)||(a.add(s),e.push({key:s,link:r})),e}),[])}function Fe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Me(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}r.Component;function _e(e){let{error:t,isOutsideRemixApp:a}=e;console.error(t);let n,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(_(t))return r.createElement($e,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)n=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(e)}return r.createElement($e,{title:"Application Error!",isOutsideRemixApp:a},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),s)}function $e(e){let{title:t,renderScripts:a,isOutsideRemixApp:n,children:s}=e,{routeModules:i}=qe();return i.root?.Layout&&!n?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?r.createElement(Xe,null):null)))}function Be(e){return!e}function Ue(){let e=r.useContext(U);return Te(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function He(){let e=r.useContext(H);return Te(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ve=r.createContext(void 0);function qe(){let e=r.useContext(Ve);return Te(e,"You must render this element inside a <HydratedRouter> element"),e}function We(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Ge(e,t,a){if(a&&!Ye)return[e[0]];if(t){let a=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,a+1)}return e}function Je(e){let{page:t,...a}=e,{router:n}=Ue(),s=r.useMemo((()=>f(n.routes,t,n.basename)),[n.routes,t,n.basename]);return s?r.createElement(Ke,{page:t,matches:s,...a}):null}function Qe(e){let{manifest:t,routeModules:a}=qe(),[n,s]=r.useState([]);return r.useEffect((()=>{let n=!1;return async function(e,t,a){return Oe((await Promise.all(e.map((async e=>{let n=t.routes[e.route.id];if(n){let e=await Ae(n,a);return e.links?e.links():[]}return[]})))).flat(1).filter(Re).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,a).then((e=>{n||s(e)})),()=>{n=!0}}),[e,t,a]),n}function Ke(e){let{page:t,matches:a,...n}=e,s=X(),{manifest:i,routeModules:l}=qe(),{loaderData:o,matches:c}=He(),u=r.useMemo((()=>De(t,a,c,i,s,"data")),[t,a,c,i,s]),d=r.useMemo((()=>De(t,a,c,i,s,"assets")),[t,a,c,i,s]),m=r.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,n=!1;if(a.forEach((t=>{let a=i.routes[t.route.id];a&&a.hasLoader&&(!u.some((e=>e.route.id===t.route.id))&&t.route.id in o&&l[t.route.id]?.shouldRevalidate||a.hasClientLoader?n=!0:e.add(t.route.id))})),0===e.size)return[];let r=Me(t);return n&&e.size>0&&r.searchParams.set("_routes",a.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[r.pathname+r.search]}),[o,s,i,u,a,t,l]),h=r.useMemo((()=>function(e,t){return Le(e.map((e=>{let a=t.routes[e.route.id];if(!a)return[];let n=[a.module];return a.imports&&(n=n.concat(a.imports)),n})).flat(1))}(d,i)),[d,i]),p=Qe(d);return r.createElement(r.Fragment,null,m.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n}))),h.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...n}))),p.map((e=>{let{key:t,link:a}=e;return r.createElement("link",{key:t,...a})})))}Ve.displayName="FrameworkContext";var Ye=!1;function Xe(e){let{manifest:t,serverHandoffString:a,isSpaMode:n,renderMeta:s}=qe(),{router:i,static:l,staticContext:o}=Ue(),{matches:c}=He(),u=Be(n);s&&(s.didRenderScripts=!0);let d=Ge(c,null,n);r.useEffect((()=>{Ye=!0}),[]);let m=r.useMemo((()=>{let n=o?`window.__reactRouterContext = ${a};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,a)=>`import * as route${a} from ${JSON.stringify(t.routes[e.route.id].module)};`)).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let a=new Set(t.state.matches.map((e=>e.route.id))),n=t.state.location.pathname.split("/").filter(Boolean),r=["/"];for(n.pop();n.length>0;)r.push(`/${n.join("/")}`),n.pop();r.forEach((e=>{let n=f(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let s=[...a].reduce(((t,a)=>Object.assign(t,{[a]:e.routes[a]})),{});return{...e,routes:s}}(t,i),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Fe(n),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Fe(s),type:"module",async:!0}))}),[]),h=d.map((e=>{let a=t.routes[e.route.id];return a?(a.imports||[]).concat([a.module]):[]})).flat(1),p=Ye?[]:t.entry.imports.concat(h);return Ye?null:r.createElement(r.Fragment,null,u?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(g=p,[...new Set(g)]).map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),m);var g}function Ze(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var et="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{et&&(window.__reactRouterVersion="7.1.5")}catch(ai){}function tt(e){let{basename:t,children:a,window:n}=e,s=r.useRef();null==s.current&&(s.current=l({window:n,v5Compat:!0}));let i=s.current,[o,c]=r.useState({action:i.action,location:i.location}),u=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>i.listen(u)),[i,u]),r.createElement(ye,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:i})}var at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=r.forwardRef((function(e,t){let a,{onClick:n,discover:s="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:f,preventScrollReset:g,viewTransition:v,...x}=e,{basename:y}=r.useContext(G),b="string"===typeof f&&at.test(f),j=!1;if("string"===typeof f&&b&&(a=f,et))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),a=T(t.pathname,y);t.origin===e.origin&&null!=a?f=a+t.search+t.hash:j=!0}catch(ai){c(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=r.useContext(G),{hash:s,pathname:i,search:l}=ne(e,{relative:t}),c=i;return"/"!==a&&(c="/"===i?a:L([a,i])),n.createHref({pathname:c,search:l,hash:s})}(f,{relative:l}),[w,S,k]=function(e,t){let a=r.useContext(Ve),[n,s]=r.useState(!1),[i,l]=r.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=t,h=r.useRef(null);r.useEffect((()=>{if("render"===e&&l(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{l(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(n){let e=setTimeout((()=>{l(!0)}),100);return()=>{clearTimeout(e)}}}),[n]);let p=()=>{s(!0)},f=()=>{s(!1),l(!1)};return a?"intent"!==e?[i,h,{}]:[i,h,{onFocus:We(o,p),onBlur:We(c,f),onMouseEnter:We(u,p),onMouseLeave:We(d,f),onTouchStart:We(m,p)}]:[!1,h,{}]}(i,x),C=function(e){let{target:t,replace:a,state:n,preventScrollReset:s,relative:i,viewTransition:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=te(),c=X(),u=ne(e,{relative:i});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==a?a:m(c)===m(u);o(e,{replace:t,state:n,preventScrollReset:s,relative:i,viewTransition:l})}}),[c,o,u,a,n,t,e,s,i,l])}(f,{replace:d,state:h,target:p,preventScrollReset:g,relative:l,viewTransition:v});let E=r.createElement("a",{...x,...k,href:a||N,onClick:j||u?n:function(e){n&&n(e),e.defaultPrevented||C(e)},ref:Ze(t,S),target:p,"data-discover":b||"render"!==s?void 0:"true"});return w&&!b?r.createElement(r.Fragment,null,E,r.createElement(Je,{page:N})):E}));nt.displayName="Link",r.forwardRef((function(e,t){let{"aria-current":a="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:c,viewTransition:u,children:d,...m}=e,h=ne(c,{relative:m.relative}),p=X(),f=r.useContext(H),{navigator:g,basename:v}=r.useContext(G),x=null!=f&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.useContext(V);o(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=it("useViewTransitionState"),s=ne(e,{relative:t.relative});if(!a.isTransitioning)return!1;let i=T(a.currentLocation.pathname,n)||a.currentLocation.pathname,l=T(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=z(s.pathname,l)||null!=z(s.pathname,i)}(h)&&!0===u,y=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=p.pathname,j=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(b=b.toLowerCase(),j=j?j.toLowerCase():null,y=y.toLowerCase()),j&&v&&(j=T(j,v)||j);const N="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,S=b===y||!i&&b.startsWith(y)&&"/"===b.charAt(N),k=null!=j&&(j===y||!i&&j.startsWith(y)&&"/"===j.charAt(y.length)),C={isActive:S,isPending:k,isTransitioning:x},E=S?a:void 0;w="function"===typeof s?s(C):[s,S?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(C):l;return r.createElement(nt,{...m,"aria-current":E,className:w,ref:t,style:P,to:c,viewTransition:u},"function"===typeof d?d(C):d)})).displayName="NavLink";var rt=r.forwardRef(((e,t)=>{let{discover:a="render",fetcherKey:n,navigate:s,reloadDocument:i,replace:l,state:c,method:u=Ne,action:d,onSubmit:h,relative:p,preventScrollReset:f,viewTransition:g,...v}=e,x=ut(),y=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:a}=r.useContext(G),n=r.useContext(Q);o(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ne(e||".",{relative:t})},l=X();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let a=e.toString();i.search=a?`?${a}`:""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==a&&(i.pathname="/"===i.pathname?a:L([a,i.pathname]));return m(i)}(d,{relative:p}),b="get"===u.toLowerCase()?"get":"post",j="string"===typeof d&&at.test(d);return r.createElement("form",{ref:t,method:b,action:y,onSubmit:i?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,a=t?.getAttribute("formmethod")||u;x(t||e.currentTarget,{fetcherKey:n,method:a,navigate:s,replace:l,state:c,relative:p,preventScrollReset:f,viewTransition:g})},...v,"data-discover":j||"render"!==a?void 0:"true"})}));function st(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(e){let t=r.useContext(U);return o(t,st(e)),t}function lt(e){c("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=r.useRef(ke(e)),a=r.useRef(!1),n=X(),s=r.useMemo((()=>function(e,t){let a=ke(e);return t&&t.forEach(((e,n)=>{a.has(n)||t.getAll(n).forEach((e=>{a.append(n,e)}))})),a}(n.search,a.current?null:t.current)),[n.search]),i=te(),l=r.useCallback(((e,t)=>{const n=ke("function"===typeof e?e(s):e);a.current=!0,i("?"+n,t)}),[i,s]);return[s,l]}rt.displayName="Form";var ot=0,ct=()=>`__${String(++ot)}__`;function ut(){let{router:e}=it("useSubmit"),{basename:t}=r.useContext(G),a=he("useRouteId");return r.useCallback((async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:l,formData:o,body:c}=Pe(n,t);if(!1===r.navigate){let t=r.fetcherKey||ct();await e.fetch(t,a,r.action||s,{preventScrollReset:r.preventScrollReset,formData:o,body:c,formMethod:r.method||i,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:o,body:c,formMethod:r.method||i,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:a,flushSync:r.flushSync,viewTransition:r.viewTransition})}),[e,t,a])}new TextEncoder;const dt=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t)).join(" ").trim()};var mt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ht=(0,r.forwardRef)(((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:o,iconNode:c,...u}=e;return(0,r.createElement)("svg",{ref:t,...mt,width:n,height:n,stroke:a,strokeWidth:i?24*Number(s)/Number(n):s,className:dt("lucide",l),...u},[...c.map((e=>{let[t,a]=e;return(0,r.createElement)(t,a)})),...Array.isArray(o)?o:[o]])})),pt=(e,t)=>{const a=(0,r.forwardRef)(((a,n)=>{let{className:s,...i}=a;return(0,r.createElement)(ht,{ref:n,iconNode:t,className:dt(`lucide-${l=e,l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...i});var l}));return a.displayName=`${e}`,a},ft=pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var gt=a(579);const vt=e=>{let{isOpen:t,onClose:a,onRegisterClick:n,onLoginSuccess:s}=e;const[i,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)({}),[m,h]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),[b,j]=(0,r.useState)({}),[N,w]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[C,E]=(0,r.useState)(!1),z=te(),P=(0,r.useRef)(null),T=(0,r.useRef)(null),A=(0,r.useRef)(null);(0,r.useEffect)((()=>{t&&(g&&A.current?setTimeout((()=>{A.current.focus()}),100):!g&&T.current&&setTimeout((()=>{T.current.focus()}),100))}),[t,g]),(0,r.useEffect)((()=>{t&&(l(""),c(""),d({}),h(""),f(!1),v(!1),y(""),j({}),w(""),k(""),E(!1))}),[t]),(0,r.useEffect)((()=>{const e=e=>{if(t)if("Escape"!==e.key){if("Tab"===e.key){var n;const t=null===(n=P.current)||void 0===n?void 0:n.querySelectorAll('input:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])');if(t&&t.length>0){const a=t[0],n=t[t.length-1];e.shiftKey?document.activeElement===a&&(e.preventDefault(),n.focus()):document.activeElement===n&&(e.preventDefault(),a.focus())}}}else a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[t,a]);const I=(e,t)=>a=>{e(a.target.value),d((e=>({...e,[t]:!1}))),h("")},R=e=>{"Enter"!==e.key||p||(e.preventDefault(),D())};async function D(){const e={};if(i||(e.email=!0),o||(e.password=!0),Object.keys(e).length>0)return d(e),h("Toate c\xe2mpurile sunt obligatorii!"),void(e.email&&T.current&&T.current.focus());f(!0),h("");try{const e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:o})});if(!e.ok){if(401===e.status){const t=await e.json();throw new Error(t.message||"Email sau parol\u0103 incorect\u0103!")}if(403===e.status){const t=await e.json();throw new Error(t.message||"Contul nu este activ sau este restric\u021bionat!")}throw new Error("Eroare la autentificare. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}const t=await e.json();if(!t.success)throw new Error(t.message||"Autentificare e\u0219uat\u0103");const n=await fetch("/login/generateToken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:o})});if(!n.ok){if(401===n.status)throw new Error("Email sau parol\u0103 incorect\u0103!");if(403===n.status){const e=await n.text();throw new Error(e||"Acces restric\u021bionat!")}throw new Error("Eroare la generarea sesiunii. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}const r=await n.text();localStorage.setItem("jwtToken",r),localStorage.setItem("userId",t.id),localStorage.setItem("userType",t.userType),localStorage.setItem("isLoggedIn","true"),a(),s&&s(),"admin"===t.userType?z("/admin-dashboard",{replace:!0}):"hall_admin"===t.userType?z("/hall-admin-dashboard",{replace:!0}):"user"===t.userType?z("/user-home",{replace:!0}):window.location.reload()}catch(t){console.error("Login error:",t),h(t.message),T.current&&setTimeout((()=>T.current.focus()),100)}finally{f(!1)}}const L=async()=>{const e={};if(x?(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(x)||(e.email=!0,w("Email-ul nu este valid!")):(e.email=!0,w("Email-ul este obligatoriu!")),Object.keys(e).length>0)j(e);else{E(!0),w("");try{const e=await fetch("/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x})});if(!e.ok){if(404===e.status)throw new Error("Nu exist\u0103 niciun cont cu aceast\u0103 adres\u0103 de email!");if(400===e.status){const t=await e.json();throw new Error(t.message||"Cererea nu este valid\u0103!")}if(403===e.status){const t=await e.json();throw new Error(t.message||"Contul nu poate fi resetat!")}throw new Error("Eroare la trimiterea email-ului. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}k("Un email cu instruc\u021biuni pentru resetarea parolei a fost trimis la adresa specificat\u0103!"),y(""),setTimeout((()=>{v(!1)}),3e3)}catch(t){console.error("Forgot password error:",t),w(t.message)}finally{E(!1)}}};return t?(0,gt.jsx)("div",{className:"login-modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,gt.jsx)("div",{className:"login-modal-content",ref:P,onClick:e=>e.stopPropagation(),children:g?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("h1",{className:"login-modal-title",children:"RESETARE PAROL\u0102"}),(0,gt.jsx)("p",{className:"forgot-password-description",children:"Introdu adresa de email asociat\u0103 contului t\u0103u \u0219i \xee\u021bi vom trimite instruc\u021biuni pentru resetarea parolei."}),(0,gt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),C||L()},className:"login-modal-form",children:[(0,gt.jsxs)("div",{className:"login-input-container "+(b.email?"login-input-error":""),children:[(0,gt.jsx)("input",{ref:A,type:"email",value:x,onChange:e=>{y(e.target.value),j({}),w(""),k("")},onKeyPress:e=>{"Enter"!==e.key||C||(e.preventDefault(),L())},className:"login-modal-input",placeholder:" ",required:!0,disabled:C,autoComplete:"email"}),(0,gt.jsx)("label",{className:"login-floating-label",children:"E-mail"})]}),N&&(0,gt.jsx)("p",{className:"login-error-message",children:N}),S&&(0,gt.jsx)("p",{className:"login-success-message",children:S}),(0,gt.jsx)("button",{type:"submit",className:"login-submit-button "+(C?"loading":""),disabled:C,children:C?"Se trimite...":"Trimite instruc\u021biuni"}),(0,gt.jsx)("button",{type:"button",className:"login-create-account-btn",onClick:()=>{v(!1)},disabled:C,children:"\xcenapoi la autentificare"})]})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("h1",{className:"login-modal-title",children:"LOGIN"}),(0,gt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p||D()},className:"login-modal-form",children:[(0,gt.jsxs)("div",{className:"login-input-container "+(u.email?"login-input-error":""),children:[(0,gt.jsx)("input",{ref:T,type:"email",value:i,onChange:I(l,"email"),onKeyPress:R,className:"login-modal-input",placeholder:" ",required:!0,disabled:p,autoComplete:"email"}),(0,gt.jsx)("label",{className:"login-floating-label",children:"E-mail"}),u.email&&(0,gt.jsx)("span",{className:"sr-only",children:"C\xe2mpul email este obligatoriu"})]}),(0,gt.jsxs)("div",{className:"login-input-container "+(u.password?"login-input-error":""),children:[(0,gt.jsx)("input",{type:"password",value:o,onChange:I(c,"password"),onKeyPress:R,className:"login-modal-input",placeholder:" ",required:!0,disabled:p,autoComplete:"current-password"}),(0,gt.jsx)("label",{className:"login-floating-label",children:"Parola"}),u.password&&(0,gt.jsx)("span",{className:"sr-only",children:"C\xe2mpul parol\u0103 este obligatoriu"})]}),m&&(0,gt.jsx)("p",{className:"login-error-message",children:m}),(0,gt.jsx)("button",{type:"button",className:"login-forgot-password-btn",onClick:()=>{v(!0)},disabled:p,children:"Ti-ai uitat parola?"}),(0,gt.jsx)("button",{type:"submit",className:"login-submit-button "+(p?"loading":""),disabled:p,children:p?"Se conecteaz\u0103...":"Conectare"}),(0,gt.jsx)("button",{type:"button",className:"login-create-account-btn",onClick:e=>{e.preventDefault(),a(),n()},disabled:p,children:"Nu ai cont? Creeaza-ti un cont nou"})]})]})})}):null},xt=e=>{let{isOpen:t,onClose:a}=e;const[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)({associationName:"",name:"",email:"",birthDate:"",address:"",county:"",city:"",password:"",confirmPassword:"",teamType:"",certificate:null}),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)({}),[m,h]=(0,r.useState)(""),p=(0,r.useRef)(null);if((0,r.useEffect)((()=>{t&&p.current&&setTimeout((()=>{p.current.focus()}),100)}),[t]),(0,r.useEffect)((()=>{const e=e=>{t&&"Escape"===e.key&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[t,a]),!t)return null;const f=e=>{const{name:t,value:a}=e.target;l((e=>({...e,[t]:a}))),d((e=>({...e,[t]:!1}))),h("")},g=e=>{"Enter"===e.key&&(e.preventDefault(),v())},v=async()=>{const e={};var t;if(n&&!i.associationName&&(e.associationName=!0),n||i.name||(e.name=!0),i.email?(t=i.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(e.email=!0,h("Email-ul nu este valid!"))):e.email=!0,i.password||(e.password=!0),i.confirmPassword||(e.confirmPassword=!0),i.password!==i.confirmPassword&&(e.confirmPassword=!0),n&&!i.certificate&&(e.certificate=!0),Object.keys(e).length>0)return d(e),m||h("Toate c\xe2mpurile sunt obligatorii!"),void(p.current&&p.current.focus());const r={name:n?i.associationName:i.name,email:i.email,password:i.password,address:i.address,county:i.county,city:i.city,teamType:n?i.teamType:null,certificate:n?i.certificate:null};!n&&i.birthDate&&(r.birthDate=new Date(i.birthDate).toISOString()),console.log("Sending user data:",r);try{const e=await fetch("/register/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok)alert("Cont creat cu succes!"),a();else{const t=await e.text();alert(`Eroare la crearea contului: ${t}`)}}catch(s){console.error("Eroare la crearea contului:",s),alert("Eroare la crearea contului!")}},x=e=>{s("association"===e)};return(0,gt.jsx)("div",{className:"register-modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,gt.jsxs)("div",{className:"register-modal-content",onClick:e=>e.stopPropagation(),children:[(0,gt.jsx)("h1",{className:"register-modal-title",children:"INREGISTRARE"}),(0,gt.jsxs)("div",{className:"register-type-selector",children:[(0,gt.jsxs)("label",{className:"register-type-option",children:[(0,gt.jsx)("input",{type:"radio",checked:n,onChange:()=>x("association")}),(0,gt.jsx)("span",{children:"Asociatie sportiva"})]}),(0,gt.jsxs)("label",{className:"register-type-option",children:[(0,gt.jsx)("input",{type:"radio",checked:!n,onChange:()=>x("person")}),(0,gt.jsx)("span",{children:"Persoana fizica"})]})]}),(0,gt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v()},className:"register-form",children:[n?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("div",{className:"register-input-container "+(u.associationName?"register-input-error":""),children:[(0,gt.jsx)("input",{ref:p,type:"text",name:"associationName",value:i.associationName,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"organization"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Numele asociatiei"})]}),(0,gt.jsxs)("div",{className:"register-input-container "+(u.teamType?"register-input-error":""),children:[(0,gt.jsxs)("select",{name:"teamType",value:i.teamType,onChange:f,onKeyPress:g,required:!0,className:"register-input register-select",children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 tip echipa"}),(0,gt.jsx)("option",{value:"Juniori",children:"Juniori"}),(0,gt.jsx)("option",{value:"Seniori",children:"Seniori"})]}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Tip echipa"})]}),(0,gt.jsx)("div",{className:"register-certificate-upload "+(u.certificate?"register-certificate-error":""),children:(0,gt.jsxs)("label",{className:"register-file-label",children:[(0,gt.jsxs)("div",{className:"register-upload-content",children:[(0,gt.jsx)("span",{className:"register-upload-icon",children:"\ud83d\udcce"}),(0,gt.jsx)("span",{className:"register-upload-text",children:o?`Fi\u0219ier selectat: ${o}`:"Insereaz\u0103 certificatul de \xeenregistrare la Ministerul Sportului"})]}),(0,gt.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){c(t.name);const e=new FileReader;e.onloadend=()=>{const t=e.result,a=new Uint8Array(t);l((e=>({...e,certificate:Array.from(a)})))},e.readAsArrayBuffer(t)}},className:"register-file-input",accept:".pdf,.jpg,.jpeg,.png"})]})})]}):(0,gt.jsxs)("div",{className:"register-input-container "+(u.name?"register-input-error":""),children:[(0,gt.jsx)("input",{ref:p,type:"text",name:"name",value:i.name,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"name"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Nume"})]}),(0,gt.jsxs)("div",{className:"register-input-container "+(u.email?"register-input-error":""),children:[(0,gt.jsx)("input",{type:"email",name:"email",value:i.email,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"email"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Email"})]}),!n&&(0,gt.jsxs)("div",{className:"register-input-container "+(u.birthDate?"register-input-error":""),children:[(0,gt.jsx)("input",{type:"date",name:"birthDate",value:i.birthDate,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input register-date-input",autoComplete:"bday"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Data nasterii"})]}),(0,gt.jsxs)("div",{className:"register-input-container "+(u.address?"register-input-error":""),children:[(0,gt.jsx)("input",{type:"text",name:"address",value:i.address,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"street-address"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Adresa"})]}),(0,gt.jsxs)("div",{className:"register-input-container "+(u.county?"register-input-error":""),children:[(0,gt.jsx)("input",{type:"text",name:"county",value:i.county,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"address-level1"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Judet"})]}),(0,gt.jsxs)("div",{className:"register-input-container "+(u.city?"register-input-error":""),children:[(0,gt.jsx)("input",{type:"text",name:"city",value:i.city,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"address-level2"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Localitate"})]}),(0,gt.jsxs)("div",{className:"register-input-container "+(u.password?"register-input-error":""),children:[(0,gt.jsx)("input",{type:"password",name:"password",value:i.password,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"new-password"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Parola"})]}),(0,gt.jsxs)("div",{className:"register-input-container "+(u.confirmPassword?"register-input-error":""),children:[(0,gt.jsx)("input",{type:"password",name:"confirmPassword",value:i.confirmPassword,onChange:f,onKeyPress:g,placeholder:" ",required:!0,className:"register-input",autoComplete:"new-password"}),(0,gt.jsx)("label",{className:"register-floating-label",children:"Confirmare parola"})]}),m&&(0,gt.jsx)("p",{className:"register-error-message",children:m}),(0,gt.jsx)("button",{type:"submit",className:"register-submit-button",children:"Creeaz\u0103 cont"})]})]})})},yt=pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),bt=pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);class jt extends r.Component{render(){const{isLoggedIn:e,onLoginClick:t,onRegisterClick:a,onLogout:n}=this.props;return(0,gt.jsxs)("header",{className:"main-header",children:[(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"main-logo-container",children:(0,gt.jsxs)(nt,{to:"/",className:"main-logo-link",children:[(0,gt.jsx)("div",{className:"main-logo",children:(0,gt.jsxs)("div",{className:"main-logo-inner",children:[(0,gt.jsx)("div",{className:"main-logo-face front"}),(0,gt.jsx)("div",{className:"main-logo-face back"}),(0,gt.jsx)("div",{className:"main-logo-face right"}),(0,gt.jsx)("div",{className:"main-logo-face left"}),(0,gt.jsx)("div",{className:"main-logo-face top"}),(0,gt.jsx)("div",{className:"main-logo-face bottom"})]})}),(0,gt.jsxs)("div",{className:"main-logo-text",children:["TrainOn",(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"})]})]})}),(0,gt.jsx)("div",{className:"main-header-right",children:(0,gt.jsx)("div",{className:"main-auth-buttons",children:e?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)(nt,{to:"/profile",className:"main-auth-button profile-button",children:[(0,gt.jsx)(yt,{size:16,className:"button-icon"}),(0,gt.jsx)("span",{className:"button-text",children:"Profilul meu"})]}),(0,gt.jsxs)(nt,{to:"/reservations",className:"main-auth-button reservations-button",children:[(0,gt.jsx)(ft,{size:16,className:"button-icon"}),(0,gt.jsx)("span",{className:"button-text",children:"Rezervari"})]}),(0,gt.jsxs)("button",{onClick:n,className:"main-auth-button logout-button",children:[(0,gt.jsx)(bt,{size:16,className:"button-icon"}),(0,gt.jsx)("span",{className:"button-text",children:"Deconectare"})]})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{onClick:t,className:"main-auth-button login-button",children:(0,gt.jsx)("span",{className:"button-text",children:"Intra in cont"})}),(0,gt.jsx)("button",{onClick:a,className:"main-auth-button register-button",children:(0,gt.jsx)("span",{className:"button-text",children:"Inregistrare"})})]})})})]})}}const Nt=jt,wt=pt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),St=pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);class kt extends r.Component{constructor(e){super(e),this.setValuesFromURL=()=>{const e=new URLSearchParams(window.location.search),t=e.get("city"),a=e.get("sport"),n=e.get("query");this.setState({location:t||this.state.location,activity:a||"Sport",searchQuery:n||""}),this.props.onCityChange&&t&&this.props.onCityChange(t)},this.handleClickOutside=e=>{e.target.closest(".search-bar")||this.setState({isLocationDropdownOpen:!1,isActivityDropdownOpen:!1,showHallSuggestions:!1})},this.fetchCities=async()=>{this.setState({loadingCities:!0});try{const e=await fetch("/sportsHalls/cities");if(e.ok){const t=await e.json(),a=Array.isArray(t)?t:[],n=new URLSearchParams(window.location.search),r=n.get("city")||(a.length>0?a[0]:"");this.setState({cities:a,loadingCities:!1,location:r},(()=>{this.props.onCityChange&&this.state.location&&this.props.onCityChange(this.state.location)}))}else console.error("Eroare la \xeenc\u0103rcarea ora\u0219elor:",e.status),this.setState({cities:[],loadingCities:!1,location:""})}catch(e){console.error("Eroare la \xeenc\u0103rcarea ora\u0219elor:",e),this.setState({cities:[],loadingCities:!1,location:""})}},this.handleLocationChange=e=>{this.setState({location:e,isLocationDropdownOpen:!1}),this.props.onCityChange&&this.props.onCityChange(e)},this.handleActivityChange=e=>{this.setState({activity:e,isActivityDropdownOpen:!1})},this.toggleLocationDropdown=()=>{this.setState((e=>({isLocationDropdownOpen:!e.isLocationDropdownOpen,isActivityDropdownOpen:!1,showHallSuggestions:!1})))},this.toggleActivityDropdown=()=>{this.setState((e=>({isActivityDropdownOpen:!e.isActivityDropdownOpen,isLocationDropdownOpen:!1,showHallSuggestions:!1})))},this.handleSearchChange=e=>{const t=e.target.value;this.setState({searchQuery:t,showHallSuggestions:t.length>=2}),this.suggestionTimeout&&clearTimeout(this.suggestionTimeout),t.length>=2?this.suggestionTimeout=setTimeout((()=>{this.fetchHallSuggestions(t)}),300):this.setState({hallSuggestions:[],showHallSuggestions:!1})},this.fetchHallSuggestions=async e=>{this.setState({loadingSuggestions:!0});try{const t=await fetch(`/sportsHalls/names/suggestions?query=${encodeURIComponent(e)}`);if(t.ok){const e=await t.json();this.setState({hallSuggestions:e,loadingSuggestions:!1})}else console.error("Eroare la \xeenc\u0103rcarea sugestiilor:",t.status),this.setState({hallSuggestions:[],loadingSuggestions:!1})}catch(t){console.error("Eroare la \xeenc\u0103rcarea sugestiilor:",t),this.setState({hallSuggestions:[],loadingSuggestions:!1})}},this.handleSuggestionSelect=e=>{this.setState({searchQuery:e,showHallSuggestions:!1,hallSuggestions:[]})},this.handleSearch=e=>{var t,a;e.preventDefault();const n=new URLSearchParams;this.state.searchQuery&&this.state.searchQuery.trim().length>0&&n.append("query",this.state.searchQuery.trim()),this.state.location&&this.state.location.trim().length>0&&n.append("city",this.state.location.trim()),this.state.activity&&"Sport"!==this.state.activity&&n.append("sport",this.state.activity),null!==(t=this.state.searchQuery)&&void 0!==t&&t.trim()||null!==(a=this.state.location)&&void 0!==a&&a.trim()||"Sport"!==this.state.activity?window.location.href=`/search?${n.toString()}`:alert("V\u0103 rug\u0103m s\u0103 introduce\u021bi cel pu\u021bin un criteriu de c\u0103utare: numele s\u0103lii, ora\u0219ul sau sportul.")},this.state={location:"",activity:"Sport",searchQuery:"",cities:[],loadingCities:!0,isLocationDropdownOpen:!1,isActivityDropdownOpen:!1,hallSuggestions:[],showHallSuggestions:!1,loadingSuggestions:!1},this.suggestionTimeout=null}componentDidMount(){this.fetchCities(),document.addEventListener("click",this.handleClickOutside),this.setValuesFromURL()}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside),this.suggestionTimeout&&clearTimeout(this.suggestionTimeout)}render(){const{cities:e,loadingCities:t,hallSuggestions:a,showHallSuggestions:n,loadingSuggestions:r}=this.state;return(0,gt.jsx)("div",{className:"search-container",children:(0,gt.jsxs)("form",{onSubmit:this.handleSearch,className:"search-bar",children:[(0,gt.jsxs)("div",{className:"input-group",children:[(0,gt.jsx)(wt,{className:"icon"}),(0,gt.jsxs)("div",{className:"custom-select",children:[(0,gt.jsxs)("div",{className:"selected-option",onClick:this.toggleLocationDropdown,children:[t?"Se \xeencarc\u0103 ora\u0219ele...":this.state.location||"Selecteaz\u0103 ora\u0219ul",(0,gt.jsx)(St,{className:"icon-small"})]}),this.state.isLocationDropdownOpen&&!t&&(0,gt.jsx)("div",{className:"options-list",children:e.length>0?e.map((e=>(0,gt.jsx)("div",{className:"option",onClick:()=>this.handleLocationChange(e),children:e},e))):(0,gt.jsx)("div",{className:"option disabled",children:"Nu exist\u0103 ora\u0219e disponibile"})})]})]}),(0,gt.jsx)("div",{className:"input-group",children:(0,gt.jsxs)("div",{className:"custom-select",children:[(0,gt.jsxs)("div",{className:"selected-option",onClick:this.toggleActivityDropdown,children:[this.state.activity,(0,gt.jsx)(St,{className:"icon-small"})]}),this.state.isActivityDropdownOpen&&(0,gt.jsx)("div",{className:"options-list",children:["Sport","Inot","Tenis","Fotbal","Baschet","Handbal","Volei","Polivalenta"].map((e=>(0,gt.jsx)("div",{className:"option",onClick:()=>this.handleActivityChange(e),children:e},e)))})]})}),(0,gt.jsxs)("div",{className:"input-group search-input-group",children:[(0,gt.jsx)("input",{type:"text",value:this.state.searchQuery,onChange:this.handleSearchChange,placeholder:"Denumire sala de sport",className:"search-input",autoComplete:"off"}),n&&(0,gt.jsx)("div",{className:"suggestions-list",children:r?(0,gt.jsx)("div",{className:"suggestion loading",children:"Se \xeencarc\u0103 sugestiile..."}):a.length>0?a.map(((e,t)=>(0,gt.jsx)("div",{className:"suggestion",onClick:()=>this.handleSuggestionSelect(e),children:e},t))):(0,gt.jsx)("div",{className:"suggestion no-results",children:"Nu s-au g\u0103sit s\u0103li cu acest nume"})})]}),(0,gt.jsx)("button",{type:"submit",className:"search-button",disabled:t,children:"CAUT\u0102"})]})})}}const Ct=kt;function Et(e,t){return function(){return e.apply(t,arguments)}}const{toString:zt}=Object.prototype,{getPrototypeOf:Pt}=Object,Tt=(At=Object.create(null),e=>{const t=zt.call(e);return At[t]||(At[t]=t.slice(8,-1).toLowerCase())});var At;const It=e=>(e=e.toLowerCase(),t=>Tt(t)===e),Rt=e=>t=>typeof t===e,{isArray:Dt}=Array,Lt=Rt("undefined");const Ot=It("ArrayBuffer");const Ft=Rt("string"),Mt=Rt("function"),_t=Rt("number"),$t=e=>null!==e&&"object"===typeof e,Bt=e=>{if("object"!==Tt(e))return!1;const t=Pt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ut=It("Date"),Ht=It("File"),Vt=It("Blob"),qt=It("FileList"),Wt=It("URLSearchParams"),[Gt,Jt,Qt,Kt]=["ReadableStream","Request","Response","Headers"].map(It);function Yt(e,t){let a,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Dt(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(a=0;a<s;a++)i=n[a],t.call(null,e[i],i,e)}}function Xt(e,t){t=t.toLowerCase();const a=Object.keys(e);let n,r=a.length;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const Zt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ea=e=>!Lt(e)&&e!==Zt;const ta=(aa="undefined"!==typeof Uint8Array&&Pt(Uint8Array),e=>aa&&e instanceof aa);var aa;const na=It("HTMLFormElement"),ra=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),sa=It("RegExp"),ia=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};Yt(a,((a,r)=>{let s;!1!==(s=t(a,r,e))&&(n[r]=s||a)})),Object.defineProperties(e,n)};const la=It("AsyncFunction"),oa=((e,t)=>{return e?setImmediate:t?(a=`axios@${Math.random()}`,n=[],Zt.addEventListener("message",(e=>{let{source:t,data:r}=e;t===Zt&&r===a&&n.length&&n.shift()()}),!1),e=>{n.push(e),Zt.postMessage(a,"*")}):e=>setTimeout(e);var a,n})("function"===typeof setImmediate,Mt(Zt.postMessage)),ca="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Zt):"undefined"!==typeof process&&process.nextTick||oa,ua={isArray:Dt,isArrayBuffer:Ot,isBuffer:function(e){return null!==e&&!Lt(e)&&null!==e.constructor&&!Lt(e.constructor)&&Mt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Mt(e.append)&&("formdata"===(t=Tt(e))||"object"===t&&Mt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ot(e.buffer),t},isString:Ft,isNumber:_t,isBoolean:e=>!0===e||!1===e,isObject:$t,isPlainObject:Bt,isReadableStream:Gt,isRequest:Jt,isResponse:Qt,isHeaders:Kt,isUndefined:Lt,isDate:Ut,isFile:Ht,isBlob:Vt,isRegExp:sa,isFunction:Mt,isStream:e=>$t(e)&&Mt(e.pipe),isURLSearchParams:Wt,isTypedArray:ta,isFileList:qt,forEach:Yt,merge:function e(){const{caseless:t}=ea(this)&&this||{},a={},n=(n,r)=>{const s=t&&Xt(a,r)||r;Bt(a[s])&&Bt(n)?a[s]=e(a[s],n):Bt(n)?a[s]=e({},n):Dt(n)?a[s]=n.slice():a[s]=n};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Yt(arguments[r],n);return a},extend:function(e,t,a){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Yt(t,((t,n)=>{a&&Mt(t)?e[n]=Et(t,a):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let r,s,i;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],n&&!n(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==a&&Pt(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:Tt,kindOfTest:It,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(Dt(e))return e;let t=e.length;if(!_t(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:na,hasOwnProperty:ra,hasOwnProp:ra,reduceDescriptors:ia,freezeMethods:e=>{ia(e,((t,a)=>{if(Mt(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];Mt(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach((e=>{a[e]=!0}))};return Dt(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Xt,global:Zt,isContextDefined:ea,isSpecCompliantForm:function(e){return!!(e&&Mt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if($t(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const r=Dt(e)?[]:{};return Yt(e,((e,t)=>{const s=a(e,n+1);!Lt(s)&&(r[t]=s)})),t[n]=void 0,r}}return e};return a(e,0)},isAsyncFn:la,isThenable:e=>e&&($t(e)||Mt(e))&&Mt(e.then)&&Mt(e.catch),setImmediate:oa,asap:ca};function da(e,t,a,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}ua.inherits(da,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ua.toJSONObject(this.config),code:this.code,status:this.status}}});const ma=da.prototype,ha={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ha[e]={value:e}})),Object.defineProperties(da,ha),Object.defineProperty(ma,"isAxiosError",{value:!0}),da.from=(e,t,a,n,r,s)=>{const i=Object.create(ma);return ua.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),da.call(i,e.message,t,a,n,r),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const pa=da;function fa(e){return ua.isPlainObject(e)||ua.isArray(e)}function ga(e){return ua.endsWith(e,"[]")?e.slice(0,-2):e}function va(e,t,a){return e?e.concat(t).map((function(e,t){return e=ga(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const xa=ua.toFlatObject(ua,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ya=function(e,t,a){if(!ua.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=ua.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ua.isUndefined(t[e])}))).metaTokens,r=a.visitor||c,s=a.dots,i=a.indexes,l=(a.Blob||"undefined"!==typeof Blob&&Blob)&&ua.isSpecCompliantForm(t);if(!ua.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(ua.isDate(e))return e.toISOString();if(!l&&ua.isBlob(e))throw new pa("Blob is not supported. Use a Buffer instead.");return ua.isArrayBuffer(e)||ua.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let l=e;if(e&&!r&&"object"===typeof e)if(ua.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(ua.isArray(e)&&function(e){return ua.isArray(e)&&!e.some(fa)}(e)||(ua.isFileList(e)||ua.endsWith(a,"[]"))&&(l=ua.toArray(e)))return a=ga(a),l.forEach((function(e,n){!ua.isUndefined(e)&&null!==e&&t.append(!0===i?va([a],n,s):null===i?a:a+"[]",o(e))})),!1;return!!fa(e)||(t.append(va(r,a,s),o(e)),!1)}const u=[],d=Object.assign(xa,{defaultVisitor:c,convertValue:o,isVisitable:fa});if(!ua.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!ua.isUndefined(a)){if(-1!==u.indexOf(a))throw Error("Circular reference detected in "+n.join("."));u.push(a),ua.forEach(a,(function(a,s){!0===(!(ua.isUndefined(a)||null===a)&&r.call(t,a,ua.isString(s)?s.trim():s,n,d))&&e(a,n?n.concat(s):[s])})),u.pop()}}(e),t};function ba(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ja(e,t){this._pairs=[],e&&ya(e,this,t)}const Na=ja.prototype;Na.append=function(e,t){this._pairs.push([e,t])},Na.toString=function(e){const t=e?function(t){return e.call(this,t,ba)}:ba;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const wa=ja;function Sa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ka(e,t,a){if(!t)return e;const n=a&&a.encode||Sa;ua.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let s;if(s=r?r(t,a):ua.isURLSearchParams(t)?t.toString():new wa(t,a).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ca=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ua.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ea={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},za={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:wa,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Pa="undefined"!==typeof window&&"undefined"!==typeof document,Ta="object"===typeof navigator&&navigator||void 0,Aa=Pa&&(!Ta||["ReactNative","NativeScript","NS"].indexOf(Ta.product)<0),Ia="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ra=Pa&&window.location.href||"http://localhost",Da={...n,...za};const La=function(e){function t(e,a,n,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),l=r>=e.length;if(s=!s&&ua.isArray(n)?n.length:s,l)return ua.hasOwnProp(n,s)?n[s]=[n[s],a]:n[s]=a,!i;n[s]&&ua.isObject(n[s])||(n[s]=[]);return t(e,a,n[s],r)&&ua.isArray(n[s])&&(n[s]=function(e){const t={},a=Object.keys(e);let n;const r=a.length;let s;for(n=0;n<r;n++)s=a[n],t[s]=e[s];return t}(n[s])),!i}if(ua.isFormData(e)&&ua.isFunction(e.entries)){const a={};return ua.forEachEntry(e,((e,n)=>{t(function(e){return ua.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,a,0)})),a}return null};const Oa={transitional:Ea,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,r=ua.isObject(e);r&&ua.isHTMLForm(e)&&(e=new FormData(e));if(ua.isFormData(e))return n?JSON.stringify(La(e)):e;if(ua.isArrayBuffer(e)||ua.isBuffer(e)||ua.isStream(e)||ua.isFile(e)||ua.isBlob(e)||ua.isReadableStream(e))return e;if(ua.isArrayBufferView(e))return e.buffer;if(ua.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ya(e,new Da.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,n){return Da.isNode&&ua.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ua.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ya(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,a){if(ua.isString(e))try{return(t||JSON.parse)(e),ua.trim(e)}catch(ai){if("SyntaxError"!==ai.name)throw ai}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Oa.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ua.isResponse(e)||ua.isReadableStream(e))return e;if(e&&ua.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(ai){if(a){if("SyntaxError"===ai.name)throw pa.from(ai,pa.ERR_BAD_RESPONSE,this,null,this.response);throw ai}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Da.classes.FormData,Blob:Da.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ua.forEach(["delete","get","head","post","put","patch"],(e=>{Oa.headers[e]={}}));const Fa=Oa,Ma=ua.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_a=Symbol("internals");function $a(e){return e&&String(e).trim().toLowerCase()}function Ba(e){return!1===e||null==e?e:ua.isArray(e)?e.map(Ba):String(e)}function Ua(e,t,a,n,r){return ua.isFunction(n)?n.call(this,t,a):(r&&(t=a),ua.isString(t)?ua.isString(n)?-1!==t.indexOf(n):ua.isRegExp(n)?n.test(t):void 0:void 0)}class Ha{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function r(e,t,a){const r=$a(t);if(!r)throw new Error("header name must be a non-empty string");const s=ua.findKey(n,r);(!s||void 0===n[s]||!0===a||void 0===a&&!1!==n[s])&&(n[s||t]=Ba(e))}const s=(e,t)=>ua.forEach(e,((e,a)=>r(e,a,t)));if(ua.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ua.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let a,n,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!a||t[a]&&Ma[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)})),t})(e),t);else if(ua.isHeaders(e))for(const[i,l]of e.entries())r(l,i,a);else null!=e&&r(t,e,a);return this}get(e,t){if(e=$a(e)){const a=ua.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(ua.isFunction(t))return t.call(this,e,a);if(ua.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$a(e)){const a=ua.findKey(this,e);return!(!a||void 0===this[a]||t&&!Ua(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function r(e){if(e=$a(e)){const r=ua.findKey(a,e);!r||t&&!Ua(0,a[r],r,t)||(delete a[r],n=!0)}}return ua.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const r=t[a];e&&!Ua(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,a={};return ua.forEach(this,((n,r)=>{const s=ua.findKey(a,r);if(s)return t[s]=Ba(n),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(r):String(r).trim();i!==r&&delete t[r],t[i]=Ba(n),a[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ua.forEach(this,((a,n)=>{null!=a&&!1!==a&&(t[n]=e&&ua.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,a]=e;return t+": "+a})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[_a]=this[_a]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=$a(e);t[n]||(!function(e,t){const a=ua.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+a,{value:function(e,a,r){return this[n].call(this,t,e,a,r)},configurable:!0})}))}(a,e),t[n]=!0)}return ua.isArray(e)?e.forEach(n):n(e),this}}Ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ua.reduceDescriptors(Ha.prototype,((e,t)=>{let{value:a}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[n]=e}}})),ua.freezeMethods(Ha);const Va=Ha;function qa(e,t){const a=this||Fa,n=t||a,r=Va.from(n.headers);let s=n.data;return ua.forEach(e,(function(e){s=e.call(a,s,r.normalize(),t?t.status:void 0)})),r.normalize(),s}function Wa(e){return!(!e||!e.__CANCEL__)}function Ga(e,t,a){pa.call(this,null==e?"canceled":e,pa.ERR_CANCELED,t,a),this.name="CanceledError"}ua.inherits(Ga,pa,{__CANCEL__:!0});const Ja=Ga;function Qa(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new pa("Request failed with status code "+a.status,[pa.ERR_BAD_REQUEST,pa.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const Ka=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=n[i];r||(r=o),a[s]=l,n[s]=o;let u=i,d=0;for(;u!==s;)d+=a[u++],u%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*d/m):void 0}};const Ya=function(e,t){let a,n,r=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,a=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=s?i(o,e):(a=o,n||(n=setTimeout((()=>{n=null,i(a)}),s-t)))},()=>a&&i(a)]},Xa=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=Ka(50,250);return Ya((a=>{const s=a.loaded,i=a.lengthComputable?a.total:void 0,l=s-n,o=r(l);n=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&s<=i?(i-s)/o:void 0,event:a,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),a)},Za=(e,t)=>{const a=null!=e;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},en=e=>function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return ua.asap((()=>e(...a)))},tn=Da.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,Da.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(Da.origin),Da.navigator&&/(msie|trident)/i.test(Da.navigator.userAgent)):()=>!0,an=Da.hasStandardBrowserEnv?{write(e,t,a,n,r,s){const i=[e+"="+encodeURIComponent(t)];ua.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),ua.isString(n)&&i.push("path="+n),ua.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function nn(e,t,a){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&n||0==a?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const rn=e=>e instanceof Va?{...e}:e;function sn(e,t){t=t||{};const a={};function n(e,t,a,n){return ua.isPlainObject(e)&&ua.isPlainObject(t)?ua.merge.call({caseless:n},e,t):ua.isPlainObject(t)?ua.merge({},t):ua.isArray(t)?t.slice():t}function r(e,t,a,r){return ua.isUndefined(t)?ua.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function s(e,t){if(!ua.isUndefined(t))return n(void 0,t)}function i(e,t){return ua.isUndefined(t)?ua.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function l(a,r,s){return s in t?n(a,r):s in e?n(void 0,a):void 0}const o={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,a)=>r(rn(e),rn(t),0,!0)};return ua.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=o[n]||r,i=s(e[n],t[n],n);ua.isUndefined(i)&&s!==l||(a[n]=i)})),a}const ln=e=>{const t=sn({},e);let a,{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Va.from(l),t.url=ka(nn(t.baseURL,t.url),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ua.isFormData(n))if(Da.hasStandardBrowserEnv||Da.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(a=l.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(Da.hasStandardBrowserEnv&&(r&&ua.isFunction(r)&&(r=r(t)),r||!1!==r&&tn(t.url))){const e=s&&i&&an.read(i);e&&l.set(s,e)}return t},on="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){const n=ln(e);let r=n.data;const s=Va.from(n.headers).normalize();let i,l,o,c,u,{responseType:d,onUploadProgress:m,onDownloadProgress:h}=n;function p(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=Va.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Qa((function(e){t(e),p()}),(function(e){a(e),p()}),{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(a(new pa("Request aborted",pa.ECONNABORTED,e,f)),f=null)},f.onerror=function(){a(new pa("Network Error",pa.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||Ea;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),a(new pa(t,r.clarifyTimeoutError?pa.ETIMEDOUT:pa.ECONNABORTED,e,f)),f=null},void 0===r&&s.setContentType(null),"setRequestHeader"in f&&ua.forEach(s.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),ua.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),d&&"json"!==d&&(f.responseType=n.responseType),h&&([o,u]=Xa(h,!0),f.addEventListener("progress",o)),m&&f.upload&&([l,c]=Xa(m),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{f&&(a(!t||t.type?new Ja(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);v&&-1===Da.protocols.indexOf(v)?a(new pa("Unsupported protocol "+v+":",pa.ERR_BAD_REQUEST,e)):f.send(r||null)}))},cn=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,n=new AbortController;const r=function(e){if(!a){a=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof pa?t:new Ja(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,r(new pa(`timeout ${t} of ms exceeded`,pa.ETIMEDOUT))}),t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:l}=n;return l.unsubscribe=()=>ua.asap(i),l}},un=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let n,r=0;for(;r<a;)n=r+t,yield e.slice(r,n),r=n},dn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:a}=await t.read();if(e)break;yield a}}finally{await t.cancel()}},mn=(e,t,a,n)=>{const r=async function*(e,t){for await(const a of dn(e))yield*un(a,t)}(e,t);let s,i=0,l=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return l(),void e.close();let s=n.byteLength;if(a){let e=i+=s;a(e)}e.enqueue(new Uint8Array(n))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},hn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,pn=hn&&"function"===typeof ReadableStream,fn=hn&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),gn=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!e(...a)}catch(ai){return!1}},vn=pn&&gn((()=>{let e=!1;const t=new Request(Da.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),xn=pn&&gn((()=>ua.isReadableStream(new Response("").body))),yn={stream:xn&&(e=>e.body)};var bn;hn&&(bn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!yn[e]&&(yn[e]=ua.isFunction(bn[e])?t=>t[e]():(t,a)=>{throw new pa(`Response type '${e}' is not supported`,pa.ERR_NOT_SUPPORT,a)})})));const jn=async(e,t)=>{const a=ua.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(ua.isBlob(e))return e.size;if(ua.isSpecCompliantForm(e)){const t=new Request(Da.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ua.isArrayBufferView(e)||ua.isArrayBuffer(e)?e.byteLength:(ua.isURLSearchParams(e)&&(e+=""),ua.isString(e)?(await fn(e)).byteLength:void 0)})(t):a},Nn=hn&&(async e=>{let{url:t,method:a,data:n,signal:r,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:m}=ln(e);c=c?(c+"").toLowerCase():"text";let h,p=cn([r,s&&s.toAbortSignal()],i);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(o&&vn&&"get"!==a&&"head"!==a&&0!==(g=await jn(u,n))){let e,a=new Request(t,{method:"POST",body:n,duplex:"half"});if(ua.isFormData(n)&&(e=a.headers.get("content-type"))&&u.setContentType(e),a.body){const[e,t]=Za(g,Xa(en(o)));n=mn(a.body,65536,e,t)}}ua.isString(d)||(d=d?"include":"omit");const r="credentials"in Request.prototype;h=new Request(t,{...m,signal:p,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:r?d:void 0});let s=await fetch(h);const i=xn&&("stream"===c||"response"===c);if(xn&&(l||i&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=ua.toFiniteNumber(s.headers.get("content-length")),[a,n]=l&&Za(t,Xa(en(l),!0))||[];s=new Response(mn(s.body,65536,a,(()=>{n&&n(),f&&f()})),e)}c=c||"text";let v=await yn[ua.findKey(yn,c)||"text"](s,e);return!i&&f&&f(),await new Promise(((t,a)=>{Qa(t,a,{data:v,headers:Va.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:h})}))}catch(v){if(f&&f(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new pa("Network Error",pa.ERR_NETWORK,e,h),{cause:v.cause||v});throw pa.from(v,v&&v.code,e,h)}}),wn={http:null,xhr:on,fetch:Nn};ua.forEach(wn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ai){}Object.defineProperty(e,"adapterName",{value:t})}}));const Sn=e=>`- ${e}`,kn=e=>ua.isFunction(e)||null===e||!1===e,Cn=e=>{e=ua.isArray(e)?e:[e];const{length:t}=e;let a,n;const r={};for(let s=0;s<t;s++){let t;if(a=e[s],n=a,!kn(a)&&(n=wn[(t=String(a)).toLowerCase()],void 0===n))throw new pa(`Unknown adapter '${t}'`);if(n)break;r[t||"#"+s]=n}if(!n){const e=Object.entries(r).map((e=>{let[t,a]=e;return`adapter ${t} `+(!1===a?"is not supported by the environment":"is not available in the build")}));let a=t?e.length>1?"since :\n"+e.map(Sn).join("\n"):" "+Sn(e[0]):"as no adapter specified";throw new pa("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n};function En(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ja(null,e)}function zn(e){En(e),e.headers=Va.from(e.headers),e.data=qa.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Cn(e.adapter||Fa.adapter)(e).then((function(t){return En(e),t.data=qa.call(e,e.transformResponse,t),t.headers=Va.from(t.headers),t}),(function(t){return Wa(t)||(En(e),t&&t.response&&(t.response.data=qa.call(e,e.transformResponse,t.response),t.response.headers=Va.from(t.response.headers))),Promise.reject(t)}))}const Pn="1.8.2",Tn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Tn[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const An={};Tn.transitional=function(e,t,a){function n(e,t){return"[Axios v1.8.2] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,s)=>{if(!1===e)throw new pa(n(r," has been removed"+(t?" in "+t:"")),pa.ERR_DEPRECATED);return t&&!An[r]&&(An[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,s)}},Tn.spelling=function(e){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};const In={assertOptions:function(e,t,a){if("object"!==typeof e)throw new pa("options must be an object",pa.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const s=n[r],i=t[s];if(i){const t=e[s],a=void 0===t||i(t,s,e);if(!0!==a)throw new pa("option "+s+" must be "+a,pa.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new pa("Unknown option "+s,pa.ERR_BAD_OPTION)}},validators:Tn},Rn=In.validators;class Dn{constructor(e){this.defaults=e,this.interceptors={request:new Ca,response:new Ca}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(ai){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=sn(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:r}=t;void 0!==a&&In.assertOptions(a,{silentJSONParsing:Rn.transitional(Rn.boolean),forcedJSONParsing:Rn.transitional(Rn.boolean),clarifyTimeoutError:Rn.transitional(Rn.boolean)},!1),null!=n&&(ua.isFunction(n)?t.paramsSerializer={serialize:n}:In.assertOptions(n,{encode:Rn.function,serialize:Rn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),In.assertOptions(t,{baseUrl:Rn.spelling("baseURL"),withXsrfToken:Rn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&ua.merge(r.common,r[t.method]);r&&ua.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=Va.concat(s,r);const i=[];let l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let u,d=0;if(!l){const e=[zn.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,o),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let m=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=zn.call(this,m)}catch(h){return Promise.reject(h)}for(d=0,u=o.length;d<u;)c=c.then(o[d++],o[d++]);return c}getUri(e){return ka(nn((e=sn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ua.forEach(["delete","get","head","options"],(function(e){Dn.prototype[e]=function(t,a){return this.request(sn(a||{},{method:e,url:t,data:(a||{}).data}))}})),ua.forEach(["post","put","patch"],(function(e){function t(t){return function(a,n,r){return this.request(sn(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}Dn.prototype[e]=t(),Dn.prototype[e+"Form"]=t(!0)}));const Ln=Dn;class On{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{a.subscribe(e),t=e})).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e((function(e,n,r){a.reason||(a.reason=new Ja(e,n,r),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new On((function(t){e=t})),cancel:e}}}const Fn=On;const Mn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mn).forEach((e=>{let[t,a]=e;Mn[a]=t}));const _n=Mn;const $n=function e(t){const a=new Ln(t),n=Et(Ln.prototype.request,a);return ua.extend(n,Ln.prototype,a,{allOwnKeys:!0}),ua.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(sn(t,a))},n}(Fa);$n.Axios=Ln,$n.CanceledError=Ja,$n.CancelToken=Fn,$n.isCancel=Wa,$n.VERSION=Pn,$n.toFormData=ya,$n.AxiosError=pa,$n.Cancel=$n.CanceledError,$n.all=function(e){return Promise.all(e)},$n.spread=function(e){return function(t){return e.apply(null,t)}},$n.isAxiosError=function(e){return ua.isObject(e)&&!0===e.isAxiosError},$n.mergeConfig=sn,$n.AxiosHeaders=Va,$n.formToJSON=e=>La(ua.isHTMLForm(e)?new FormData(e):e),$n.getAdapter=Cn,$n.HttpStatusCode=_n,$n.default=$n;const Bn=$n,Un=e=>{let{selectedCity:t}=e;const[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null),c=te(),[u,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)([]),[p,f]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{try{const e=await Bn.get("/sportsHalls/active");console.log(`Loaded ${e.data.length} active sports halls for featured section`),h(e.data),i(!1),f(!1)}catch(e){console.error("Eroare la \xeenc\u0103rcarea s\u0103lilor active:",e),o("Nu s-au putut \xeenc\u0103rca s\u0103lile de sport."),i(!1),f(!1)}})()}),[]),(0,r.useEffect)((()=>{if(!p){d(!0);const e=setTimeout((()=>{const e=m.filter((e=>e.city===t)).filter((e=>!e.status||"ACTIVE"===e.status)).slice(0,6);console.log(`Filtered ${e.length} active halls for city: ${t}`),n(e),setTimeout((()=>{d(!1)}),300)}),100);return()=>clearTimeout(e)}}),[t,m,p]);const g=e=>{if(e.images&&e.images.length>0){return`/images/${(e.images.find((e=>"cover"===e.description))||e.images[0]).id}`}return"https://via.placeholder.com/400x250?text=Imagine+Indisponibil\u0103"},v=(e,t)=>{const a=Math.floor(e),n=e%1>=.5,r=5-a-(n?1:0);return(0,gt.jsxs)("div",{className:"sports-hall-stars",onClick:e=>((e,t)=>{t.preventDefault(),t.stopPropagation(),c(`/sportsHalls/${e}/reviews`)})(t,e),children:[[...Array(a)].map(((e,t)=>(0,gt.jsx)("span",{className:"sports-hall-star-full",children:"\u2605"},`full-${t}`))),n&&(0,gt.jsx)("span",{className:"sports-hall-star-half",children:"\u2605"}),[...Array(r)].map(((e,t)=>(0,gt.jsx)("span",{className:"sports-hall-star-empty",children:"\u2606"},`empty-${t}`))),(0,gt.jsx)("span",{className:"sports-hall-rating-value",children:e})]})};return p?(0,gt.jsx)("div",{className:"sports-halls-loading",children:"Se \xeencarc\u0103..."}):l?(0,gt.jsx)("div",{className:"sports-halls-error",children:l}):(0,gt.jsxs)("div",{className:"sports-halls-container",children:[(0,gt.jsxs)("h2",{className:"sports-halls-title",children:["S\u0103li de sport populare \xeen ",t]}),(0,gt.jsx)("div",{className:"sports-halls-grid "+(u?"fade-transition":""),children:a.length>0?a.map((e=>{const t=(e=>{const t=e.capacity||0;let a=3.5;return t>100?a+=1.2:t>50?a+=.8:t>20&&(a+=.4),Math.min(5,Math.max(1,a)).toFixed(1)})(e);return(0,gt.jsxs)("div",{className:"sports-hall-card",children:[e.type&&(0,gt.jsx)("span",{className:"sports-hall-badge",children:e.type}),(0,gt.jsx)("div",{className:"sports-hall-image-wrapper",children:(0,gt.jsx)("img",{src:g(e),alt:e.name,className:"sports-hall-image",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/400x250?text=Imagine+Indisponibil\u0103"}})}),(0,gt.jsxs)("div",{className:"sports-hall-info",children:[(0,gt.jsx)("h3",{className:"sports-hall-name",children:e.name}),(0,gt.jsx)("p",{className:"sports-hall-address",children:e.address}),(0,gt.jsxs)("div",{className:"sports-hall-details",children:[(0,gt.jsx)("span",{className:"sports-hall-price",children:(a=e.tariff,a?`${a} RON/1h30`:"Pre\u021b la cerere")}),(0,gt.jsx)("span",{className:"sports-hall-rating",children:v(t,e.id)})]}),(0,gt.jsx)(nt,{to:`/sportsHalls/${e.id}`,className:"sports-hall-link",children:"Vezi detalii"})]})]},e.id);var a})):(0,gt.jsxs)("p",{className:"sports-halls-empty",children:["Nu exist\u0103 s\u0103li active disponibile \xeen ",t,"."]})})]})},Hn=e=>{let{isOpen:t,onClose:a}=e;return t?(0,gt.jsx)("div",{className:"contact-modal-overlay",onClick:a,children:(0,gt.jsxs)("div",{className:"contact-modal",onClick:e=>e.stopPropagation(),children:[(0,gt.jsxs)("div",{className:"contact-modal-header",children:[(0,gt.jsx)("h2",{children:"Contacteaz\u0103-ne"}),(0,gt.jsx)("button",{className:"contact-modal-close",onClick:a,children:"\xd7"})]}),(0,gt.jsxs)("div",{className:"contact-modal-body",children:[(0,gt.jsxs)("div",{className:"contact-info-item",children:[(0,gt.jsx)("div",{className:"contact-icon email-icon",children:"\u2709\ufe0f"}),(0,gt.jsxs)("div",{className:"contact-details",children:[(0,gt.jsx)("h3",{children:"Email"}),(0,gt.jsx)("a",{href:"mailto:trainon.application@gmail.com",children:"trainon.application@gmail.com"})]})]}),(0,gt.jsxs)("div",{className:"contact-info-item",children:[(0,gt.jsx)("div",{className:"contact-icon phone-icon",children:"\ud83d\udcde"}),(0,gt.jsxs)("div",{className:"contact-details",children:[(0,gt.jsx)("h3",{children:"Telefon"}),(0,gt.jsx)("a",{href:"tel:+40354662177",children:"+40 354 662 177"})]})]}),(0,gt.jsxs)("div",{className:"contact-info-item",children:[(0,gt.jsx)("div",{className:"contact-icon address-icon",children:"\ud83d\udccd"}),(0,gt.jsxs)("div",{className:"contact-details",children:[(0,gt.jsx)("h3",{children:"Adres\u0103"}),(0,gt.jsx)("p",{children:"Strada Universit\u0103\u021bii 7-9, Cluj-Napoca, Rom\xe2nia"})]})]}),(0,gt.jsxs)("div",{className:"contact-info-item",children:[(0,gt.jsx)("div",{className:"contact-icon hours-icon",children:"\ud83d\udd52"}),(0,gt.jsxs)("div",{className:"contact-details",children:[(0,gt.jsx)("h3",{children:"Program"}),(0,gt.jsx)("p",{children:"Luni - Vineri: 9:00 - 18:00"}),(0,gt.jsx)("p",{children:"S\xe2mb\u0103t\u0103: 10:00 - 14:00"}),(0,gt.jsx)("p",{children:"Duminic\u0103: \xcenchis"})]})]})]}),(0,gt.jsx)("div",{className:"contact-modal-footer",children:(0,gt.jsx)("p",{children:"Echipa TrainOn \xee\u021bi st\u0103 la dispozi\u021bie pentru orice \xeentrebare!"})})]})}):null},Vn=()=>{const e=(new Date).getFullYear(),[t,a]=(0,r.useState)(!1);return(0,gt.jsxs)("footer",{className:"global-footer",children:[(0,gt.jsxs)("div",{className:"global-footer-content",children:[(0,gt.jsxs)("div",{className:"global-footer-logo",children:[(0,gt.jsx)("div",{className:"global-footer-logo-icon"}),(0,gt.jsx)("span",{className:"global-footer-logo-text",children:"TrainOn"})]}),(0,gt.jsxs)("div",{className:"global-footer-links",children:[(0,gt.jsx)("a",{href:"/terms",className:"global-footer-link",children:"Termeni \u0219i condi\u021bii"}),(0,gt.jsx)("a",{href:"/privacy",className:"global-footer-link",children:"Politica de confiden\u021bialitate"}),(0,gt.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),a(!0)},className:"global-footer-link",children:"Contact"})]}),(0,gt.jsxs)("div",{className:"global-footer-copyright",children:["\xa9 ",e," Platforma de Administrare"]})]}),(0,gt.jsx)(Hn,{isOpen:t,onClose:()=>{a(!1)}})]})};class qn extends r.Component{constructor(e){super(e),this.fetchUserInfo=async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return void this.setState({loading:!1});const a="",n=await fetch(`${a}/users/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(n.ok){const e=await n.json();this.setState({userType:e.teamType,loading:!1})}else console.error("Failed to fetch user data:",n.status),this.setState({loading:!1})}catch(e){console.error("Error fetching user data:",e),this.setState({loading:!1})}},this.state={userType:null,loading:!0}}componentDidMount(){this.props.isOpen&&this.fetchUserInfo()}componentDidUpdate(e){this.props.isOpen&&!e.isOpen&&this.fetchUserInfo()}render(){const{isOpen:e,onClose:t}=this.props,{userType:a,loading:n}=this.state;if(!e)return null;const r=a&&""!==a.trim();return(0,gt.jsx)("div",{className:"reservation-modal-backdrop",children:(0,gt.jsxs)("div",{className:"reservation-modal-content",children:[(0,gt.jsx)("h2",{className:"reservation-modal-title",children:"Op\u021biuni de rezervare"}),(0,gt.jsx)("p",{className:"reservation-modal-description",children:n?"Se \xeencarc\u0103 op\u021biunile...":r?"Alege modul \xeen care dore\u0219ti s\u0103 rezervi":"Rezerv\u0103 locurile disponibile \xeen acest moment"}),!n&&(0,gt.jsxs)("div",{className:"reservation-options",children:[r&&(0,gt.jsxs)("div",{className:"reservation-option",onClick:()=>{window.location.href="/profile-creation",t()},children:[(0,gt.jsx)("div",{className:"reservation-option-icon",children:(0,gt.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,gt.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,gt.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}),(0,gt.jsx)("h3",{children:"Creeaz\u0103 profil rezerv\u0103ri"}),(0,gt.jsx)("p",{children:"Personalizeaz\u0103 op\u021biunile pentru algoritm de prioritizare echipe"})]}),(0,gt.jsxs)("div",{className:"reservation-option "+(r?"":"single-option"),onClick:()=>{window.location.href="/fcfs-reservation",t()},children:[(0,gt.jsx)("div",{className:"reservation-option-icon",children:(0,gt.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,gt.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,gt.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,gt.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,gt.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),(0,gt.jsx)("h3",{children:"Rezerv\u0103 locurile r\u0103mase"}),(0,gt.jsx)("p",{children:r?"Rezervare rapid\u0103 pentru locurile disponibile \xeen acest moment":"Rezervare pentru locurile disponibile \xeen acest moment"})]})]}),(0,gt.jsx)("div",{className:"reservation-modal-footer",children:(0,gt.jsx)("button",{className:"reservation-modal-close-button",onClick:t,children:"Anuleaz\u0103"})})]})})}}class Wn extends r.Component{constructor(e){super(e),this.checkLoginStatus=()=>{const e="true"===localStorage.getItem("isLoggedIn");this.setState({isLoggedIn:e})},this.handleCityChange=e=>{this.setState({selectedCity:e})},this.toggleLoginModal=()=>{this.setState((e=>({isLoginModalOpen:!e.isLoginModalOpen,isRegisterModalOpen:!1})))},this.toggleRegisterModal=()=>{this.setState((e=>({isRegisterModalOpen:!e.isRegisterModalOpen,isLoginModalOpen:!1})))},this.handleLogout=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userType"),localStorage.removeItem("userId"),localStorage.removeItem("jwtToken"),this.setState({isLoggedIn:!1}),window.location.href="/"},this.toggleReservationModal=()=>{this.state.isLoggedIn?this.setState((e=>({isReservationModalOpen:!e.isReservationModalOpen}))):this.toggleLoginModal()},this.closeReservationModal=()=>{this.setState({isReservationModalOpen:!1})},this.state={selectedCity:"",isLoginModalOpen:!1,isRegisterModalOpen:!1,isReservationModalOpen:!1,isLoggedIn:"true"===localStorage.getItem("isLoggedIn")}}componentDidMount(){this.checkLoginStatus(),window.addEventListener("storage",this.checkLoginStatus)}componentWillUnmount(){window.removeEventListener("storage",this.checkLoginStatus)}render(){const{isLoggedIn:e,selectedCity:t}=this.state;return(0,gt.jsxs)("div",{className:"main-container",children:[(0,gt.jsx)(Nt,{isLoggedIn:e,onLoginClick:this.toggleLoginModal,onRegisterClick:this.toggleRegisterModal,onLogout:this.handleLogout}),(0,gt.jsx)("main",{className:"main-content",children:(0,gt.jsx)(Ct,{onCityChange:this.handleCityChange})}),t&&(0,gt.jsx)(Un,{selectedCity:t}),(0,gt.jsxs)("div",{className:"reservation-cta",children:[(0,gt.jsx)("p",{className:"reservation-text",children:"Dore\u0219ti s\u0103 efectuezi o rezervare rapid\u0103? Folose\u0219te sistemul nostru inteligent pentru a g\u0103si cea mai bun\u0103 op\u021biune pentru tine \u0219i echipa ta."}),(0,gt.jsxs)("button",{onClick:this.toggleReservationModal,className:"reservation-button",children:[(0,gt.jsx)(ft,{size:18}),"Rezerv\u0103 acum"]})]}),(0,gt.jsx)(qn,{isOpen:this.state.isReservationModalOpen,onClose:this.closeReservationModal}),!e&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(vt,{isOpen:this.state.isLoginModalOpen,onClose:this.toggleLoginModal,onRegisterClick:this.toggleRegisterModal,onLoginSuccess:this.checkLoginStatus}),(0,gt.jsx)(xt,{isOpen:this.state.isRegisterModalOpen,onClose:this.toggleRegisterModal})]}),(0,gt.jsx)(Vn,{})]})}}const Gn=Wn,Jn=pt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Qn=pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Kn=pt("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Yn=pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Xn=pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Zn=pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),er=pt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),tr=e=>{let{address:t,city:a,county:n}=e;const[s,i]=(0,r.useState)(""),[l,o]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(!t||!a)return u("Adresa sau ora\u0219ul lipse\u0219te"),void o(!1);try{const e=`${t}, ${a}${n?", "+n:""}, Romania`;fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}`).then((e=>e.json())).then((t=>{if(t&&t.length>0){const e=t[0].lat,a=t[0].lon,n=`https://www.openstreetmap.org/export/embed.html?bbox=${parseFloat(a)-.01},${parseFloat(e)-.01},${parseFloat(a)+.01},${parseFloat(e)+.01}&layer=mapnik&marker=${e},${a}`;i(n)}else{const t=`https://www.openstreetmap.org/export/embed.html?bbox=20.0,44.0,30.0,48.0&layer=mapnik&query=${encodeURIComponent(e)}`;i(t)}o(!1)})).catch((t=>{console.error("Eroare \xeen geocoding:",t);const a=`https://www.openstreetmap.org/export/embed.html?bbox=20.0,44.0,30.0,48.0&layer=mapnik&query=${encodeURIComponent(e)}`;i(a),o(!1)}))}catch(e){console.error("Eroare general\u0103:",e),u("Nu s-a putut \xeenc\u0103rca harta"),o(!1)}}),[t,a,n]),l?(0,gt.jsx)("div",{className:"detail-map-loading",children:"Se \xeencarc\u0103 harta..."}):c?(0,gt.jsx)("div",{className:"detail-map-error",children:c}):(0,gt.jsxs)("div",{className:"detail-map-container",children:[(0,gt.jsx)("h2",{className:"detail-section-title",children:"Loca\u021bie"}),(0,gt.jsx)("div",{className:"detail-map-wrapper",children:(0,gt.jsx)("iframe",{src:s,width:"100%",height:"300",frameBorder:"0",style:{border:0},allowFullScreen:!0,"aria-hidden":"false",tabIndex:"0",title:"Loca\u021bie sal\u0103 de sport",className:"detail-map-iframe",loading:"lazy"})}),(0,gt.jsxs)("div",{className:"detail-map-address",children:[(0,gt.jsxs)("p",{className:"detail-map-address-text",children:[t,", ",a,n?`, ${n}`:""]}),(0,gt.jsx)("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${t}, ${a}, Romania`)}`,target:"_blank",rel:"noopener noreferrer",className:"detail-map-directions",children:"Vezi indica\u021bii rutiere"})]})]})},ar=e=>{let{isOpen:t,onClose:a}=e;const[n,s]=(0,r.useState)(null),[i,l]=(0,r.useState)(!0);(0,r.useEffect)((()=>{t&&o()}),[t]);const o=async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return void l(!1);const a=await fetch(`/users/${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(a.ok){const e=await a.json();s(e.teamType),l(!1)}else console.error("Failed to fetch user data:",a.status),l(!1)}catch(e){console.error("Error fetching user data:",e),l(!1)}};if(!t)return null;const c=n&&""!==n.trim();return(0,gt.jsx)("div",{className:"reservation-modal-backdrop",children:(0,gt.jsxs)("div",{className:"reservation-modal-content",children:[(0,gt.jsx)("h2",{className:"reservation-modal-title",children:"Op\u021biuni de rezervare"}),(0,gt.jsx)("p",{className:"reservation-modal-description",children:i?"Se \xeencarc\u0103 op\u021biunile...":c?"Alege modul \xeen care dore\u0219ti s\u0103 rezervi":"Rezerv\u0103 locurile disponibile \xeen acest moment"}),!i&&(0,gt.jsxs)("div",{className:"reservation-options",children:[c&&(0,gt.jsxs)("div",{className:"reservation-option",onClick:()=>{window.location.href="/profile-creation",a()},children:[(0,gt.jsx)("div",{className:"reservation-option-icon",children:(0,gt.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,gt.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,gt.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}),(0,gt.jsx)("h3",{children:"Creeaz\u0103 profil rezerv\u0103ri"}),(0,gt.jsx)("p",{children:"Personalizeaz\u0103 op\u021biunile pentru algoritm de prioritizare echipe"})]}),(0,gt.jsxs)("div",{className:"reservation-option "+(c?"":"single-option"),onClick:()=>{window.location.href="/fcfs-reservation",a()},children:[(0,gt.jsx)("div",{className:"reservation-option-icon",children:(0,gt.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,gt.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,gt.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,gt.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,gt.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),(0,gt.jsx)("h3",{children:"Rezerv\u0103 locurile r\u0103mase"}),(0,gt.jsx)("p",{children:c?"Rezervare rapid\u0103 pentru locurile disponibile \xeen acest moment":"Rezervare pentru locurile disponibile \xeen acest moment"})]})]}),(0,gt.jsx)("div",{className:"reservation-modal-footer",children:(0,gt.jsx)("button",{className:"reservation-modal-close-button",onClick:a,children:"Anuleaz\u0103"})})]})})},nr=()=>{const{id:e}=ae(),t=te(),[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(0),[d,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)("true"===localStorage.getItem("isLoggedIn")),[f,g]=(0,r.useState)(!1),[v,x]=(0,r.useState)(!1),y="http://localhost:8080";(0,r.useEffect)((()=>{b()}),[e]);const b=async()=>{try{const t=await Bn.get(`${y}/sportsHalls/${e}`);n(t.data),i(!1)}catch(t){console.error("Eroare la \xeenc\u0103rcarea s\u0103lii:",t),o("Nu s-a putut \xeenc\u0103rca sala de sport."),i(!1)}},j=()=>{g(!f),x(!1)},N=()=>{x(!v),g(!1)},w=()=>{t(`/sportsHalls/${e}/reviews`)},S=e=>e?`${y}/images/${e.id}`:"https://via.placeholder.com/800x500?text=Imagine+Indisponibil\u0103";if(s)return(0,gt.jsx)("div",{className:"detail-page-loading",children:"Se \xeencarc\u0103..."});if(l)return(0,gt.jsx)("div",{className:"detail-page-error",children:l});if(!a)return(0,gt.jsx)("div",{className:"detail-page-error",children:"Nu s-a g\u0103sit sala de sport."});const k=(e=>{if(!e||!e.capacity)return 3;const t=e.capacity||0;let a=3.5;t>100?a+=1.2:t>50?a+=.8:t>20&&(a+=.4);return Math.min(5,Math.max(1,a)).toFixed(1)})(a),C=(E=a.facilities)?E.split(",").map((e=>e.trim())):[];var E,z,P;return(0,gt.jsxs)("div",{className:"main-container",children:[(0,gt.jsx)(Nt,{isLoggedIn:h,onLoginClick:j,onRegisterClick:N,onLogout:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userType"),localStorage.removeItem("userId"),localStorage.removeItem("jwtToken"),p(!1),window.location.href="/"}}),(0,gt.jsx)("main",{className:"main-content",children:(0,gt.jsx)(Ct,{onCityChange:e=>{console.log("City changed to:",e)}})}),(0,gt.jsx)("div",{className:"detail-page-wrapper",children:(0,gt.jsxs)("div",{className:"detail-page-container",children:[(0,gt.jsx)("div",{className:"detail-back-link",children:(0,gt.jsxs)(nt,{to:"/",className:"back-link",children:[(0,gt.jsx)(Qn,{size:16}),"\xcenapoi la lista de s\u0103li"]})}),(0,gt.jsxs)("div",{className:"detail-page-header",children:[(0,gt.jsx)("h1",{className:"detail-page-title",children:a.name}),(0,gt.jsxs)("div",{className:"detail-page-meta",children:[(0,gt.jsxs)("div",{className:"detail-page-location",children:[(0,gt.jsx)(Kn,{size:16}),(0,gt.jsxs)("span",{children:[a.address,", ",a.city]})]}),(0,gt.jsxs)("div",{className:"detail-page-rating",children:[(e=>{const t=Math.floor(e),a=e%1>=.5,n=5-t-(a?1:0);return(0,gt.jsxs)("div",{className:"detail-stars",onClick:w,style:{cursor:"pointer"},title:"Vezi recenziile",children:[[...Array(t)].map(((e,t)=>(0,gt.jsx)(Jn,{className:"star-full",fill:"#FFD700",color:"#FFD700",size:18},`full-${t}`))),a&&(0,gt.jsx)(Jn,{className:"star-half",fill:"#FFD700",color:"#FFD700",size:18}),[...Array(n)].map(((e,t)=>(0,gt.jsx)(Jn,{className:"star-empty",color:"#FFD700",size:18},`empty-${t}`))),(0,gt.jsx)("span",{className:"rating-value",children:e})]})})(k),(0,gt.jsx)(nt,{to:`/sportsHalls/${e}/reviews`,className:"view-reviews-link",children:"Vezi toate recenziile"})]})]}),a.type&&(0,gt.jsx)("div",{className:"detail-page-badge",children:a.type})]}),(0,gt.jsxs)("div",{className:"detail-image-gallery",children:[(0,gt.jsx)("div",{className:"detail-main-image-container",children:a.images&&a.images.length>0?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("img",{src:S(a.images[c]),alt:a.name,className:"detail-main-image",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/800x500?text=Imagine+Indisponibil\u0103"}}),a.images.length>1&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{onClick:()=>{a&&a.images&&a.images.length>0&&u((e=>(e-1+a.images.length)%a.images.length))},className:"detail-image-nav detail-prev",children:"\u276e"}),(0,gt.jsx)("button",{onClick:()=>{a&&a.images&&a.images.length>0&&u((e=>(e+1)%a.images.length))},className:"detail-image-nav detail-next",children:"\u276f"})]})]}):(0,gt.jsx)("img",{src:"https://via.placeholder.com/800x500?text=Imagine+Indisponibil\u0103",alt:"Imagine indisponibil\u0103",className:"detail-main-image"})}),a.images&&a.images.length>1&&(0,gt.jsx)("div",{className:"detail-thumbnail-container",children:a.images.map(((e,t)=>(0,gt.jsx)("img",{src:S(e),alt:`Thumbnail ${t+1}`,className:"detail-thumbnail "+(t===c?"active":""),onClick:()=>(e=>{u(e)})(t),onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/100x100?text=Imagine+Indisponibil\u0103"}},e.id)))})]}),(0,gt.jsx)("div",{className:"detail-page-content",children:(0,gt.jsxs)("div",{className:"detail-page-columns",children:[(0,gt.jsxs)("div",{className:"detail-page-left-column",children:[(0,gt.jsxs)("div",{className:"detail-page-section",children:[(0,gt.jsx)("h2",{className:"detail-section-title",children:"Informa\u021bii generale"}),(0,gt.jsxs)("div",{className:"detail-info-grid",children:[(0,gt.jsxs)("div",{className:"detail-info-item",children:[(0,gt.jsx)(Yn,{size:20}),(0,gt.jsxs)("div",{className:"detail-info-text",children:[(0,gt.jsx)("h3",{children:"Tarif"}),(0,gt.jsx)("p",{children:(P=a.tariff,P?`${P} RON/1h30`:"Pre\u021b la cerere")})]})]}),(0,gt.jsxs)("div",{className:"detail-info-item",children:[(0,gt.jsx)(Xn,{size:20}),(0,gt.jsxs)("div",{className:"detail-info-text",children:[(0,gt.jsx)("h3",{children:"Capacitate"}),(0,gt.jsxs)("p",{children:[a.capacity," persoane"]})]})]}),(0,gt.jsxs)("div",{className:"detail-info-item",children:[(0,gt.jsx)(Kn,{size:20}),(0,gt.jsxs)("div",{className:"detail-info-text",children:[(0,gt.jsx)("h3",{children:"Loca\u021bie"}),(0,gt.jsxs)("p",{children:[a.city,", ",a.county]})]})]}),(0,gt.jsxs)("div",{className:"detail-info-item",children:[(0,gt.jsx)(Zn,{size:20}),(0,gt.jsxs)("div",{className:"detail-info-text",children:[(0,gt.jsx)("h3",{children:"Tip sal\u0103"}),(0,gt.jsx)("p",{children:a.type||"Multifunc\u021bional\u0103"})]})]}),(0,gt.jsxs)("div",{className:"detail-info-item "+(a.phoneNumber&&"Nu este disponibil"!==a.phoneNumber?"detail-phone-clickable":""),onClick:()=>{var e;(e=a.phoneNumber)&&"Nu este disponibil"!==e&&(window.location.href=`tel:${e.replace(/\s/g,"")}`)},title:a.phoneNumber&&"Nu este disponibil"!==a.phoneNumber?"Click pentru a apela":"",children:[(0,gt.jsx)(er,{size:20}),(0,gt.jsxs)("div",{className:"detail-info-text",children:[(0,gt.jsx)("h3",{children:"Telefon"}),(0,gt.jsx)("p",{children:(z=a.phoneNumber,z||"Nu este disponibil")})]})]})]})]}),(0,gt.jsxs)("div",{className:"detail-page-section",children:[(0,gt.jsx)("h2",{className:"detail-section-title",children:"Descriere"}),(0,gt.jsx)("p",{className:"detail-description",children:a.description||"Nu exist\u0103 descriere disponibil\u0103 pentru aceast\u0103 sal\u0103 de sport."})]}),(0,gt.jsx)(tr,{address:a.address,city:a.city,county:a.county})]}),(0,gt.jsxs)("div",{className:"detail-page-right-column",children:[(0,gt.jsxs)("div",{className:"detail-page-section",children:[(0,gt.jsx)("h2",{className:"detail-section-title",children:"Facilit\u0103\u021bi"}),C.length>0?(0,gt.jsx)("ul",{className:"detail-facilities-list",children:C.map(((e,t)=>(0,gt.jsxs)("li",{className:"detail-facility-item",children:[(0,gt.jsx)("div",{className:"detail-facility-icon",children:"\u2713"}),(0,gt.jsx)("span",{children:e})]},t)))}):(0,gt.jsx)("p",{className:"detail-no-facilities",children:"Nu exist\u0103 facilit\u0103\u021bi specificate pentru aceast\u0103 sal\u0103."})]}),(0,gt.jsxs)("div",{className:"detail-page-section detail-contact-section",children:[(0,gt.jsx)("h2",{className:"detail-section-title",children:"Rezerv\u0103 acum"}),(0,gt.jsx)("p",{className:"detail-contact-info",children:"Pentru rezerv\u0103ri \u0219i mai multe informa\u021bii, v\u0103 rug\u0103m s\u0103 v\u0103 autentifica\u021bi \xeen cont sau s\u0103 crea\u021bi un cont nou."}),(0,gt.jsx)("div",{className:"detail-contact-buttons",children:h?(0,gt.jsx)("button",{className:"detail-book-button",onClick:()=>{h?m(!0):j()},children:"Rezerv\u0103"}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{onClick:j,className:"detail-login-button",children:"Intr\u0103 \xeen cont"}),(0,gt.jsx)("button",{onClick:N,className:"detail-register-button",children:"Creeaz\u0103 cont"})]})})]})]})]})})]})}),(0,gt.jsx)(Vn,{}),!h&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(vt,{isOpen:f,onClose:j,onRegisterClick:N,onLoginSuccess:()=>{p("true"===localStorage.getItem("isLoggedIn"))}}),(0,gt.jsx)(xt,{isOpen:v,onClose:N})]}),(0,gt.jsx)(ar,{isOpen:d,onClose:()=>{m(!1)}})]})},rr=()=>{const e=X(),t=te(),a=new URLSearchParams(e.search),n=(0,r.useRef)(null),s=(0,r.useRef)(null),i=(0,r.useRef)([]),l=(0,r.useRef)(!1),[o,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)("true"===localStorage.getItem("isLoggedIn")),[b,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[S,k]=(0,r.useState)({city:a.get("city")||"",sport:a.get("sport")||"",query:a.get("query")||""});(0,r.useEffect)((()=>{const e=async()=>{try{d(!0);const e=new URLSearchParams;S.city&&e.append("city",S.city),S.sport&&"Sport"!==S.sport&&e.append("sport",S.sport),S.query&&e.append("query",S.query);const t=`/sportsHalls/search?${e.toString()}`;console.log("Fetching from URL:",t),console.log("Search parameters:",S);const a=await Bn.get(t);console.log(`Found ${a.data.length} results for search:`,S),console.log("Response data:",a.data);const n=await Promise.all(a.data.map((async e=>{if(e.latitude&&e.longitude&&!isNaN(parseFloat(e.latitude))&&!isNaN(parseFloat(e.longitude)))return e;if(e.address&&e.city){const t=await(async(e,t,a)=>{if(!e||!t)return console.log(`Sala cu ID ${a} nu are adres\u0103 sau ora\u0219 complet.`),null;try{const a=`${e}, ${t}, Romania`,n=encodeURIComponent(a),r=await Bn.get(`https://nominatim.openstreetmap.org/search?format=json&q=${n}&limit=1`);if(await new Promise((e=>setTimeout(e,1e3))),r.data&&r.data.length>0){const e=r.data[0];return{latitude:parseFloat(e.lat),longitude:parseFloat(e.lon)}}return console.log(`Nu s-au g\u0103sit coordonate pentru adresa: ${a}`),null}catch(m){return console.error(`Eroare la geocodarea adresei ${e}, ${t}:`,m),null}})(e.address,e.city,e.id);if(t)return{...e,latitude:t.latitude,longitude:t.longitude}}return e})));c(n),d(!1)}catch(t){var e;console.error("Eroare la \xeenc\u0103rcarea s\u0103lilor:",t),console.error("Error details:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),h("Nu s-au putut \xeenc\u0103rca s\u0103lile de sport."),d(!1)}};S.city||S.sport||S.query?(console.log("Starting search with params:",S),e()):(console.log("No search criteria provided"),d(!1),c([]))}),[S,""]),(0,r.useEffect)((()=>{const t=new URLSearchParams(e.search),a={city:t.get("city")||"",sport:t.get("sport")||"",query:t.get("query")||""};console.log("URL changed, new params:",a),k(a)}),[e.search]);(0,r.useEffect)((()=>(s.current&&"undefined"!==typeof window&&window.L&&(()=>{if(s.current&&window.L&&!l.current)try{n.current&&n.current.remove(),console.log("Ini\u021bializez harta...");const e=window.L.map(s.current,{fadeAnimation:!1,zoomAnimation:!1,markerZoomAnimation:!1}).setView([46.7712,23.6236],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e),n.current=e,l.current=!0,setTimeout((()=>{n.current&&(n.current.invalidateSize(),v(!0))}),300),console.log("Harta a fost ini\u021bializat\u0103 cu succes")}catch(m){console.error("Eroare la ini\u021bializarea h\u0103r\u021bii:",m),h("Nu s-a putut ini\u021bializa harta.")}})(),()=>{n.current&&(i.current.forEach((e=>{e&&e.remove&&e.remove()})),i.current=[],n.current.remove(),n.current=null,l.current=!1,v(!1))})),[]),(0,r.useEffect)((()=>{!u&&!m&&o.length>0&&g&&(()=>{if(n.current&&o.length&&g)try{console.log("Adaug markere pe hart\u0103..."),i.current.forEach((e=>{e&&e.remove&&e.remove()})),i.current=[];const a=[];let r=0;if(o.forEach((e=>{if(!e.latitude||!e.longitude)return void console.log(`Sala ${e.name} nu are coordonate valide. Nu se adaug\u0103 marker.`);const s=parseFloat(e.latitude),l=parseFloat(e.longitude);if(isNaN(s)||isNaN(l))console.log(`Sala ${e.name} are coordonate invalide. Nu se adaug\u0103 marker.`);else{a.push([s,l]),r++;try{const a=window.L.marker([s,l]).addTo(n.current).bindTooltip(e.name,{permanent:!1,direction:"top"});a.hallId=e.id,a.on("mouseover",(()=>{f(e.id),a.openTooltip()})),a.on("mouseout",(()=>{f(null),a.closeTooltip()})),a.on("click",(()=>{t(`/sportsHalls/${e.id}`)})),i.current.push(a)}catch(o){console.error("Eroare la ad\u0103ugarea markerului:",o)}}})),a.length>0)try{n.current.fitBounds(a,{padding:[30,30]}),console.log(`Au fost ad\u0103ugate ${r} markere pe hart\u0103.`)}catch(e){console.error("Eroare la fitBounds:",e),n.current.setView([46.7712,23.6236],13)}else console.log("Nu exist\u0103 s\u0103li cu coordonate valide pentru afi\u0219are pe hart\u0103."),n.current.setView([46.7712,23.6236],13)}catch(m){console.error("Eroare la ad\u0103ugarea markerelor:",m)}})()}),[o,u,m,g]),(0,r.useEffect)((()=>{const e=()=>{n.current&&n.current.invalidateSize()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const C=()=>{j(!b),w(!1)},E=()=>{w(!N),j(!1)},z=e=>{if(!e||!e.capacity)return 3;const t=e.capacity||0;let a=3.5;t>100?a+=1.2:t>50?a+=.8:t>20&&(a+=.4);return Math.min(5,Math.max(1,a)).toFixed(1)},P=e=>{const t=Math.floor(e),a=e%1>=.5,n=5-t-(a?1:0);return(0,gt.jsxs)("div",{className:"srp-result-stars",children:[[...Array(t)].map(((e,t)=>(0,gt.jsx)(Jn,{className:"srp-star-full",fill:"#FFD700",color:"#FFD700",size:14},`full-${t}`))),a&&(0,gt.jsx)(Jn,{className:"srp-star-half",fill:"#FFD700",color:"#FFD700",size:14}),[...Array(n)].map(((e,t)=>(0,gt.jsx)(Jn,{className:"srp-star-empty",color:"#FFD700",size:14},`empty-${t}`))),(0,gt.jsx)("span",{className:"srp-rating-value",children:e})]})},T=e=>{if(e.images&&e.images.length>0){return`/images/${(e.images.find((e=>"cover"===e.description))||e.images[0]).id}`}return"https://via.placeholder.com/400x250?text=Imagine+Indisponibil\u0103"};return(0,gt.jsxs)("div",{className:"main-container",children:[(0,gt.jsx)(Nt,{isLoggedIn:x,onLoginClick:C,onRegisterClick:E,onLogout:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userType"),localStorage.removeItem("userId"),localStorage.removeItem("jwtToken"),y(!1),window.location.href="/"}}),(0,gt.jsx)("div",{className:"srp-search-container",children:(0,gt.jsx)("div",{className:"srp-search-wrapper",children:(0,gt.jsx)(Ct,{})})}),(0,gt.jsxs)("div",{className:"srp-results-content",children:[(0,gt.jsx)("h1",{className:"srp-results-title",children:(()=>{if(!S.city&&!S.sport&&!S.query)return"Introduce\u021bi criterii de c\u0103utare pentru a vedea rezultatele";let e="S\u0103li de sport";return S.query&&(e+=` "${S.query}"`),S.city&&(e+=` \xeen ${S.city}`),S.sport&&"Sport"!==S.sport&&(e+=` - ${S.sport}`),e})()}),(0,gt.jsxs)("div",{className:"srp-results-layout",children:[(0,gt.jsx)("div",{className:"srp-results-list",children:S.city||S.sport||S.query?u?(0,gt.jsx)("div",{className:"srp-loading",children:"Se \xeencarc\u0103 s\u0103lile..."}):m?(0,gt.jsx)("div",{className:"srp-error",children:m}):0===o.length?(0,gt.jsx)("div",{className:"srp-no-results",children:"Nu s-au g\u0103sit s\u0103li care s\u0103 corespund\u0103 criteriilor de c\u0103utare."}):o.map((e=>{return(0,gt.jsxs)("div",{className:"srp-result-card "+(p===e.id?"srp-result-highlighted":""),onMouseEnter:()=>f(e.id),onMouseLeave:()=>f(null),children:[(0,gt.jsxs)("div",{className:"srp-result-image-container",children:[(0,gt.jsx)("img",{src:T(e),alt:e.name,className:"srp-result-image",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/400x250?text=Imagine+Indisponibil\u0103"}}),e.type&&(0,gt.jsx)("div",{className:"srp-result-badge",children:e.type})]}),(0,gt.jsxs)("div",{className:"srp-result-details",children:[(0,gt.jsx)("h2",{className:"srp-result-name",children:e.name}),(0,gt.jsxs)("div",{className:"srp-result-location",children:[(0,gt.jsx)(wt,{size:14}),(0,gt.jsxs)("span",{children:[e.address,", ",e.city]})]}),(0,gt.jsx)("div",{className:"srp-result-rating",children:P(z(e))}),(0,gt.jsx)("div",{className:"srp-result-price",children:(t=e.tariff,t?`${t} RON/or\u0103`:"Pre\u021b la cerere")}),e.facilities&&(0,gt.jsx)("div",{className:"srp-result-facilities",children:(()=>{const t=e.facilities.split(",").map((e=>e.trim())),a=t.slice(0,2),n=t.length-2;return(0,gt.jsxs)(gt.Fragment,{children:[a.map(((e,t)=>(0,gt.jsx)("span",{className:"srp-facility-badge",children:e},t))),n>0&&(0,gt.jsxs)("span",{className:"srp-facility-more",children:["+ ",n," mai multe"]})]})})()}),(0,gt.jsx)(nt,{to:`/sportsHalls/${e.id}`,className:"srp-result-link",children:"Vezi detalii"})]})]},e.id);var t})):(0,gt.jsx)("div",{className:"srp-no-results",children:"V\u0103 rug\u0103m s\u0103 introduce\u021bi criterii de c\u0103utare: ora\u0219ul, sportul sau numele s\u0103lii."})}),(0,gt.jsx)("div",{className:"srp-results-map",children:(0,gt.jsx)("div",{ref:s,className:"srp-map-container"})})]})]}),(0,gt.jsx)(Vn,{}),!x&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(vt,{isOpen:b,onClose:C,onRegisterClick:E,onLoginSuccess:()=>{y("true"===localStorage.getItem("isLoggedIn"))}}),(0,gt.jsx)(xt,{isOpen:N,onClose:E})]})]})},sr=pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ir=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),lr=pt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),or=pt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),cr=pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ur=pt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),dr=pt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),mr=pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hr=pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),pr=pt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),fr=e=>{let{userCards:t,onClose:a,onCardsUpdated:n}=e;const[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[d,m]=(0,r.useState)({number:"",expiry:"",cvc:"",name:"",setAsDefault:!1}),h=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("jwtToken")}`}),p=(e,t)=>{let a=t;"number"===e?a=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),a=t.match(/\d{4,16}/g),n=a&&a[0]||"",r=[];for(let s=0,i=n.length;s<i;s+=4)r.push(n.substring(s,s+4));return r.length?r.join(" "):t})(t):"expiry"===e?a=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?t.substring(0,2)+"/"+t.substring(2,4):t})(t):"cvc"===e&&(a=t.replace(/[^0-9]/g,"").substring(0,4)),m((t=>({...t,[e]:a})))};return(0,gt.jsx)("div",{className:"card-modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,gt.jsxs)("div",{className:"card-modal-content",children:[(0,gt.jsxs)("div",{className:"card-modal-header",children:[(0,gt.jsx)("h3",{children:"Gestioneaz\u0103 cardurile tale"}),(0,gt.jsx)("button",{className:"card-modal-close",onClick:a,"aria-label":"\xcenchide modal",children:"\xd7"})]}),(0,gt.jsxs)("div",{className:"card-modal-body",children:[c&&(0,gt.jsx)("div",{className:"card-error-message",children:c}),(0,gt.jsx)("div",{className:"cards-list",children:0===t.length?(0,gt.jsxs)("div",{className:"no-cards-message",children:[(0,gt.jsx)(dr,{size:48}),(0,gt.jsx)("p",{children:"Nu ave\u021bi carduri salvate"}),(0,gt.jsx)("p",{children:"Ad\u0103uga\u021bi primul card pentru pl\u0103\u021bi automate"})]}):t.map((e=>(0,gt.jsxs)("div",{className:"card-item",children:[(0,gt.jsxs)("div",{className:"card-info",children:[(0,gt.jsx)(dr,{size:20}),(0,gt.jsxs)("div",{className:"card-details",children:[(0,gt.jsx)("span",{className:"card-name",children:e.displayName}),(0,gt.jsxs)("div",{className:"card-badges",children:[e.isDefault&&(0,gt.jsx)("span",{className:"card-badge card-badge-default",children:"Default"}),e.isExpired&&(0,gt.jsx)("span",{className:"card-badge card-badge-expired",children:"Expirat"})]})]})]}),(0,gt.jsxs)("div",{className:"card-actions",children:[!e.isDefault&&!e.isExpired&&(0,gt.jsx)("button",{onClick:()=>(async e=>{o(!0),u(null);try{const t=await fetch(`/card-payment-methods/${e}/set-default`,{method:"PUT",headers:h()}),a=await t.json();if(!t.ok)throw new Error(a.error||"Eroare la setarea cardului ca default");await n()}catch(t){console.error("Eroare la setarea cardului ca default:",t),u(t.message||"A ap\u0103rut o eroare la setarea cardului ca default.")}finally{o(!1)}})(e.id),disabled:l,className:"card-action-button",children:"Seteaz\u0103 ca default"}),(0,gt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest card?")){o(!0),u(null);try{const t=await fetch(`/card-payment-methods/${e}`,{method:"DELETE",headers:h()}),a=await t.json();if(!t.ok)throw new Error(a.error||"Eroare la \u0219tergerea cardului");await n()}catch(t){console.error("Eroare la \u0219tergerea cardului:",t),u(t.message||"A ap\u0103rut o eroare la \u0219tergerea cardului.")}finally{o(!1)}}})(e.id),disabled:l,className:"card-remove-button","aria-label":"\u0218terge card",children:(0,gt.jsx)(ur,{size:16})})]})]},e.id)))}),s?(0,gt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();if((()=>{const e={};return(!d.number||d.number.replace(/\s/g,"").length<13)&&(e.number="Num\u0103rul cardului este invalid"),d.expiry&&/^\d{2}\/\d{2}$/.test(d.expiry)||(e.expiry="Data expir\u0103rii trebuie s\u0103 fie \xeen formatul MM/YY"),(!d.cvc||d.cvc.length<3)&&(e.cvc="CVC-ul trebuie s\u0103 aib\u0103 cel pu\u021bin 3 cifre"),d.name.trim()||(e.name="Numele este obligatoriu"),0===Object.keys(e).length?null:e})())u("V\u0103 rug\u0103m s\u0103 completa\u021bi corect toate c\xe2mpurile.");else{o(!0),u(null);try{const[e,t]=d.expiry.split("/"),a=d.number.replace(/\s/g,"");console.log("Token din localStorage:",localStorage.getItem("jwtToken")),console.log("Card number being sent:",a);const r=await fetch("/card-payment-methods/save-card",{method:"POST",headers:h(),body:JSON.stringify({cardDetails:{number:a,exp_month:parseInt(e,10),exp_year:parseInt("20"+t,10),cvc:d.cvc,cardholder_name:d.name},setAsDefault:d.setAsDefault})});if(console.log("Response status:",r.status),403===r.status)return console.error("403 Forbidden - posibil cardul este deja salvat"),void u("Nu ave\u021bi permisiunea s\u0103 ad\u0103uga\u021bi acest card. Posibil s\u0103 fie deja salvat.");const s=await r.json();if(!r.ok)throw new Error(s.error||"Eroare la salvarea cardului");m({number:"",expiry:"",cvc:"",name:"",setAsDefault:!1}),i(!1),await n()}catch(t){console.error("Eroare la ad\u0103ugarea cardului:",t),u(t.message||"A ap\u0103rut o eroare la salvarea cardului.")}finally{o(!1)}}},className:"add-card-form",children:[(0,gt.jsx)("h4",{children:"Adaug\u0103 un card nou"}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"cardName",children:"Numele de pe card"}),(0,gt.jsx)("input",{id:"cardName",type:"text",value:d.name,onChange:e=>p("name",e.target.value),placeholder:"Nume Prenume",required:!0,disabled:l})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"cardNumber",children:"Num\u0103rul cardului"}),(0,gt.jsx)("input",{id:"cardNumber",type:"text",value:d.number,onChange:e=>p("number",e.target.value),placeholder:"4242 4242 4242 4242",maxLength:"19",required:!0,disabled:l}),(0,gt.jsx)("small",{children:"Folosi\u021bi carduri de test Stripe pentru dezvoltare"})]}),(0,gt.jsxs)("div",{className:"form-row",children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"cardExpiry",children:"Data expir\u0103rii"}),(0,gt.jsx)("input",{id:"cardExpiry",type:"text",value:d.expiry,onChange:e=>p("expiry",e.target.value),placeholder:"MM/YY",maxLength:"5",required:!0,disabled:l})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"cardCvc",children:"CVC"}),(0,gt.jsx)("input",{id:"cardCvc",type:"text",value:d.cvc,onChange:e=>p("cvc",e.target.value),placeholder:"123",maxLength:"4",required:!0,disabled:l})]})]}),(0,gt.jsx)("div",{className:"form-group",children:(0,gt.jsxs)("label",{className:"checkbox-label",children:[(0,gt.jsx)("input",{type:"checkbox",checked:d.setAsDefault,onChange:e=>m((t=>({...t,setAsDefault:e.target.checked}))),disabled:l}),(0,gt.jsx)("span",{children:"Seteaz\u0103 ca card default"})]})}),(0,gt.jsxs)("div",{className:"test-cards-info",children:[(0,gt.jsx)("h5",{children:"\ud83d\udca1 Carduri de test recomandate:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Visa:"})," ",(0,gt.jsx)("code",{children:"4242 4242 4242 4242"})]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Mastercard:"})," ",(0,gt.jsx)("code",{children:"5555 5555 5555 4444"})]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Exp:"})," orice dat\u0103 viitoare, ",(0,gt.jsx)("strong",{children:"CVC:"})," orice 3 cifre"]})]})]}),(0,gt.jsxs)("div",{className:"form-actions",children:[(0,gt.jsx)("button",{type:"button",onClick:()=>{i(!1),m({number:"",expiry:"",cvc:"",name:"",setAsDefault:!1}),u(null)},disabled:l,className:"cancel-button",children:"Anuleaz\u0103"}),(0,gt.jsx)("button",{type:"submit",disabled:l,className:"submit-button",children:l?"Se salveaz\u0103...":"Salveaz\u0103 cardul"})]})]}):(0,gt.jsxs)("button",{onClick:()=>i(!0),className:"add-card-button",disabled:l,children:[(0,gt.jsx)(sr,{size:16}),"Adaug\u0103 un card nou"]}),l&&(0,gt.jsxs)("div",{className:"loading-overlay",children:[(0,gt.jsx)("div",{className:"loading-spinner"}),(0,gt.jsx)("p",{children:"Se proceseaz\u0103..."})]})]})]})})},gr="pk_test_51RUSNJB90iMxhg7K13VbDV4YNESfylJS8mNsenCauFMwbo2t9rDEptGatnEwR2lzQrgb7liaFKyFTjfyMkq2ooT900FSp78Ooy",vr=()=>{const e=te(),[t,a]=(0,r.useState)([]),[n,s]=(0,r.useState)({name:"",ageCategory:"0-14",timeInterval:"7-14:30",weeklyBudget:"",city:"",sport:"fotbal",selectedHalls:[],autoPaymentEnabled:!1,autoPaymentMethod:null,autoPaymentThreshold:"",maxWeeklyAutoPayment:"",defaultCardPaymentMethodId:null}),[i,l]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(1),[m,h]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),S=[{value:"0-14",label:"0-14 ani"},{value:"15-16",label:"15-16 ani"},{value:"17-18",label:"17-18 ani"},{value:"seniori",label:"Seniori"}],k=[{value:"7-14:30",label:"7:00 - 14:30"},{value:"14:30-23",label:"14:30 - 23:00"},{value:"full-day",label:"Toat\u0103 ziua"}],C=[{value:"fotbal",label:"Fotbal"},{value:"fotbal-sala",label:"Fotbal \xeen Sal\u0103 (Futsal)"},{value:"baschet",label:"Baschet"},{value:"volei",label:"Volei"},{value:"handbal",label:"Handbal"},{value:"rugby",label:"Rugby"},{value:"hochei",label:"Hochei pe Ghea\u021b\u0103"},{value:"polo-apa",label:"Polo pe Ap\u0103"},{value:"tenis",label:"Tenis"},{value:"tenis-masa",label:"Tenis de Mas\u0103"},{value:"badminton",label:"Badminton"},{value:"squash",label:"Squash"},{value:"padel",label:"Padel"},{value:"box",label:"Box"},{value:"kickbox",label:"Kickbox"},{value:"karate",label:"Karate"},{value:"judo",label:"Judo"},{value:"taekwondo",label:"Taekwondo"},{value:"mma",label:"MMA (Arte Mar\u021biale Mixte)"},{value:"wrestling",label:"Wrestling"},{value:"aikido",label:"Aikido"},{value:"brazilian-jiu-jitsu",label:"Brazilian Jiu-Jitsu"},{value:"inot",label:"\xcenot"},{value:"aqua-aerobic",label:"Aqua Aerobic"},{value:"sincron",label:"\xcenot Sincron"},{value:"sarituri-apa",label:"S\u0103rituri \xeen Ap\u0103"},{value:"waterpolo",label:"Waterpolo"},{value:"gimnastica",label:"Gimnastic\u0103 Artistic\u0103"},{value:"gimnastica-ritmica",label:"Gimnastic\u0103 Ritmic\u0103"},{value:"aerobic",label:"Aerobic Sportiv"},{value:"fitness",label:"Fitness / Culturism"},{value:"crossfit",label:"CrossFit"},{value:"pilates",label:"Pilates"},{value:"yoga",label:"Yoga"},{value:"zumba",label:"Zumba"},{value:"spinning",label:"Spinning / Ciclism Indoor"},{value:"atletism",label:"Atletism"},{value:"haltere",label:"Haltere"},{value:"escalada",label:"Escalad\u0103"},{value:"dans-sportiv",label:"Dans Sportiv"},{value:"scrima",label:"Scrim\u0103"},{value:"tir-cu-arcul",label:"Tir cu Arcul"},{value:"bowling",label:"Bowling"},{value:"biliard",label:"Biliard"},{value:"sport-copii",label:"Sport pentru Copii (Multisport)"},{value:"baby-swimming",label:"\xcenot pentru Bebelu\u0219i"},{value:"aqua-fitness",label:"Aqua Fitness"},{value:"step-aerobic",label:"Step Aerobic"},{value:"body-pump",label:"Body Pump"},{value:"tabata",label:"Tabata"},{value:"hiit",label:"HIIT (High Intensity Interval Training)"},{value:"multipla",label:"Sal\u0103 Multipl\u0103 (Toate Sporturile)"}],[E,z]=(0,r.useState)([]),P=Bn.create();P.interceptors.request.use((function(e){const t=localStorage.getItem("jwtToken");return e.headers.Authorization=`Bearer ${t}`,e}),(function(e){return Promise.reject(e)})),(0,r.useEffect)((()=>{(async()=>{if(window.Stripe)return void w(window.Stripe(gr));const e=document.createElement("script");e.src="https://js.stripe.com/v3/",e.onload=()=>{window.Stripe&&w(window.Stripe(gr))},document.head.appendChild(e)})()}),[]);const T=async()=>{v(!0),y(null);try{const e=await P.get("/reservationProfiles");a(e.data)}catch(e){console.error("Eroare la \xeenc\u0103rcarea profilurilor:",e),y("Nu s-au putut \xeenc\u0103rca profilurile. Verifica\u021bi conexiunea la internet sau autentificarea.")}finally{v(!1)}},A=async()=>{try{const e=await P.get("/card-payment-methods");e.data.success&&c(e.data.cards)}catch(e){console.error("Eroare la \xeenc\u0103rcarea cardurilor:",e)}};(0,r.useEffect)((()=>{T(),A(),(async()=>{try{const e=await fetch("/sportsHalls/cities");if(e.ok){const t=await e.json(),a=Array.isArray(t)?t:[];console.log(`Loaded ${a.length} cities for profile creation`),z(a)}else console.error("Eroare la \xeenc\u0103rcarea ora\u0219elor:",e.status),z([])}catch(x){console.error("Eroare la \xeenc\u0103rcarea ora\u0219elor:",x),z([])}})()}),[]),(0,r.useEffect)((()=>{const e=()=>{A(),p&&T()};return window.addEventListener("cardsUpdated",e),()=>{window.removeEventListener("cardsUpdated",e)}}),[p]),(0,r.useEffect)((()=>{n.city?(v(!0),y(null),P.get("/sportsHalls/active").then((e=>{const t=e.data.filter((e=>e.city&&e.city.toLowerCase()===n.city.toLowerCase()));console.log(`Loaded ${t.length} active sports halls for city: ${n.city}`),l(t),v(!1)})).catch((e=>{console.error(`Eroare la ob\u021binerea s\u0103lilor active din ${n.city}:`,e),y(`Nu s-au putut \xeenc\u0103rca s\u0103lile active din ${n.city}. Verifica\u021bi conexiunea la internet.`),v(!1),l([])}))):l([])}),[n.city]);const I=e=>{const{name:t,value:a,type:r,checked:i}=e.target;s({...n,[t]:"checkbox"===r?i:a})},R=()=>{d((e=>e+1))},D=()=>{d((e=>e-1))},L=()=>{s({name:"",ageCategory:"0-14",timeInterval:"7-14:30",weeklyBudget:"",city:"",sport:"fotbal",selectedHalls:[],autoPaymentEnabled:!1,autoPaymentMethod:null,autoPaymentThreshold:"",maxWeeklyAutoPayment:"",defaultCardPaymentMethodId:null})},O=e=>{var t;const a=e.selectedHalls?e.selectedHalls.map((e=>e.id)):[];s({...e,sport:e.sport||"fotbal",selectedHalls:a,autoPaymentEnabled:e.autoPaymentEnabled||!1,autoPaymentMethod:e.autoPaymentMethod||null,autoPaymentThreshold:e.autoPaymentThreshold||"",maxWeeklyAutoPayment:e.maxWeeklyAutoPayment||"",defaultCardPaymentMethodId:(null===(t=e.defaultCardPaymentMethod)||void 0===t?void 0:t.id)||null}),f(e.id),h(!1),d(1),A()},F=()=>{if(n.name||n.city||n.weeklyBudget||n.selectedHalls.length>0){window.confirm("Ai modific\u0103ri nesalvate. E\u0219ti sigur c\u0103 vrei s\u0103 ie\u0219i f\u0103r\u0103 a salva?")&&e(-1)}else e(-1)},M=o.find((e=>e.id===n.defaultCardPaymentMethodId));return(0,gt.jsxs)("div",{className:"reserv-profile-page-container",children:[(0,gt.jsx)("header",{className:"reserv-profile-page-header",children:(0,gt.jsxs)("div",{className:"reserv-profile-header-content",children:[(0,gt.jsxs)(nt,{to:"/",className:"reserv-profile-back-link",children:[(0,gt.jsx)(Qn,{size:18}),(0,gt.jsx)("span",{children:"\xcenapoi"})]}),(0,gt.jsx)("h1",{className:"reserv-profile-page-title",children:"Profiluri de rezervare"})]})}),(0,gt.jsxs)("div",{className:"reserv-profile-page-content",children:[(0,gt.jsxs)("aside",{className:"reserv-profile-page-sidebar",children:[(0,gt.jsxs)("div",{className:"reserv-profile-sidebar-header",children:[(0,gt.jsx)("h2",{children:"Profiluri create"}),(0,gt.jsxs)("button",{className:"reserv-add-profile-button",onClick:()=>{L(),f(null),h(!0),d(1)},children:[(0,gt.jsx)(sr,{size:18}),(0,gt.jsx)("span",{children:"Profil nou"})]})]}),(0,gt.jsx)("div",{className:"reserv-profile-list",children:g&&0===t.length?(0,gt.jsx)("div",{className:"reserv-loading-message",children:(0,gt.jsx)("p",{children:"Se \xeencarc\u0103 profilurile..."})}):x?(0,gt.jsx)("div",{className:"reserv-error-message",children:(0,gt.jsx)("p",{children:x})}):0===t.length?(0,gt.jsxs)("div",{className:"reserv-no-profiles",children:[(0,gt.jsx)("p",{children:"Nu ai creat \xeenc\u0103 niciun profil de rezervare."}),(0,gt.jsx)("p",{children:"Creeaz\u0103 primul t\u0103u profil pentru a \xeencepe."})]}):t.map((e=>{var t,a,n;return(0,gt.jsxs)("div",{className:"reserv-profile-list-item "+(p===e.id?"active":""),children:[(0,gt.jsxs)("div",{className:"reserv-profile-list-info",onClick:()=>O(e),children:[(0,gt.jsx)("h3",{children:e.name}),(0,gt.jsxs)("div",{className:"reserv-profile-list-details",children:[(0,gt.jsxs)("span",{children:[(0,gt.jsx)(yt,{size:14}),null===(t=S.find((t=>t.value===e.ageCategory)))||void 0===t?void 0:t.label]}),(0,gt.jsxs)("span",{children:[(0,gt.jsx)(ir,{size:14}),null===(a=k.find((t=>t.value===e.timeInterval)))||void 0===a?void 0:a.label]}),(0,gt.jsxs)("span",{children:[(0,gt.jsx)(wt,{size:14}),e.city]}),(0,gt.jsxs)("span",{children:[(0,gt.jsx)(lr,{size:14}),null===(n=C.find((t=>t.value===e.sport)))||void 0===n?void 0:n.label]}),(0,gt.jsxs)("span",{children:[(0,gt.jsx)(Yn,{size:14}),e.weeklyBudget," RON/s\u0103pt\u0103m\xe2n\u0103"]}),e.autoPaymentEnabled&&(0,gt.jsxs)("span",{children:[(0,gt.jsx)(or,{size:14}),"Plat\u0103 automat\u0103 activ\u0103"]})]})]}),(0,gt.jsxs)("div",{className:"reserv-profile-list-actions",children:[(0,gt.jsx)("button",{className:"reserv-profile-edit-button",onClick:()=>O(e),title:"Editeaz\u0103 profil",children:(0,gt.jsx)(cr,{size:16})}),(0,gt.jsx)("button",{className:"reserv-profile-delete-button",onClick:()=>(async e=>{if(window.confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest profil?")){v(!0),y(null);try{await P.delete(`/reservationProfiles/${e}`),await T(),p===e&&(L(),f(null),d(1),h(!0))}catch(t){console.error("Eroare la \u0219tergerea profilului:",t),y("Nu s-a putut \u0219terge profilul. Verifica\u021bi conexiunea la internet sau autentificarea.")}finally{v(!1)}}})(e.id),title:"\u0218terge profil",children:(0,gt.jsx)(ur,{size:16})})]})]},e.id)}))})]}),(0,gt.jsxs)("main",{className:"reserv-profile-form-container",children:[(0,gt.jsx)("h2",{className:"reserv-profile-form-title",children:p?"Editare profil":"Creare profil nou"}),(0,gt.jsxs)("div",{className:"reserv-profile-steps-indicator",children:[(0,gt.jsxs)("div",{className:"reserv-step "+(u>=1?"active":""),children:[(0,gt.jsx)("div",{className:"reserv-step-number",children:"1"}),(0,gt.jsx)("div",{className:"reserv-step-label",children:"Informa\u021bii de baz\u0103"})]}),(0,gt.jsx)("div",{className:"reserv-step-connector"}),(0,gt.jsxs)("div",{className:"reserv-step "+(u>=2?"active":""),children:[(0,gt.jsx)("div",{className:"reserv-step-number",children:"2"}),(0,gt.jsx)("div",{className:"reserv-step-label",children:"Loca\u021bie \u0219i s\u0103li"})]}),(0,gt.jsx)("div",{className:"reserv-step-connector"}),(0,gt.jsxs)("div",{className:"reserv-step "+(u>=3?"active":""),children:[(0,gt.jsx)("div",{className:"reserv-step-number",children:"3"}),(0,gt.jsx)("div",{className:"reserv-step-label",children:"Pl\u0103\u021bi automate"})]})]}),(0,gt.jsxs)("div",{className:"reserv-profile-form",children:[1===u&&(0,gt.jsxs)("div",{className:"reserv-form-step",children:[(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"name",children:"Nume profil / echip\u0103"}),(0,gt.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:I,placeholder:"Introduce\u021bi numele echipei",required:!0})]}),(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"ageCategory",children:"Categorie de v\xe2rst\u0103"}),(0,gt.jsx)("select",{id:"ageCategory",name:"ageCategory",value:n.ageCategory,onChange:I,children:S.map((e=>(0,gt.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"sport",children:"Sport"}),(0,gt.jsx)("select",{id:"sport",name:"sport",value:n.sport,onChange:I,required:!0,children:C.map((e=>(0,gt.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"timeInterval",children:"Interval orar"}),(0,gt.jsx)("select",{id:"timeInterval",name:"timeInterval",value:n.timeInterval,onChange:I,children:k.map((e=>(0,gt.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"weeklyBudget",children:"Buget s\u0103pt\u0103m\xe2nal (RON)"}),(0,gt.jsx)("input",{type:"number",id:"weeklyBudget",name:"weeklyBudget",value:n.weeklyBudget,onChange:I,placeholder:"Introduce\u021bi bugetul s\u0103pt\u0103m\xe2nal",required:!0})]}),(0,gt.jsxs)("div",{className:"reserv-form-buttons",children:[(0,gt.jsx)("button",{type:"button",className:"reserv-form-button-cancel",onClick:F,children:"Anuleaz\u0103"}),(0,gt.jsx)("button",{type:"button",className:"reserv-form-button-next",onClick:R,disabled:!n.name||!n.weeklyBudget||!n.sport,children:"Continuare"})]})]}),2===u&&(0,gt.jsxs)("div",{className:"reserv-form-step",children:[(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"city",children:"Ora\u0219"}),(0,gt.jsxs)("select",{id:"city",name:"city",value:n.city,onChange:I,required:!0,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 ora\u0219ul"}),E.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]})]}),n.city&&(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsxs)("label",{children:["S\u0103li disponibile \xeen ",n.city]}),g?(0,gt.jsx)("div",{className:"reserv-loading-message",children:"Se \xeencarc\u0103 s\u0103lile disponibile..."}):x?(0,gt.jsx)("div",{className:"reserv-error-message",children:x}):(0,gt.jsx)("div",{className:"reserv-halls-selector",children:0===i.length?(0,gt.jsx)("p",{className:"reserv-no-halls-message",children:"Nu exist\u0103 s\u0103li disponibile \xeen ora\u0219ul selectat."}):i.map((e=>{return(0,gt.jsxs)("div",{className:"reserv-hall-option "+(n.selectedHalls.includes(e.id)?"selected":""),onClick:()=>(e=>{const t=n.selectedHalls.includes(e);s(t?{...n,selectedHalls:n.selectedHalls.filter((t=>t!==e))}:{...n,selectedHalls:[...n.selectedHalls,e]})})(e.id),children:[(0,gt.jsx)("div",{className:"reserv-hall-checkbox",children:n.selectedHalls.includes(e.id)&&(0,gt.jsx)("span",{children:"\u2713"})}),(0,gt.jsxs)("div",{className:"reserv-hall-info",children:[(0,gt.jsx)("div",{className:"reserv-hall-name",children:e.name}),(0,gt.jsx)("div",{className:"reserv-hall-price",children:(t=e.tariff,t?`${t} RON/1h30`:"Pre\u021b la cerere")}),(0,gt.jsxs)("div",{className:"reserv-hall-type",children:["Tip: ",e.type]})]})]},e.id);var t}))})]}),(0,gt.jsxs)("div",{className:"reserv-form-buttons",children:[(0,gt.jsx)("button",{type:"button",className:"reserv-form-button-prev",onClick:D,children:"\xcenapoi"}),(0,gt.jsx)("button",{type:"button",className:"reserv-form-button-next",onClick:R,disabled:!n.city||0===n.selectedHalls.length,children:"Continuare"})]})]}),3===u&&(0,gt.jsxs)("div",{className:"reserv-form-step",children:[(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsxs)("label",{className:"reserv-checkbox-label",children:[(0,gt.jsx)("input",{type:"checkbox",name:"autoPaymentEnabled",checked:n.autoPaymentEnabled,onChange:I}),(0,gt.jsx)("span",{children:"Activeaz\u0103 pl\u0103\u021bi automate"})]}),(0,gt.jsx)("small",{children:"Permite debitarea automat\u0103 a cardului pentru rezerv\u0103ri"})]}),n.autoPaymentEnabled&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"autoPaymentMethod",children:"Metoda de plat\u0103 automat\u0103"}),(0,gt.jsxs)("select",{id:"autoPaymentMethod",name:"autoPaymentMethod",value:n.autoPaymentMethod||"",onChange:I,required:!0,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 metoda de plat\u0103"}),[{value:"CARD",label:"Card de Credit/Debit"},{value:"CASH",label:"Plat\u0103 la Fa\u021ba Locului"}].map((e=>(0,gt.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),"CARD"===n.autoPaymentMethod&&(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{children:"Card de plat\u0103"}),(0,gt.jsx)("div",{className:"reserv-card-selection",children:0===o.length?(0,gt.jsxs)("div",{className:"reserv-no-cards",children:[(0,gt.jsx)("p",{children:"Nu ave\u021bi carduri salvate"}),(0,gt.jsxs)("button",{type:"button",className:"reserv-add-card-button",onClick:()=>j(!0),children:[(0,gt.jsx)(dr,{size:16}),"Adaug\u0103 un card"]})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("select",{name:"defaultCardPaymentMethodId",value:n.defaultCardPaymentMethodId||"",onChange:I,required:!0,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 cardul"}),o.map((e=>(0,gt.jsx)("option",{value:e.id,children:e.displayName},e.id)))]}),(0,gt.jsxs)("button",{type:"button",className:"reserv-manage-cards-button",onClick:()=>j(!0),children:[(0,gt.jsx)(mr,{size:16}),"Gestioneaz\u0103 carduri"]})]})}),M&&(0,gt.jsxs)("div",{className:"reserv-selected-card-info",children:[(0,gt.jsx)(dr,{size:16}),(0,gt.jsx)("span",{children:M.displayName}),M.isExpired&&(0,gt.jsxs)("span",{className:"reserv-card-expired",children:[(0,gt.jsx)(hr,{size:14}),"Expirat"]})]})]}),(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"autoPaymentThreshold",children:"Prag minim pentru plat\u0103 automat\u0103 (RON)"}),(0,gt.jsx)("input",{type:"number",id:"autoPaymentThreshold",name:"autoPaymentThreshold",value:n.autoPaymentThreshold,onChange:I,placeholder:"Ex: 10 (op\u021bional)",min:"0",step:"0.01"}),(0,gt.jsx)("small",{children:"Suma minim\u0103 pentru care se activeaz\u0103 plata automat\u0103"})]}),(0,gt.jsxs)("div",{className:"reserv-form-group",children:[(0,gt.jsx)("label",{htmlFor:"maxWeeklyAutoPayment",children:"Limita maxim\u0103 s\u0103pt\u0103m\xe2nal\u0103 (RON)"}),(0,gt.jsx)("input",{type:"number",id:"maxWeeklyAutoPayment",name:"maxWeeklyAutoPayment",value:n.maxWeeklyAutoPayment,onChange:I,placeholder:"Ex: 200 (op\u021bional)",min:"0",step:"0.01"}),(0,gt.jsx)("small",{children:"Suma maxim\u0103 care poate fi debitat\u0103 automat \xeentr-o s\u0103pt\u0103m\xe2n\u0103"})]})]}),(0,gt.jsxs)("div",{className:"reserv-form-buttons",children:[(0,gt.jsx)("button",{type:"button",className:"reserv-form-button-prev",onClick:D,children:"\xcenapoi"}),(0,gt.jsxs)("button",{type:"button",className:"reserv-form-button-save",onClick:async()=>{if(n.name&&n.weeklyBudget&&n.city&&n.sport){v(!0),y(null);try{const t={name:n.name,ageCategory:n.ageCategory,timeInterval:n.timeInterval,weeklyBudget:n.weeklyBudget,city:n.city,sport:n.sport,selectedHalls:n.selectedHalls,autoPaymentEnabled:n.autoPaymentEnabled,autoPaymentMethod:n.autoPaymentEnabled?n.autoPaymentMethod:null,autoPaymentThreshold:n.autoPaymentThreshold||null,maxWeeklyAutoPayment:n.maxWeeklyAutoPayment||null,defaultCardPaymentMethodId:n.defaultCardPaymentMethodId||null};if(p){await P.put(`/reservationProfiles/${p}`,t),await T();const a=(await P.get("/reservationProfiles")).data.find((e=>e.id===p));if(a){var e;const t=a.selectedHalls?a.selectedHalls.map((e=>e.id)):[];s({...a,sport:a.sport||"fotbal",selectedHalls:t,autoPaymentEnabled:a.autoPaymentEnabled||!1,autoPaymentMethod:a.autoPaymentMethod||null,autoPaymentThreshold:a.autoPaymentThreshold||"",maxWeeklyAutoPayment:a.maxWeeklyAutoPayment||"",defaultCardPaymentMethodId:(null===(e=a.defaultCardPaymentMethod)||void 0===e?void 0:e.id)||null})}}else await P.post("/reservationProfiles",t),await T(),L(),d(1),h(!0),f(null)}catch(t){console.error("Eroare la salvarea profilului:",t),y("Nu s-a putut salva profilul. Verifica\u021bi conexiunea la internet sau autentificarea.")}finally{v(!1)}}},disabled:!(n.city&&0!==n.selectedHalls.length&&(!n.autoPaymentEnabled||"CARD"!==n.autoPaymentMethod||n.defaultCardPaymentMethodId))||g,children:[(0,gt.jsx)(pr,{size:16}),p?"Actualizeaz\u0103 profil":"Salveaz\u0103 profil"]})]})]})]})]})]}),b&&(0,gt.jsx)(fr,{userCards:o,onClose:()=>j(!1),onCardsUpdated:A}),x&&(0,gt.jsxs)("div",{className:"reserv-profile-error",children:[(0,gt.jsx)(hr,{size:16}),(0,gt.jsx)("p",{children:x})]}),g&&(0,gt.jsxs)("div",{className:"reserv-profile-loading",children:[(0,gt.jsx)("div",{className:"reserv-loading-spinner"}),(0,gt.jsx)("p",{children:"Se proceseaz\u0103 datele..."})]}),(0,gt.jsxs)("footer",{className:"reserv-profile-page-actions",children:[(0,gt.jsx)("button",{type:"button",className:"reserv-profile-page-button-cancel",onClick:F,children:"Anuleaz\u0103"}),(0,gt.jsx)("button",{type:"button",className:"reserv-profile-page-button-finish",onClick:()=>{e(-1)},disabled:0===t.length,children:"Finalizeaz\u0103"})]})]})},xr=pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),yr=pt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),br=pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jr=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",county:"",city:"",birthDate:""}),[h,p]=(0,r.useState)({...d}),f=async()=>{try{n(!0),o(null);const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");const a=await fetch(`/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw 401===a.status?new Error("Sesiunea a expirat. Te rug\u0103m s\u0103 te autentifici din nou."):403===a.status?new Error("Nu ai permisiunea s\u0103 accesezi aceste date."):new Error("Nu s-au putut \xeenc\u0103rca datele utilizatorului");const r=await a.json(),s=r.name?r.name.split(" "):["",""],i=s[0]||"",l=s.slice(1).join(" ")||"",c=r.birthDate?new Date(r.birthDate).toISOString().split("T")[0]:"",u={firstName:i,lastName:l,email:r.email||"",phone:r.phone||"",address:r.address||"",county:r.county||"",city:r.city||"",birthDate:c};m(u),p(u),n(!1)}catch(e){console.error("Eroare la \xeenc\u0103rcarea datelor utilizatorului:",e),o(e.message),n(!1)}};(0,r.useEffect)((()=>{f()}),[]);const g=(e,t)=>{p((a=>({...a,[e]:t})))};return a?(0,gt.jsxs)("div",{className:"profile-section",children:[(0,gt.jsx)("div",{className:"section-header",children:(0,gt.jsx)("h2",{children:"Date personale"})}),(0,gt.jsx)("p",{style:{color:"white",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:"Se \xeencarc\u0103 datele..."})]}):l&&!e?(0,gt.jsxs)("div",{className:"profile-section",children:[(0,gt.jsx)("div",{className:"section-header",children:(0,gt.jsx)("h2",{children:"Date personale"})}),(0,gt.jsxs)("p",{style:{color:"#dc2626",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:["Eroare: ",l]}),(0,gt.jsx)("button",{onClick:f,className:"edit-button",style:{margin:"0 auto",display:"block"},children:"\xcencearc\u0103 din nou"})]}):(0,gt.jsxs)("div",{className:"profile-section",children:[(0,gt.jsxs)("div",{className:"section-header",children:[(0,gt.jsx)("h2",{children:"Date personale"}),e?(0,gt.jsxs)("div",{className:"edit-actions",children:[(0,gt.jsxs)("button",{onClick:async()=>{try{await(async e=>{try{i(!0),o(null),u("");const t=localStorage.getItem("userId"),a=localStorage.getItem("jwtToken");if(!t||!a)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");const n=`${e.firstName} ${e.lastName}`.trim(),r=e.birthDate?new Date(e.birthDate):null,s={name:n,email:e.email,address:e.address,county:e.county,city:e.city,birthDate:r},l=await fetch(`/users/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw 401===l.status?new Error("Sesiunea a expirat. Te rug\u0103m s\u0103 te autentifici din nou."):403===l.status?new Error("Nu ai permisiunea s\u0103 modifici aceste date."):new Error("Nu s-au putut salva modific\u0103rile");const c=await l.json();return u("Datele au fost salvate cu succes!"),i(!1),setTimeout((()=>{u("")}),3e3),c}catch(t){throw console.error("Eroare la salvarea datelor:",t),i(!1),t}})(h),m({...h}),t(!1)}catch(e){o("Nu s-au putut salva modific\u0103rile: "+e.message)}},className:"save-button",disabled:s,children:[(0,gt.jsx)(pr,{size:16}),s?"Se salveaz\u0103...":"Salveaz\u0103"]}),(0,gt.jsxs)("button",{onClick:()=>{p({...d}),t(!1),o(null),u("")},className:"cancel-button",disabled:s,children:[(0,gt.jsx)(br,{size:16}),"Anuleaz\u0103"]})]}):(0,gt.jsxs)("button",{onClick:()=>{p({...d}),t(!0),o(null),u("")},className:"edit-button",children:[(0,gt.jsx)(yr,{size:16}),"Editeaz\u0103"]})]}),c&&(0,gt.jsx)("div",{style:{color:"#10b981",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:c}),l&&e&&(0,gt.jsx)("div",{style:{color:"#dc2626",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:l}),(0,gt.jsxs)("div",{className:"personal-data-grid",children:[(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Prenume"}),e?(0,gt.jsx)("input",{type:"text",value:h.firstName,onChange:e=>g("firstName",e.target.value),className:"edit-input",placeholder:"Introdu prenumele"}):(0,gt.jsx)("span",{className:"data-value",children:d.firstName||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Nume"}),e?(0,gt.jsx)("input",{type:"text",value:h.lastName,onChange:e=>g("lastName",e.target.value),className:"edit-input",placeholder:"Introdu numele"}):(0,gt.jsx)("span",{className:"data-value",children:d.lastName||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Email"}),e?(0,gt.jsx)("input",{type:"email",value:h.email,onChange:e=>g("email",e.target.value),className:"edit-input",placeholder:"Introdu adresa de email"}):(0,gt.jsx)("span",{className:"data-value",children:d.email||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Telefon"}),e?(0,gt.jsx)("input",{type:"tel",value:h.phone,onChange:e=>g("phone",e.target.value),className:"edit-input",placeholder:"Adaug\u0103 num\u0103rul de telefon"}):(0,gt.jsx)("span",{className:"data-value",children:d.phone||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Adres\u0103"}),e?(0,gt.jsx)("input",{type:"text",value:h.address,onChange:e=>g("address",e.target.value),className:"edit-input",placeholder:"Introdu adresa"}):(0,gt.jsx)("span",{className:"data-value",children:d.address||"Nu este specificat\u0103"})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Jude\u021b"}),e?(0,gt.jsx)("input",{type:"text",value:h.county,onChange:e=>g("county",e.target.value),className:"edit-input",placeholder:"Introdu jude\u021bul"}):(0,gt.jsx)("span",{className:"data-value",children:d.county||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Ora\u0219"}),e?(0,gt.jsxs)("select",{value:h.city,onChange:e=>g("city",e.target.value),className:"edit-input",children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 ora\u0219ul"}),["Alba Iulia","Arad","Arge\u0219","Bac\u0103u","Bihor","Bistri\u021ba-N\u0103s\u0103ud","Boto\u0219ani","Br\u0103ila","Bra\u0219ov","Bucure\u0219ti","Buz\u0103u","C\u0103l\u0103ra\u0219i","Cara\u0219-Severin","Cluj-Napoca","Constan\u021ba","Covasna","D\xe2mbovi\u021ba","Dolj","Gala\u021bi","Giurgiu","Gorj","Harghita","Hunedoara","Ialomi\u021ba","Ia\u0219i","Ilfov","Maramure\u0219","Mehedin\u021bi","Mure\u0219","Neam\u021b","Olt","Prahova","S\u0103laj","Satu Mare","Sibiu","Suceava","Teleorman","Timi\u0219oara","Tulcea","V\xe2lcea","Vaslui","Vrancea"].map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]}):(0,gt.jsx)("span",{className:"data-value",children:d.city||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Data na\u0219terii"}),e?(0,gt.jsx)("input",{type:"date",value:h.birthDate,onChange:e=>g("birthDate",e.target.value),className:"edit-input"}):(0,gt.jsx)("span",{className:"data-value",children:d.birthDate?new Date(d.birthDate).toLocaleDateString("ro-RO"):"Nu este specificat\u0103"})]})]})]})},Nr=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[d,m]=(0,r.useState)({}),h=["Alba Iulia","Arad","Arge\u0219","Bac\u0103u","Bihor","Bistri\u021ba-N\u0103s\u0103ud","Boto\u0219ani","Br\u0103ila","Bra\u0219ov","Bucure\u0219ti","Buz\u0103u","C\u0103l\u0103ra\u0219i","Cara\u0219-Severin","Cluj-Napoca","Constan\u021ba","Covasna","D\xe2mbovi\u021ba","Dolj","Gala\u021bi","Giurgiu","Gorj","Harghita","Hunedoara","Ialomi\u021ba","Ia\u0219i","Ilfov","Maramure\u0219","Mehedin\u021bi","Mure\u0219","Neam\u021b","Olt","Prahova","S\u0103laj","Satu Mare","Sibiu","Suceava","Teleorman","Timi\u0219oara","Tulcea","V\xe2lcea","Vaslui","Vrancea"],p=["0-14","15-16","17-18","seniori"],f=["7-14:30","14:30-23","full-day"],g=e=>({"0-14":"0-14 ani","15-16":"15-16 ani","17-18":"17-18 ani",seniori:"Seniori"}[e]||e),v=e=>({"7-14:30":"7:00 - 14:30","14:30-23":"14:30 - 23:00","full-day":"Toat\u0103 ziua"}[e]||e),x=async()=>{try{n(!0),i(null);const e=localStorage.getItem("jwtToken");if(!e)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");const a=await fetch("/reservationProfiles",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok){if(401===a.status)throw new Error("Sesiunea a expirat. Te rug\u0103m s\u0103 te autentifici din nou.");if(403===a.status)throw new Error("Nu ai permisiunea s\u0103 accesezi aceste date.");throw new Error("Nu s-au putut \xeenc\u0103rca profilurile de rezervare")}const r=await a.json();t(r),n(!1)}catch(e){console.error("Eroare la \xeenc\u0103rcarea profilurilor de rezervare:",e),i(e.message),n(!1)}},y=()=>{u(null),m({}),i(null),o("")},b=()=>{d.name&&d.ageCategory&&d.timeInterval&&d.weeklyBudget&&d.city?d.weeklyBudget<=0?i("Bugetul s\u0103pt\u0103m\xe2nal trebuie s\u0103 fie mai mare dec\xe2t 0"):(async(e,t)=>{try{const a=localStorage.getItem("jwtToken");if(!a)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");if(!(await fetch(`/reservationProfiles/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Nu s-a putut actualiza profilul");await x(),u(null),m({}),o("Profilul a fost actualizat cu succes!"),setTimeout((()=>o("")),3e3)}catch(a){console.error("Eroare la actualizarea profilului:",a),i("Nu s-a putut actualiza profilul: "+a.message)}})(c,d):i("Toate c\xe2mpurile sunt obligatorii")},j=(e,t)=>{m((a=>({...a,[e]:t})))};return(0,r.useEffect)((()=>{x()}),[]),a?(0,gt.jsxs)("div",{className:"profile-section",children:[(0,gt.jsx)("div",{className:"section-header",children:(0,gt.jsx)("h2",{children:"Profiluri de rezervare"})}),(0,gt.jsx)("p",{style:{color:"white",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:"Se \xeencarc\u0103 profilurile..."})]}):s&&!c?(0,gt.jsxs)("div",{className:"profile-section",children:[(0,gt.jsx)("div",{className:"section-header",children:(0,gt.jsx)("h2",{children:"Profiluri de rezervare"})}),(0,gt.jsxs)("p",{style:{color:"#dc2626",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:["Eroare: ",s]}),(0,gt.jsx)("button",{onClick:x,className:"edit-button",style:{margin:"0 auto",display:"block"},children:"\xcencearc\u0103 din nou"})]}):(0,gt.jsxs)("div",{className:"profile-section",children:[(0,gt.jsx)("div",{className:"section-header",children:(0,gt.jsx)("h2",{children:"Profiluri de rezervare"})}),l&&(0,gt.jsx)("div",{style:{color:"#10b981",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:l}),s&&c&&(0,gt.jsx)("div",{style:{color:"#dc2626",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:s}),0===e.length?(0,gt.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.8)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:[(0,gt.jsx)("p",{children:"Nu ai \xeenc\u0103 profiluri de rezervare create."}),(0,gt.jsx)("p",{children:"Creeaz\u0103 primul t\u0103u profil pentru a \xeencepe s\u0103 faci rezerv\u0103ri mai u\u0219or!"})]}):(0,gt.jsx)("div",{className:"reservation-profiles",children:e.map(((e,t)=>(0,gt.jsxs)("div",{className:"profile-card",children:[(0,gt.jsxs)("div",{className:"profile-card-header",children:[c===e.id?(0,gt.jsx)("input",{type:"text",value:d.name,onChange:e=>j("name",e.target.value),className:"edit-input",style:{fontSize:"1.1rem",fontWeight:"600",background:"rgba(0, 0, 0, 0.3)"}}):(0,gt.jsx)("h3",{children:e.name}),0===t&&(0,gt.jsx)("span",{className:"profile-badge default",children:"Implicit"})]}),(0,gt.jsxs)("div",{className:"profile-card-content",children:[(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Categoria de v\xe2rst\u0103:"})," ",c===e.id?(0,gt.jsx)("select",{value:d.ageCategory,onChange:e=>j("ageCategory",e.target.value),className:"edit-input",style:{display:"inline-block",width:"auto",minWidth:"120px",marginLeft:"0.5rem"},children:p.map((e=>(0,gt.jsx)("option",{value:e,children:g(e)},e)))}):g(e.ageCategory)]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Interval orar:"})," ",c===e.id?(0,gt.jsx)("select",{value:d.timeInterval,onChange:e=>j("timeInterval",e.target.value),className:"edit-input",style:{display:"inline-block",width:"auto",minWidth:"140px",marginLeft:"0.5rem"},children:f.map((e=>(0,gt.jsx)("option",{value:e,children:v(e)},e)))}):v(e.timeInterval)]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Buget s\u0103pt\u0103m\xe2nal:"})," ",c===e.id?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("input",{type:"number",value:d.weeklyBudget,onChange:e=>j("weeklyBudget",e.target.value),className:"edit-input",style:{display:"inline-block",width:"80px",marginLeft:"0.5rem",marginRight:"0.25rem"}}),"RON"]}):`${e.weeklyBudget} RON`]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Ora\u0219:"})," ",c===e.id?(0,gt.jsx)("select",{value:d.city,onChange:e=>j("city",e.target.value),className:"edit-input",style:{display:"inline-block",width:"auto",minWidth:"120px",marginLeft:"0.5rem"},children:h.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))}):e.city]}),e.selectedHalls&&e.selectedHalls.length>0&&(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"S\u0103li preferate:"})," ",e.selectedHalls.length," selectate"]})]}),(0,gt.jsx)("div",{className:"profile-card-actions",children:c===e.id?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{className:"edit-profile-btn",onClick:b,children:"Salveaz\u0103"}),(0,gt.jsx)("button",{className:"delete-profile-btn",onClick:y,children:"Anuleaz\u0103"})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{className:"edit-profile-btn",onClick:()=>(e=>{u(e.id),m({name:e.name,ageCategory:e.ageCategory,timeInterval:e.timeInterval,weeklyBudget:e.weeklyBudget,city:e.city}),i(null),o("")})(e),children:"Editeaz\u0103"}),(0,gt.jsx)("button",{className:"delete-profile-btn",onClick:()=>{window.confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi acest profil?")&&(async e=>{try{const t=localStorage.getItem("jwtToken");if(!t)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");if(!(await fetch(`/reservationProfiles/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw new Error("Nu s-a putut \u0219terge profilul");await x(),o("Profilul a fost \u0219ters cu succes!"),setTimeout((()=>o("")),3e3)}catch(t){console.error("Eroare la \u0219tergerea profilului:",t),i("Nu s-a putut \u0219terge profilul: "+t.message)}})(e.id)},children:"\u0218terge"})]})})]},e.id)))})]})},wr=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=(0,r.useState)({}),[l,o]=(0,r.useState)(!1),c=e=>{const{name:t,value:a}=e.target;n((e=>({...e,[t]:a}))),s[t]&&i((e=>({...e,[t]:""})))};return(0,gt.jsxs)("div",{className:"profile-section",children:[(0,gt.jsx)("div",{className:"section-header",children:(0,gt.jsx)("h2",{children:"Securitate"})}),(0,gt.jsxs)("div",{className:"security-section",children:[(0,gt.jsxs)("div",{className:"security-item",children:[(0,gt.jsxs)("div",{className:"security-info",children:[(0,gt.jsx)("h3",{children:"Schimb\u0103 parola"}),(0,gt.jsx)("p",{children:"Actualizeaz\u0103-\u021bi parola pentru a men\u021bine contul securizat"})]}),e?(0,gt.jsxs)("div",{style:{width:"100%"},children:[(0,gt.jsxs)("div",{className:"personal-data-grid",style:{marginTop:"1rem"},children:[(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Parola curent\u0103"}),(0,gt.jsx)("input",{type:"password",name:"currentPassword",className:"edit-input "+(s.currentPassword?"error":""),value:a.currentPassword,onChange:c,placeholder:"Introdu parola curent\u0103"}),s.currentPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem"},children:s.currentPassword})]}),(0,gt.jsxs)("div",{className:"data-field",children:[(0,gt.jsx)("label",{children:"Parola nou\u0103"}),(0,gt.jsx)("input",{type:"password",name:"newPassword",className:"edit-input "+(s.newPassword?"error":""),value:a.newPassword,onChange:c,placeholder:"Introdu parola nou\u0103"}),s.newPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem"},children:s.newPassword})]}),(0,gt.jsxs)("div",{className:"data-field",style:{gridColumn:"span 2"},children:[(0,gt.jsx)("label",{children:"Confirm\u0103 parola nou\u0103"}),(0,gt.jsx)("input",{type:"password",name:"confirmPassword",className:"edit-input "+(s.confirmPassword?"error":""),value:a.confirmPassword,onChange:c,placeholder:"Confirm\u0103 parola nou\u0103"}),s.confirmPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem"},children:s.confirmPassword})]})]}),s.general&&(0,gt.jsx)("div",{style:{color:"#ef4444",fontSize:"0.9rem",marginTop:"1rem",textAlign:"center"},children:s.general}),(0,gt.jsxs)("div",{className:"edit-actions",style:{marginTop:"1rem"},children:[(0,gt.jsx)("button",{className:"save-button",onClick:async()=>{if((()=>{const e={};return a.currentPassword||(e.currentPassword="Parola curent\u0103 este obligatorie"),a.newPassword?a.newPassword.length<6&&(e.newPassword="Parola nou\u0103 trebuie s\u0103 aib\u0103 cel pu\u021bin 6 caractere"):e.newPassword="Parola nou\u0103 este obligatorie",a.confirmPassword?a.newPassword!==a.confirmPassword&&(e.confirmPassword="Parolele nu se potrivesc"):e.confirmPassword="Confirmarea parolei este obligatorie",a.currentPassword===a.newPassword&&(e.newPassword="Parola nou\u0103 trebuie s\u0103 fie diferit\u0103 de cea curent\u0103"),i(e),0===Object.keys(e).length})()){o(!0);try{const e=localStorage.getItem("jwtToken");if(!e)throw new Error("Nu e\u0219ti autentificat");const r=JSON.parse(atob(e.split(".")[1])).sub,s=await fetch("/users",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Eroare la ob\u021binerea datelor utilizatorului");const i=(await s.json()).find((e=>e.email===r));if(!i)throw new Error("Utilizatorul nu a fost g\u0103sit");const l=await fetch(`/users/${i.id}/change-password`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:a.currentPassword,newPassword:a.newPassword})});if(!l.ok){const e=await l.json();throw new Error(e.message||"Eroare la schimbarea parolei")}alert("Parola a fost schimbat\u0103 cu succes!"),t(!1),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Eroare la schimbarea parolei:",e),i({general:e.message||"A ap\u0103rut o eroare la schimbarea parolei"})}finally{o(!1)}}},disabled:l,children:l?"Se salveaz\u0103...":"Salveaz\u0103 parola"}),(0,gt.jsx)("button",{className:"cancel-button",onClick:()=>{t(!1),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({})},disabled:l,children:"Anuleaz\u0103"})]})]}):(0,gt.jsx)("button",{className:"security-button",onClick:()=>{t(!0),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({})},children:"Schimb\u0103 parola"})]}),(0,gt.jsxs)("div",{className:"security-item",children:[(0,gt.jsxs)("div",{className:"security-info",children:[(0,gt.jsx)("h3",{children:"Autentificare \xeen dou\u0103 pa\u0219i"}),(0,gt.jsx)("p",{children:"Adaug\u0103 un nivel suplimentar de securitate la contul t\u0103u"})]}),(0,gt.jsx)("button",{className:"security-button",onClick:()=>{console.log("Configureaz\u0103 autentificarea \xeen dou\u0103 pa\u0219i")},children:"Configureaz\u0103"})]}),(0,gt.jsxs)("div",{className:"security-item danger",children:[(0,gt.jsxs)("div",{className:"security-info",children:[(0,gt.jsx)("h3",{children:"\u0218terge contul"}),(0,gt.jsx)("p",{children:"\u0218terge permanent contul \u0219i toate datele asociate"})]}),(0,gt.jsx)("button",{className:"security-button danger",onClick:()=>{window.confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi permanent contul? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103.")&&console.log("\u0218terge contul")},children:"\u0218terge contul"})]})]})]})},Sr=()=>{const[e,t]=(0,r.useState)("personal"),[a,n]=(0,r.useState)("true"===localStorage.getItem("isLoggedIn")),[s,i]=(0,r.useState)({firstName:"",lastName:"",email:""});(0,r.useEffect)((()=>{a&&(async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return;const a=await fetch(`/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(a.ok){const e=await a.json(),t=e.name?e.name.split(" "):["",""],n=t[0]||"",r=t.slice(1).join(" ")||"";i({firstName:n,lastName:r,email:e.email||""})}}catch(e){console.error("Eroare la \xeenc\u0103rcarea informa\u021biilor de baz\u0103 ale utilizatorului:",e)}})()}),[a]);return(0,gt.jsxs)("div",{className:"profile-page",children:[(0,gt.jsx)(Nt,{isLoggedIn:a,onLoginClick:()=>{},onRegisterClick:()=>{},onLogout:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userType"),localStorage.removeItem("userId"),localStorage.removeItem("jwtToken"),n(!1),window.location.href="/"}}),(0,gt.jsxs)("div",{className:"profile-container",children:[(0,gt.jsxs)("nav",{className:"profile-sidebar",children:[(0,gt.jsxs)("div",{className:"profile-user-info",children:[(0,gt.jsx)("div",{className:"profile-avatar",children:(0,gt.jsx)(yt,{size:32})}),(0,gt.jsxs)("h3",{children:[s.firstName," ",s.lastName]}),(0,gt.jsx)("p",{children:s.email})]}),(0,gt.jsxs)("div",{className:"profile-nav",children:[(0,gt.jsxs)("button",{className:"profile-nav-item "+("personal"===e?"active":""),onClick:()=>t("personal"),children:[(0,gt.jsx)(yt,{size:20}),"Date personale"]}),(0,gt.jsxs)("button",{className:"profile-nav-item "+("profiles"===e?"active":""),onClick:()=>t("profiles"),children:[(0,gt.jsx)(mr,{size:20}),"Profiluri de rezervare"]}),(0,gt.jsxs)("button",{className:"profile-nav-item "+("security"===e?"active":""),onClick:()=>t("security"),children:[(0,gt.jsx)(xr,{size:20}),"Securitate"]})]})]}),(0,gt.jsx)("main",{className:"profile-content",children:(()=>{switch(e){case"personal":default:return(0,gt.jsx)(jr,{});case"profiles":return(0,gt.jsx)(Nr,{});case"security":return(0,gt.jsx)(wr,{})}})()})]})]})},kr=pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Cr=()=>{const[e,t]=(0,r.useState)("upcoming"),[a,n]=(0,r.useState)("true"===localStorage.getItem("isLoggedIn")),[s,i]=(0,r.useState)({firstName:"",lastName:"",email:""}),[l,o]=(0,r.useState)({upcoming:[],past:[],cancelled:[]}),[c,u]=(0,r.useState)(!1),d=(e,t)=>{try{const a=e.split("T")[0],n=`${a}T${t?t.split(" - ")[0]:"00:00"}:00`,r=new Date(n);return console.log(`Parsing: ${e} + ${t} -> ${n} -> ${r} (${r.toLocaleString("ro-RO")})`),r}catch(a){console.error("Error parsing reservation date/time:",a);const t=e.split("T")[0];return new Date(t+"T00:00:00")}},m=async()=>{console.log("fetchReservations called at:",(new Date).toTimeString()),u(!0);try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return;const a=await fetch(`/reservations/user/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(a.ok){const e=await a.json(),t=new Date;console.log("Current time for comparison:",t.toLocaleString("ro-RO"));const n=[],r=[],s=[];e.forEach((e=>{var a;const i=d(e.date,e.timeSlot);if(console.log(`Reservation: ${(null===(a=e.hall)||void 0===a?void 0:a.name)||"Unknown"} on ${i.toLocaleString("ro-RO")} - Status: ${e.status}`),console.log(`Comparison: ${i.toLocaleString("ro-RO")} > ${t.toLocaleString("ro-RO")} = ${i>t}`),"CANCELLED"===e.status)s.push(e);else if(i>t){var l;n.push(e),console.log(`Added to upcoming: ${null===(l=e.hall)||void 0===l?void 0:l.name} on ${i.toLocaleString("ro-RO")}`)}else{var o;r.push(e),console.log(`Added to past: ${null===(o=e.hall)||void 0===o?void 0:o.name} on ${i.toLocaleString("ro-RO")}`)}})),console.log("Final classification - Upcoming:",n.length,"Past:",r.length,"Cancelled:",s.length),o({upcoming:n.sort(((e,t)=>d(e.date,e.timeSlot)-d(t.date,t.timeSlot))),past:r.sort(((e,t)=>{const a=d(e.date,e.timeSlot);return d(t.date,t.timeSlot)-a})),cancelled:s.sort(((e,t)=>{const a=d(e.date,e.timeSlot);return d(t.date,t.timeSlot)-a}))})}}catch(e){console.error("Eroare la \xeenc\u0103rcarea rezerv\u0103rilor:",e)}finally{u(!1)}};(0,r.useEffect)((()=>{a&&((async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return;const a=await fetch(`/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(a.ok){const e=await a.json(),t=e.name?e.name.split(" "):["",""],n=t[0]||"",r=t.slice(1).join(" ")||"";i({firstName:n,lastName:r,email:e.email||""})}}catch(e){console.error("Eroare la \xeenc\u0103rcarea informa\u021biilor de baz\u0103 ale utilizatorului:",e)}})(),m())}),[]);const h=e=>{console.log("formatDate input:",e);const t=e.split("T")[0],a=new Date(t+"T00:00:00");console.log("formatDate parsed:",a);const n=a.toLocaleDateString("ro-RO",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return console.log("formatDate output:",n),n},p=e=>{switch(e){case"CONFIRMED":return(0,gt.jsx)(or,{size:16,className:"reservations-status-icon confirmed"});case"PENDING":return(0,gt.jsx)(ir,{size:16,className:"reservations-status-icon pending"});case"CANCELLED":return(0,gt.jsx)(kr,{size:16,className:"reservations-status-icon cancelled"});default:return(0,gt.jsx)(hr,{size:16,className:"reservations-status-icon"})}},f=e=>{switch(e){case"CONFIRMED":return"Confirmat\u0103";case"PENDING":return"\xcen a\u0219teptare";case"CANCELLED":return"Anulat\u0103";default:return e}},g=t=>{var a,n;const r="upcoming"===e&&"CANCELLED"!==t.status;return(0,gt.jsxs)("div",{className:"reservations-card",children:[(0,gt.jsx)("div",{className:"reservations-card-header",children:(0,gt.jsxs)("div",{className:"reservations-card-title",children:[(0,gt.jsx)("h3",{children:(null===(a=t.hall)||void 0===a?void 0:a.name)||"Sala necunoscut\u0103"}),(0,gt.jsxs)("div",{className:"reservations-status",children:[p(t.status),(0,gt.jsx)("span",{children:f(t.status)})]})]})}),(0,gt.jsxs)("div",{className:"reservations-card-content",children:[(0,gt.jsxs)("div",{className:"reservations-info-row",children:[(0,gt.jsx)(ft,{size:16}),(0,gt.jsx)("span",{children:h(t.date)})]}),(0,gt.jsxs)("div",{className:"reservations-info-row",children:[(0,gt.jsx)(ir,{size:16}),(0,gt.jsx)("span",{children:(s=t.timeSlot,s||"")})]}),(0,gt.jsxs)("div",{className:"reservations-info-row",children:[(0,gt.jsx)(wt,{size:16}),(0,gt.jsx)("span",{children:(null===(n=t.hall)||void 0===n?void 0:n.address)||"Adres\u0103 necunoscut\u0103"})]}),t.price&&(0,gt.jsx)("div",{className:"reservations-price",children:(0,gt.jsxs)("strong",{children:[t.price," RON"]})})]}),r&&(0,gt.jsx)("div",{className:"reservations-card-actions",children:(0,gt.jsx)("button",{className:"reservations-cancel-btn",onClick:()=>(async e=>{if(window.confirm("E\u0219ti sigur c\u0103 vrei s\u0103 anulezi aceast\u0103 rezervare?"))try{const t=localStorage.getItem("jwtToken");(await fetch(`/reservations/${e}/cancel`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok?m():alert("Eroare la anularea rezerv\u0103rii. Te rug\u0103m s\u0103 \xeencerci din nou.")}catch(t){console.error("Eroare la anularea rezerv\u0103rii:",t),alert("Eroare la anularea rezerv\u0103rii. Te rug\u0103m s\u0103 \xeencerci din nou.")}})(t.id),children:"Anuleaz\u0103 rezervarea"})})]},t.id);var s},v=e=>l[e].length;return(0,gt.jsxs)("div",{className:"reservations-page",children:[(0,gt.jsx)(Nt,{isLoggedIn:a,onLoginClick:()=>{},onRegisterClick:()=>{},onLogout:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userType"),localStorage.removeItem("userId"),localStorage.removeItem("jwtToken"),n(!1),window.location.href="/"}}),(0,gt.jsxs)("div",{className:"reservations-container",children:[(0,gt.jsxs)("nav",{className:"reservations-sidebar",children:[(0,gt.jsxs)("div",{className:"reservations-user-info",children:[(0,gt.jsx)("div",{className:"reservations-avatar",children:(0,gt.jsx)(ft,{size:32})}),(0,gt.jsxs)("h3",{children:[s.firstName," ",s.lastName]}),(0,gt.jsx)("p",{children:s.email})]}),(0,gt.jsxs)("div",{className:"reservations-nav",children:[(0,gt.jsxs)("button",{className:"reservations-nav-item "+("upcoming"===e?"active":""),onClick:()=>t("upcoming"),children:[(0,gt.jsx)(or,{size:20}),(0,gt.jsx)("span",{children:"Rezerv\u0103ri viitoare"}),(0,gt.jsx)("span",{className:"reservations-count",children:v("upcoming")})]}),(0,gt.jsxs)("button",{className:"reservations-nav-item "+("past"===e?"active":""),onClick:()=>t("past"),children:[(0,gt.jsx)(ir,{size:20}),(0,gt.jsx)("span",{children:"Rezerv\u0103ri trecute"}),(0,gt.jsx)("span",{className:"reservations-count",children:v("past")})]}),(0,gt.jsxs)("button",{className:"reservations-nav-item "+("cancelled"===e?"active":""),onClick:()=>t("cancelled"),children:[(0,gt.jsx)(kr,{size:20}),(0,gt.jsx)("span",{children:"Rezerv\u0103ri anulate"}),(0,gt.jsx)("span",{className:"reservations-count",children:v("cancelled")})]})]})]}),(0,gt.jsx)("main",{className:"reservations-content",children:(0,gt.jsxs)("div",{className:"reservations-section",children:[(0,gt.jsx)("div",{className:"reservations-section-header",children:(0,gt.jsx)("h2",{children:(()=>{switch(e){case"upcoming":return"Rezerv\u0103ri viitoare";case"past":return"Rezerv\u0103ri trecute";case"cancelled":return"Rezerv\u0103ri anulate";default:return"Rezerv\u0103ri"}})()})}),(()=>{if(c)return(0,gt.jsxs)("div",{className:"reservations-loading",children:[(0,gt.jsx)("div",{className:"reservations-loading-spinner"}),(0,gt.jsx)("p",{children:"Se \xeencarc\u0103 rezerv\u0103rile..."})]});const t=l[e];if(0===t.length){let t="";switch(e){case"upcoming":t="Nu ai rezerv\u0103ri viitoare.";break;case"past":t="Nu ai rezerv\u0103ri trecute.";break;case"cancelled":t="Nu ai rezerv\u0103ri anulate.";break;default:t="Nu ai rezerv\u0103ri."}return(0,gt.jsxs)("div",{className:"reservations-empty",children:[(0,gt.jsx)(ft,{size:48}),(0,gt.jsx)("p",{children:t})]})}return(0,gt.jsx)("div",{className:"reservations-list",children:t.map(g)})})()]})})]})]})},Er="fcfsSelectedCity",zr="fcfsSelectedHall",Pr=()=>{var e;const t=te(),[a,n]=(0,r.useState)({canAccess:!1,loading:!0,message:"",userType:null,globalEnabled:!1}),[s,i]=(0,r.useState)(""),[l,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(new Date),[d,m]=(0,r.useState)(null),[h,p]=(0,r.useState)([]),[f,g]=(0,r.useState)([]),[v,x]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[j,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)(null);(0,r.useEffect)((()=>{k()}),[]);const k=async()=>{try{n((e=>({...e,loading:!0})));const e=localStorage.getItem("jwtToken");if(!e)return n({canAccess:!1,loading:!1,message:"Nu sunte\u021bi autentificat",userType:null,globalEnabled:!1}),void T();const t=await fetch("/fcfs/access-check",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();n({canAccess:e.canAccess,loading:!1,message:e.reason||"",userType:e.userType,globalEnabled:e.fcfsEnabled})}else n({canAccess:!1,loading:!1,message:"Eroare la verificarea accesului",userType:null,globalEnabled:!1});T()}catch(e){console.error("Eroare la verificarea accesului FCFS:",e),n({canAccess:!1,loading:!1,message:"A ap\u0103rut o eroare la verificarea accesului",userType:null,globalEnabled:!1}),T()}},C=e=>{const t=new Date(e),a=t.getDay(),n=t.getDate()-a+(0===a?-6:1);return t.setDate(n),t.setHours(0,0,0,0),t},E=(0,r.useMemo)((()=>C(new Date)),[]),z=(0,r.useMemo)((()=>{const e=new Date(E);return e.setDate(e.getDate()+7),e}),[E]),P=(0,r.useMemo)((()=>{const e=new Date;return e.setHours(0,0,0,0),e}),[]);(0,r.useEffect)((()=>{const e=localStorage.getItem(Er);if(e&&y.length>0){y.includes(e)?i(e):localStorage.removeItem(Er)}}),[y]),(0,r.useEffect)((()=>{if(s&&v&&v.length>0){const e=localStorage.getItem(zr);if(e){v.some((t=>t.id.toString()===e))?o(e):(localStorage.removeItem(zr),o(""))}}}),[v,s]),(0,r.useEffect)((()=>{s?localStorage.setItem(Er,s):localStorage.removeItem(Er)}),[s]),(0,r.useEffect)((()=>{l?localStorage.setItem(zr,l):localStorage.removeItem(zr)}),[l]),(0,r.useEffect)((()=>{s?A():(x([]),o(""))}),[s]),(0,r.useEffect)((()=>{l&&a.canAccess?(R(),I()):(g([]),m(null),l?I():S(null))}),[l,c,a.canAccess]),(0,r.useEffect)((()=>{if(f.length>0){if(d&&f.some((e=>D(e.date,d)))){if(!f.some((e=>D(e.date,d)))){const e=f.find((e=>e.date>=P));m(e?new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()):null)}}else{const e=f.find((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t>=P}));m(e?new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()):null)}}else m(null)}),[f,P]);const T=async()=>{N(!0);try{const e=await fetch("/sportsHalls/cities"),t=e.ok?await e.json():[];b(Array.isArray(t)?t:[])}catch(e){console.error("Eroare la \xeenc\u0103rcarea ora\u0219elor:",e),b([])}finally{N(!1)}},A=async()=>{N(!0);try{const e=await fetch("/sportsHalls/active");if(e.ok){const t=(await e.json()).filter((e=>e.city&&e.city.toLowerCase()===s.toLowerCase()));console.log(`Loaded ${t.length} active sports halls for city: ${s}`),x(Array.isArray(t)?t:[])}else console.error("Eroare la \xeenc\u0103rcarea s\u0103lilor active"),x([])}catch(e){console.error("Eroare la \xeenc\u0103rcarea s\u0103lilor active:",e),x([])}finally{N(!1)}},I=async()=>{if(l)try{const e=await fetch(`/sportsHalls/${l}`);if(e.ok){const t=await e.json();S(t)}else console.error(`Eroare la ob\u021binerea detaliilor pentru sala ${l}`),S(null)}catch(e){console.error("Eroare la ob\u021binerea detaliilor s\u0103lii:",e),S(null)}},R=async()=>{if(l){N(!0);try{const[e,t]=await Promise.all([fetch(`/schedules/hall/${l}`),fetch(`/reservations?hallId=${l}`)]),a=e.ok?await e.json():[],n=t.ok?await t.json():[],r=L(a,n,C(c),F(c));g(r)}catch(e){console.error("Eroare la \xeenc\u0103rcarea sloturilor:",e),g([])}finally{N(!1)}}},D=(e,t)=>!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()),L=(e,t,a,n)=>{const r=[],s=new Date(a),i=new Date,l=new Date(i.getFullYear(),i.getMonth(),i.getDate());for(;s<=n;){if(s<l){s.setDate(s.getDate()+1);continue}const a=0===s.getDay()?7:s.getDay(),n=e.find((e=>e.dayOfWeek===a&&e.isActive));if(n){O(n.startTime,n.endTime).forEach((e=>{const a=new Date(s);if(D(a,l)){const[t,n]=e.split("-")[0].split(":"),r=new Date(a);if(r.setHours(parseInt(t,10),parseInt(n,10),0,0),r<i)return}t.some((t=>{let n;return n="string"===typeof t.date&&t.date.includes("T")?new Date(t.date):"string"===typeof t.date?new Date(t.date+"T00:00:00"):new Date(t.date),D(n,a)&&t.timeSlot===e}))||r.push({id:`${_(a)}-${e}`,date:new Date(a),timeSlot:e,dayName:M(a),available:!0})}))}s.setDate(s.getDate()+1)}return r},O=(e,t)=>{const a=[],[n,r]=e.split(":").map(Number),[s,i]=t.split(":").map(Number);let l=n,o=r;for(;l<s||l===s&&o<i;){const e=`${String(l).padStart(2,"0")}:${String(o).padStart(2,"0")}`;let t=l,n=o+90;if(n>=60&&(t+=Math.floor(n/60),n%=60),t>s||t===s&&n>i)break;const r=`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`;a.push(`${e}-${r}`),l=t,o=n}return a},F=e=>{const t=C(e);return t.setDate(t.getDate()+6),t.setHours(23,59,59,999),t},M=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?["Du","Lu","Ma","Mi","Jo","Vi","S\xe2"][e.getDay()]:["Duminic\u0103","Luni","Mar\u021bi","Miercuri","Joi","Vineri","S\xe2mb\u0103t\u0103"][e.getDay()]},_=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,$=(null===(e=v.find((e=>e.id==l)))||void 0===e?void 0:e.name)||"",B=C(c).getTime()<=E.getTime(),U=C(c).getTime()>=z.getTime(),H=(0,r.useMemo)((()=>{const e=C(c),t=[];for(let a=0;a<7;a++){const n=new Date(e);n.setDate(e.getDate()+a),t.push(n)}return t}),[c]),V=(0,r.useMemo)((()=>H.map((e=>M(e,!0)))),[H]),q=(0,r.useMemo)((()=>d&&f?f.filter((e=>D(e.date,d))).sort(((e,t)=>e.timeSlot.localeCompare(t.timeSlot))):[]),[d,f]),W=(0,r.useMemo)((()=>!(!d||0===h.length)&&h.some((e=>{const t=f.find((t=>t.id===e));return t&&D(t.date,d)}))),[d,h,f]),G=f.length>0,J=l&&!a.loading&&(!a.canAccess||!j&&!G);return(0,gt.jsxs)("div",{className:"fcfs-reservation-page",children:[(0,gt.jsxs)("div",{className:"fcfs-hero-section",children:[(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsxs)("div",{className:"fcfs-hero-container",children:[(0,gt.jsxs)("div",{className:"fcfs-header",children:[(0,gt.jsx)("button",{onClick:()=>t("/"),className:"fcfs-back-button",children:"\u2190 \xcenapoi"}),(0,gt.jsx)("h1",{className:"fcfs-title",children:"Rezervarea locurilor r\u0103mase"}),(0,gt.jsx)("p",{className:"fcfs-subtitle",children:a.loading?"Se verific\u0103 disponibilitatea...":"Selecteaz\u0103 ziua \u0219i ora dorit\u0103 (un interval pe zi)"})]}),(0,gt.jsx)("div",{className:"fcfs-filters-container",children:(0,gt.jsxs)("div",{className:"fcfs-filters",children:[(0,gt.jsxs)("div",{className:"fcfs-filter-group",children:[(0,gt.jsx)("label",{htmlFor:"city-select",children:"Alege ora\u0219ul:"}),(0,gt.jsxs)("select",{id:"city-select",value:s,onChange:e=>{return t=e.target.value,i(t),o(""),x([]),g([]),p([]),u(new Date),m(null),void S(null);var t},className:"fcfs-select",disabled:j||a.loading,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 ora\u0219ul"}),y.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]})]}),(0,gt.jsxs)("div",{className:"fcfs-filter-group",children:[(0,gt.jsx)("label",{htmlFor:"hall-select",children:"Alege sala de sport:"}),(0,gt.jsxs)("select",{id:"hall-select",value:l,onChange:e=>{return t=e.target.value,o(t),g([]),p([]),u(new Date),m(null),void S(null);var t},className:"fcfs-select",disabled:!s||0===v.length||j||a.loading,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 sala"}),v.map((e=>(0,gt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]})})]})]}),(0,gt.jsx)("div",{className:"fcfs-content-container",children:(0,gt.jsxs)("div",{className:"fcfs-main-container",children:[l&&(0,gt.jsxs)("div",{className:"fcfs-content",children:[(0,gt.jsxs)("div",{className:"fcfs-week-navigation",children:[(0,gt.jsx)("button",{onClick:()=>{if(C(c).getTime()>E.getTime()){const e=new Date(c);e.setDate(c.getDate()-7),u(e),m(null)}},className:"fcfs-nav-button",disabled:B||j||!a.canAccess,children:"\u2190"}),(0,gt.jsx)("h2",{className:"fcfs-week-title",children:(()=>{const e=C(c),t=F(c);return`${e.getDate()} ${e.toLocaleDateString("ro-RO",{month:"long"})} - ${t.getDate()} ${t.toLocaleDateString("ro-RO",{month:"long"})} ${t.getFullYear()}`})()}),(0,gt.jsx)("button",{onClick:()=>{if(C(c).getTime()<z.getTime()){const e=new Date(c);e.setDate(c.getDate()+7),u(e),m(null)}},className:"fcfs-nav-button",disabled:U||j||!a.canAccess,children:"\u2192"})]}),(0,gt.jsx)("div",{className:"fcfs-hall-info",children:(0,gt.jsx)("h3",{children:$?(0,gt.jsxs)(gt.Fragment,{children:["Program pentru ",$,w&&(0,gt.jsxs)("span",{className:"hall-price",children:[" - ",(Q=w.tariff,null==Q?"50.00":Number(Q).toFixed(2))," RON/interval"]})]}):"Selecteaz\u0103 o sal\u0103"})}),J&&(0,gt.jsxs)("div",{className:"fcfs-no-slots",children:[(0,gt.jsx)("p",{children:"Nu au fost postate \xeenc\u0103 intervalele orare disponibile pentru aceast\u0103 s\u0103pt\u0103m\xe2n\u0103."}),(0,gt.jsx)("p",{children:"V\u0103 rug\u0103m s\u0103 reveni\u021bi mai t\xe2rziu sau s\u0103 contacta\u021bi administratorul pentru mai multe informa\u021bii."})]}),!J&&a.canAccess&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("div",{className:"fcfs-day-selector-container",children:[(0,gt.jsx)("div",{className:"fcfs-day-headers",children:V.map(((e,t)=>(0,gt.jsx)("div",{className:"fcfs-day-header-item",children:e},t)))}),(0,gt.jsx)("div",{className:"fcfs-day-buttons",children:H.map((e=>{const t=e.toISOString().split("T")[0],a=d&&D(e,d),n=e<P,r=f.some((t=>D(t.date,e))),s=h.some((t=>{const a=f.find((e=>e.id===t));return a&&D(a.date,e)})),i=s&&!D(e,P);let l="fcfs-day-button";a&&(l+=" selected"),n&&!D(e,P)&&(l+=" past"),r||n||(l+=" no-slots"),s&&(l+=" has-selection");const o=n&&!D(e,P)||!r&&!D(e,P)&&!n;return(0,gt.jsxs)("button",{className:l,onClick:()=>{r||D(e,P)?m(e):n||alert("Nu exist\u0103 intervale disponibile pentru aceast\u0103 zi.")},disabled:o||j,children:[e.getDate(),i&&(0,gt.jsx)("span",{className:"selected-indicator",children:"\u25cf"})]},t)}))})]}),d&&(0,gt.jsxs)("div",{className:"fcfs-time-slots-section",children:[(0,gt.jsxs)("h4",{className:"fcfs-time-slots-title",children:["Intervalele disponibile pentru: ",d.toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long"}),W&&(0,gt.jsx)("span",{className:"day-status",children:" (Interval selectat pentru aceast\u0103 zi)"})]}),j&&0===q.length?(0,gt.jsx)("div",{className:"fcfs-loading",children:(0,gt.jsx)("p",{children:"Se \xeencarc\u0103 intervalele..."})}):q.length>0?(0,gt.jsx)("div",{className:"fcfs-slots-list-for-day",children:q.map(((e,t)=>(0,gt.jsxs)("div",{className:`fcfs-slot-card-timeonly ${h.includes(e.id)?"selected":""} animating-in`,style:{animationDelay:.05*t+"s"},onClick:()=>!j&&(e=>{const t=f.find((t=>t.id===e));if(t)if(h.includes(e))p(h.filter((t=>t!==e)));else if(h.filter((e=>{const a=f.find((t=>t.id===e));return a&&D(a.date,t.date)})).length>0){const a=h.filter((e=>{const a=f.find((t=>t.id===e));return!a||!D(a.date,t.date)}));p([...a,e])}else p([...h,e])})(e.id),children:[(0,gt.jsx)("div",{className:"fcfs-slot-time",children:e.timeSlot}),(0,gt.jsx)("div",{className:"fcfs-slot-status-timeonly",children:h.includes(e.id)?"Selectat":"Disponibil"})]},e.id)))}):(0,gt.jsx)("div",{className:"fcfs-no-slots",children:(0,gt.jsx)("p",{children:"Nu sunt intervale orare disponibile pentru ziua selectat\u0103 sau toate intervalele au expirat."})})]}),(q.length>0||h.length>0)&&!j&&(0,gt.jsx)("div",{className:"fcfs-actions",children:(0,gt.jsxs)("div",{className:"fcfs-buttons",children:[(0,gt.jsx)("button",{onClick:()=>p([]),className:"fcfs-cancel-button",disabled:j||0===h.length,children:"Anuleaz\u0103 Selec\u021bia"}),(0,gt.jsx)("button",{onClick:()=>{if(0===h.length)return void alert("V\u0103 rug\u0103m s\u0103 selecta\u021bi cel pu\u021bin un slot pentru rezervare.");const e=h.map((e=>{const t=f.find((t=>t.id===e));return{hallId:parseInt(l),hallName:$,date:_(t.date),dateFormatted:t.date.toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),timeSlot:t.timeSlot}}));t("/payment",{state:{reservations:e,city:s}})},className:"fcfs-confirm-button",disabled:0===h.length||j,children:"Continu\u0103 la Plat\u0103"})]})})]})]}),(!s||!l)&&!j&&!a.loading&&(0,gt.jsx)("div",{className:"fcfs-empty-state",children:(0,gt.jsx)("p",{children:"Selecteaz\u0103 ora\u0219ul \u0219i sala de sport pentru a vizualiza programul."})}),a.loading&&(0,gt.jsx)("div",{className:"fcfs-loading",children:(0,gt.jsx)("p",{children:"Se verific\u0103 accesul..."})})]})}),(0,gt.jsx)(Vn,{})]});var Q},Tr="pk_test_51RUSNJB90iMxhg7K13VbDV4YNESfylJS8mNsenCauFMwbo2t9rDEptGatnEwR2lzQrgb7liaFKyFTjfyMkq2ooT900FSp78Ooy",Ar=()=>localStorage.getItem("jwtToken")||sessionStorage.getItem("jwtToken"),Ir=()=>{const e=Ar();return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},Rr=e=>{let{amount:t,reservationData:a,onPaymentProcessing:n,onPaymentSuccess:s,onPaymentError:i}=e;const[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[d,m]=(0,r.useState)({number:"",expiry:"",cvc:"",name:""}),[h,p]=(0,r.useState)({});(0,r.useEffect)((()=>{(async()=>{try{if(window.Stripe){const e=window.Stripe(Tr);return void o(e)}const e=document.querySelector('script[src="https://js.stripe.com/v3/"]');if(e)return void(e.onload=()=>{if(window.Stripe){const e=window.Stripe(Tr);o(e)}});const t=document.createElement("script");t.src="https://js.stripe.com/v3/",t.onload=()=>{if(window.Stripe){const e=window.Stripe(Tr);o(e)}else i("Stripe nu s-a \xeenc\u0103rcat corect.")},t.onerror=()=>{i("Nu s-a putut \xeenc\u0103rca Stripe. V\u0103 rug\u0103m s\u0103 verifica\u021bi conexiunea la internet.")},document.head.appendChild(t)}catch(e){i("Eroare la \xeenc\u0103rcarea Stripe: "+e.message)}})()}),[i]);const f=(e,t)=>{let a=t;"number"===e?a=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),a=t.match(/\d{4,16}/g),n=a&&a[0]||"",r=[];for(let s=0,i=n.length;s<i;s+=4)r.push(n.substring(s,s+4));return r.length?r.join(" "):t})(t):"expiry"===e?a=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?t.substring(0,2)+"/"+t.substring(2,4):t})(t):"cvc"===e&&(a=t.replace(/[^0-9]/g,"").substring(0,4)),m((t=>({...t,[e]:a}))),h[e]&&p((t=>({...t,[e]:""})))};return l?(0,gt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!l)return void i("Stripe nu s-a \xeenc\u0103rcat corect.");if(!(()=>{const e={};return(!d.number||d.number.replace(/\s/g,"").length<13)&&(e.number="Num\u0103rul cardului este invalid"),d.expiry&&/^\d{2}\/\d{2}$/.test(d.expiry)||(e.expiry="Data expir\u0103rii trebuie s\u0103 fie \xeen formatul MM/YY"),(!d.cvc||d.cvc.length<3)&&(e.cvc="CVC-ul trebuie s\u0103 aib\u0103 cel pu\u021bin 3 cifre"),d.name.trim()||(e.name="Numele este obligatoriu"),p(e),0===Object.keys(e).length})())return;if(Ar()){u(!0),n(!0);try{const e=await fetch("/payment/stripe/create-payment-intent",{method:"POST",headers:Ir(),body:JSON.stringify({amount:t,reservations:a})});if(401===e.status||403===e.status)throw new Error("Nu sunte\u021bi autorizat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi din nou.");const n=await e.json();if(!e.ok||!n.clientSecret)throw new Error(n.error||"Eroare la crearea inten\u021biei de plat\u0103.");const{clientSecret:i}=n,[o,c]=d.expiry.split("/");let u;const m=d.number.replace(/\s/g,"");if("4242424242424242"===m)u="pm_card_visa";else if("5555555555554444"===m)u="pm_card_mastercard";else try{const{error:e,paymentMethod:t}=await l.createPaymentMethod({type:"card",card:{number:m,exp_month:parseInt(o,10),exp_year:parseInt("20"+c,10),cvc:d.cvc},billing_details:{name:d.name}});if(e)throw new Error(e.message);u=t.id}catch(r){const e=await fetch("/payment/stripe/confirm-payment-with-card",{method:"POST",headers:Ir(),body:JSON.stringify({clientSecret:i,cardDetails:{number:m,exp_month:parseInt(o,10),exp_year:parseInt("20"+c,10),cvc:d.cvc,cardholder_name:d.name}})});if(401===e.status||403===e.status)throw new Error("Nu sunte\u021bi autorizat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi din nou.");const t=await e.json();if(!e.ok)throw new Error(t.error||"Eroare la confirmarea pl\u0103\u021bii.");const n=t.paymentIntent;if(n&&"succeeded"===n.status){const e=await fetch("/payment/stripe/finalize-payment-and-create-reservations",{method:"POST",headers:Ir(),body:JSON.stringify({stripePaymentIntentId:n.id,reservations:a})});if(401===e.status||403===e.status)throw new Error("Nu sunte\u021bi autorizat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi din nou.");const t=await e.json();if(!e.ok||!t.success)throw new Error(t.error||"Eroare la finalizarea rezerv\u0103rilor pe server.");return void s(t,"card")}throw new Error("Plata Stripe nu a reu\u0219it. Status: "+(n?n.status:"necunoscut"))}const{error:h,paymentIntent:p}=await l.confirmCardPayment(i,{payment_method:u});if(h)throw new Error(h.message);if(!p||"succeeded"!==p.status)throw new Error("Plata Stripe nu a reu\u0219it. Status: "+(p?p.status:"necunoscut"));{const e=await fetch("http://localhost:8080/payment/stripe/finalize-payment-and-create-reservations",{method:"POST",headers:Ir(),body:JSON.stringify({stripePaymentIntentId:p.id,reservations:a})});if(401===e.status||403===e.status)throw new Error("Nu sunte\u021bi autorizat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi din nou.");const t=await e.json();if(!e.ok||!t.success)throw new Error(t.error||"Eroare la finalizarea rezerv\u0103rilor pe server.");s(t,"card")}}catch(o){console.error("Payment error:",o),i(o.message||"A ap\u0103rut o eroare la procesarea pl\u0103\u021bii.")}finally{u(!1),n(!1)}}else i("Nu sunte\u021bi autentificat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi din nou.")},className:"direct-stripe-form",children:[(0,gt.jsxs)("div",{className:"card-form-group",children:[(0,gt.jsx)("label",{htmlFor:"card-name",children:"Numele de pe card"}),(0,gt.jsx)("input",{id:"card-name",type:"text",value:d.name,onChange:e=>f("name",e.target.value),placeholder:"Nume Prenume",className:h.name?"error":""}),h.name&&(0,gt.jsx)("div",{className:"error-text",children:h.name})]}),(0,gt.jsxs)("div",{className:"card-form-group",children:[(0,gt.jsx)("label",{htmlFor:"card-number",children:"Num\u0103rul cardului"}),(0,gt.jsx)("input",{id:"card-number",type:"text",value:d.number,onChange:e=>f("number",e.target.value),placeholder:"1234 5678 9012 3456",maxLength:"19",className:h.number?"error":""}),h.number&&(0,gt.jsx)("div",{className:"error-text",children:h.number})]}),(0,gt.jsxs)("div",{className:"card-form-row",children:[(0,gt.jsxs)("div",{className:"card-form-group",children:[(0,gt.jsx)("label",{htmlFor:"card-expiry",children:"Data expir\u0103rii"}),(0,gt.jsx)("input",{id:"card-expiry",type:"text",value:d.expiry,onChange:e=>f("expiry",e.target.value),placeholder:"MM/YY",maxLength:"5",className:h.expiry?"error":""}),h.expiry&&(0,gt.jsx)("div",{className:"error-text",children:h.expiry})]}),(0,gt.jsxs)("div",{className:"card-form-group",children:[(0,gt.jsx)("label",{htmlFor:"card-cvc",children:"CVC"}),(0,gt.jsx)("input",{id:"card-cvc",type:"text",value:d.cvc,onChange:e=>f("cvc",e.target.value),placeholder:"123",maxLength:"4",className:h.cvc?"error":""}),h.cvc&&(0,gt.jsx)("div",{className:"error-text",children:h.cvc})]})]}),(0,gt.jsx)("button",{type:"submit",disabled:c,className:"finalize-button stripe-pay-button",children:c?"Se proceseaz\u0103...":`Pl\u0103te\u0219te (${(t/100).toFixed(2)} RON)`})]}):(0,gt.jsx)("div",{className:"stripe-loading",children:"Se \xeencarc\u0103 Stripe..."})},Dr=()=>{var e,t;const a=te(),n=X(),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)("card"),[c,u]=(0,r.useState)(null),[d,m]=(0,r.useState)({}),h=(null===(e=n.state)||void 0===e?void 0:e.reservations)||[],p=(null===(t=n.state)||void 0===t?void 0:t.city)||"";(0,r.useEffect)((()=>{if(!Ar())return alert("Nu sunte\u021bi autentificat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi."),void a("/login")}),[a]);const f=(0,r.useCallback)((async()=>{if(0!==h.length)try{const e={};for(const t of h)if(!e[t.hallId]){const a=await fetch(`/sportsHalls/${t.hallId}`);if(a.ok){const n=await a.json();e[t.hallId]=n}else console.error(`Eroare la ob\u021binerea detaliilor pentru sala ${t.hallId}`),e[t.hallId]={tariff:50}}m(e)}catch(c){console.error("Eroare la ob\u021binerea detaliilor s\u0103lilor:",c),u("Eroare la \xeenc\u0103rcarea detaliilor rezerv\u0103rii.")}}),[h]);(0,r.useEffect)((()=>{0!==h.length||n.pathname.includes("/payment-success")?f():(alert("Nu exist\u0103 date de rezervare. V\u0103 redirect\u0103m la pagina principal\u0103."),a("/"))}),[h,a,n.pathname,f]);const g=(()=>{if(0===Object.keys(d).length)return 0;let e=0;return h.forEach((t=>{const a=d[t.hallId];a&&a.tariff?e+=a.tariff:e+=50})),e})(),v=100*g;return 0!==h.length||n.pathname.includes("/payment-success")?0===Object.keys(d).length&&h.length>0?(0,gt.jsx)("div",{className:"payment-page",children:(0,gt.jsx)("div",{className:"payment-container",children:(0,gt.jsx)("div",{className:"stripe-loading",children:"Se \xeencarc\u0103 detaliile rezerv\u0103rii..."})})}):(0,gt.jsx)("div",{className:"payment-page",children:(0,gt.jsxs)("div",{className:"payment-container",children:[(0,gt.jsxs)("div",{className:"payment-header",children:[(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("h1",{children:"Finalizare rezervare"}),(0,gt.jsx)("p",{children:"Completa\u021bi plata pentru a confirma rezervarea"})]}),(0,gt.jsxs)("div",{className:"payment-content",children:[(0,gt.jsxs)("div",{className:"reservation-summary",children:[(0,gt.jsx)("h2",{children:"Rezumat rezervare"}),(0,gt.jsxs)("div",{className:"summary-card",children:[(0,gt.jsxs)("div",{className:"summary-header",children:[(0,gt.jsxs)("span",{children:[(0,gt.jsx)("strong",{children:"Ora\u0219:"})," ",p]}),(0,gt.jsxs)("span",{children:[(0,gt.jsx)("strong",{children:"Num\u0103rul de intervale:"})," ",h.length]})]}),h.map(((e,t)=>{const a=d[e.hallId],n=(null===a||void 0===a?void 0:a.tariff)||50;return(0,gt.jsx)("div",{className:"reservation-item",children:(0,gt.jsxs)("div",{className:"reservation-details",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{children:"Sala:"})," ",e.hallName]}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("strong",{children:"Interval:"})," ",e.timeSlot]}),(0,gt.jsxs)("div",{className:"full-width",children:[(0,gt.jsx)("strong",{children:"Data:"})," ",e.dateFormatted]}),(0,gt.jsxs)("div",{className:"full-width",children:[(0,gt.jsx)("strong",{children:"Pre\u021b:"})," ",n.toFixed(2)," RON"]})]})},t)})),(0,gt.jsxs)("div",{className:"total-section",children:[(0,gt.jsx)("span",{children:"Total de plat\u0103:"}),(0,gt.jsxs)("span",{className:"total-amount",children:[g.toFixed(2)," RON"]})]})]})]}),(0,gt.jsxs)("div",{className:"payment-methods",children:[(0,gt.jsx)("h2",{children:"Metod\u0103 de plat\u0103"}),(0,gt.jsxs)("div",{className:"payment-options",children:[(0,gt.jsxs)("label",{className:"payment-option "+("card"===l?"selected":""),children:[(0,gt.jsx)("input",{type:"radio",value:"card",checked:"card"===l,onChange:()=>o("card")}),"\ud83d\udcb3 Card de Credit/Debit (Stripe)"]}),(0,gt.jsxs)("label",{className:"payment-option "+("cash"===l?"selected":""),children:[(0,gt.jsx)("input",{type:"radio",value:"cash",checked:"cash"===l,onChange:()=>o("cash")}),"\ud83d\udcb5 Plat\u0103 numerar"]})]}),c&&(0,gt.jsx)("div",{className:"error-message main-error",children:c}),"card"===l&&(0,gt.jsxs)("div",{className:"stripe-form",children:[(0,gt.jsxs)("div",{className:"test-mode-notice",children:[(0,gt.jsx)("strong",{children:"\ud83e\uddea Mod Test Stripe:"})," Folosi\u021bi cardurile de test furnizate de Stripe."]}),(0,gt.jsx)(Rr,{amount:v,reservationData:h,onPaymentProcessing:i,onPaymentSuccess:(e,t)=>{a("/payment-success",{state:{reservations:h,totalAmount:g,paymentMethod:t,paymentDetails:e}})},onPaymentError:u}),(0,gt.jsxs)("div",{className:"test-cards",children:[(0,gt.jsx)("h4",{children:"Carduri de test Stripe (exemple comune):"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Visa (Recomandat):"})," ",(0,gt.jsx)("code",{children:"4242 4242 4242 4242"})," - folose\u0219te token automat"]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Mastercard (Recomandat):"})," ",(0,gt.jsx)("code",{children:"5555 5555 5555 4444"})," - folose\u0219te token automat"]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Visa Debit:"})," ",(0,gt.jsx)("code",{children:"4000 0566 5566 5556"})]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Mastercard Debit:"})," ",(0,gt.jsx)("code",{children:"5200 8282 8282 8210"})]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:"Exp:"})," orice dat\u0103 viitoare (ex: 12/25), ",(0,gt.jsx)("strong",{children:"CVC:"})," orice 3 cifre (ex: 123)"]})]}),(0,gt.jsx)("p",{children:(0,gt.jsx)("small",{children:"\ud83d\udca1 Primele dou\u0103 carduri folosesc token-uri sigure \u0219i sunt recomandate pentru testare."})})]})]}),"cash"===l&&(0,gt.jsxs)("div",{className:"cash-payment-info",children:[(0,gt.jsx)("h3",{children:"Plat\u0103 la Fa\u021ba Locului"}),(0,gt.jsx)("p",{children:"Rezervarea va fi confirmat\u0103, iar plata se va efectua direct la sala de sport \xeenainte de \xeenceperea activit\u0103\u021bii. V\u0103 rug\u0103m s\u0103 ajunge\u021bi cu 15 minute \xeenainte de ora rezervat\u0103."}),(0,gt.jsx)("button",{onClick:async()=>{if(Ar()){i(!0),u(null);try{const e=await fetch("/payment/confirm-payment-cash",{method:"POST",headers:Ir(),body:JSON.stringify({reservations:h,totalAmount:g})});if(401===e.status||403===e.status)return void u("Nu sunte\u021bi autorizat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi din nou.");const t=await e.json();t.success?a("/payment-success",{state:{reservations:h,totalAmount:g,paymentMethod:"cash",paymentDetails:t}}):u(t.error||"Eroare la crearea rezerv\u0103rii cu plat\u0103 cash.")}catch(e){console.error("Cash payment error:",e),u(e.message||"A ap\u0103rut o eroare la crearea rezerv\u0103rii cu plat\u0103 cash.")}finally{i(!1)}}else u("Nu sunte\u021bi autentificat. V\u0103 rug\u0103m s\u0103 v\u0103 loga\u021bi din nou.")},disabled:s,className:"finalize-button cash-confirm-button "+(s?"loading":""),children:s?"Se proceseaz\u0103...":`Confirm\u0103 Rezervarea (${g.toFixed(2)} RON)`})]})]})]})]})}):null},Lr=()=>{const e=te(),t=X(),{reservations:a=[],totalAmount:n=0,paymentMethod:s="N/A",paymentDetails:i={}}=t.state||{};if((0,r.useEffect)((()=>{0===a.length&&(alert("Detaliile rezerv\u0103rii nu au fost g\u0103site. Redirectare..."),e("/"))}),[a,e]),0===a.length)return(0,gt.jsx)("div",{className:"payment-success-page",children:(0,gt.jsx)("div",{className:"success-container",children:(0,gt.jsx)("div",{className:"loading-section",children:"Se \xeencarc\u0103..."})})});const l="card"===s?(null===i||void 0===i?void 0:i.stripePaymentIntentId)||(null===i||void 0===i?void 0:i.transactionId):null===i||void 0===i?void 0:i.paymentId,o=(new Date).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,gt.jsx)("div",{className:"payment-success-page",children:(0,gt.jsxs)("div",{className:"success-container",children:[(0,gt.jsxs)("div",{className:"document-header",children:[(0,gt.jsxs)("div",{className:"company-header",children:[(0,gt.jsx)("h1",{className:"company-name",children:"TRAINON"}),(0,gt.jsx)("p",{className:"company-subtitle",children:"Platform\u0103 Rezerv\u0103ri Sportive"})]}),(0,gt.jsxs)("div",{className:"document-info",children:[(0,gt.jsx)("p",{className:"document-type",children:"CONFIRMAREA REZERV\u0102RII"}),(0,gt.jsxs)("p",{className:"document-date",children:["Data emiterii: ",o]})]})]}),(0,gt.jsx)("div",{className:"status-section",children:(0,gt.jsxs)("div",{className:"status-indicator success",children:[(0,gt.jsx)("div",{className:"status-icon"}),(0,gt.jsxs)("div",{className:"status-content",children:[(0,gt.jsx)("h2",{className:"status-title",children:"Rezervare Confirmat\u0103"}),(0,gt.jsx)("p",{className:"status-message",children:"cash"===s?"Rezervarea dumneavoastr\u0103 a fost \xeenregistrat\u0103 cu succes \xeen sistemul nostru.":"Plata a fost procesat\u0103 cu succes \u0219i rezervarea este confirmat\u0103."})]})]})}),(0,gt.jsxs)("div",{className:"content-section",children:[(0,gt.jsxs)("div",{className:"section-block",children:[(0,gt.jsx)("h3",{className:"section-title",children:"Detalii Rezervare"}),(0,gt.jsxs)("div",{className:"details-table",children:[(0,gt.jsxs)("div",{className:"table-header",children:[(0,gt.jsx)("div",{className:"col-header",children:"Sala de Sport"}),(0,gt.jsx)("div",{className:"col-header",children:"Data"}),(0,gt.jsx)("div",{className:"col-header",children:"Interval Orar"}),(0,gt.jsx)("div",{className:"col-header",children:"Tarif"})]}),a.map(((e,t)=>(0,gt.jsxs)("div",{className:"table-row",children:[(0,gt.jsx)("div",{className:"table-cell",children:e.hallName}),(0,gt.jsx)("div",{className:"table-cell",children:e.dateFormatted}),(0,gt.jsx)("div",{className:"table-cell",children:e.timeSlot}),(0,gt.jsxs)("div",{className:"table-cell",children:[(n/a.length).toFixed(2)," RON"]})]},t))),(0,gt.jsxs)("div",{className:"table-footer",children:[(0,gt.jsx)("div",{className:"total-label",children:"Total de plat\u0103:"}),(0,gt.jsxs)("div",{className:"total-amount",children:[n.toFixed(2)," RON"]})]})]})]}),(0,gt.jsxs)("div",{className:"section-block",children:[(0,gt.jsx)("h3",{className:"section-title",children:"Informa\u021bii Tranzac\u021bie"}),(0,gt.jsxs)("div",{className:"info-grid",children:[(0,gt.jsxs)("div",{className:"info-row",children:[(0,gt.jsx)("span",{className:"info-label",children:"Metod\u0103 de plat\u0103:"}),(0,gt.jsx)("span",{className:"info-value",children:"card"===s?"Card de Credit/Debit":"cash"===s?"Plat\u0103 Numerar":s})]}),l&&(0,gt.jsxs)("div",{className:"info-row",children:[(0,gt.jsx)("span",{className:"info-label",children:"ID Tranzac\u021bie:"}),(0,gt.jsx)("span",{className:"info-value transaction-id",children:l})]}),(null===i||void 0===i?void 0:i.reservationIds)&&(0,gt.jsxs)("div",{className:"info-row",children:[(0,gt.jsx)("span",{className:"info-label",children:"ID-uri Rezerv\u0103ri:"}),(0,gt.jsx)("span",{className:"info-value",children:i.reservationIds.join(", ")})]}),(0,gt.jsxs)("div",{className:"info-row",children:[(0,gt.jsx)("span",{className:"info-label",children:"Status:"}),(0,gt.jsx)("span",{className:"info-value status-confirmed",children:"Confirmat"})]})]})]}),(0,gt.jsxs)("div",{className:"section-block",children:[(0,gt.jsx)("h3",{className:"section-title",children:"Instruc\u021biuni Importante"}),(0,gt.jsxs)("div",{className:"instructions-list",children:[(0,gt.jsxs)("div",{className:"instruction-item",children:[(0,gt.jsx)("span",{className:"instruction-number",children:"1"}),(0,gt.jsx)("span",{className:"instruction-text",children:"Prezenta\u021bi-v\u0103 cu 15 minute \xeenainte de ora rezervat\u0103"})]}),(0,gt.jsxs)("div",{className:"instruction-item",children:[(0,gt.jsx)("span",{className:"instruction-number",children:"2"}),(0,gt.jsx)("span",{className:"instruction-text",children:"Asigura\u021bi-v\u0103 c\u0103 ave\u021bi echipamentul sportiv necesar"})]}),(0,gt.jsxs)("div",{className:"instruction-item",children:[(0,gt.jsx)("span",{className:"instruction-number",children:"3"}),(0,gt.jsx)("span",{className:"instruction-text",children:"\xcent\xe2rzierile mai mari de 15 minute pot rezulta \xeen anularea rezerv\u0103rii"})]}),"cash"===s&&(0,gt.jsxs)("div",{className:"instruction-item cash-note",children:[(0,gt.jsx)("span",{className:"instruction-number",children:"!"}),(0,gt.jsxs)("span",{className:"instruction-text",children:[(0,gt.jsx)("strong",{children:"Aten\u021bie:"})," Plata se va efectua la fa\u021ba locului \xeenainte de \xeenceperea activit\u0103\u021bii"]})]})]})]}),(0,gt.jsxs)("div",{className:"section-block",children:[(0,gt.jsx)("h3",{className:"section-title",children:"Contact \u0219i Suport"}),(0,gt.jsxs)("div",{className:"contact-info",children:[(0,gt.jsx)("p",{children:"Pentru modific\u0103ri, anul\u0103ri sau \xeentreb\u0103ri, v\u0103 rug\u0103m s\u0103 ne contacta\u021bi prin:"}),(0,gt.jsxs)("ul",{className:"contact-list",children:[(0,gt.jsx)("li",{children:"Platforma online TrainOn"}),(0,gt.jsx)("li",{children:'Sec\u021biunea "Contul Meu" \u2192 "Rezerv\u0103rile Mele"'}),(0,gt.jsx)("li",{children:"Program de func\u021bionare: Luni - Duminic\u0103, 08:00 - 22:00"})]})]})]})]}),(0,gt.jsxs)("div",{className:"action-section no-print",children:[(0,gt.jsx)("button",{onClick:()=>e("/"),className:"btn btn-primary",children:"\xcenapoi la Pagina Principal\u0103"}),(0,gt.jsx)("button",{onClick:()=>window.print(),className:"btn btn-secondary",children:"Printeaz\u0103 Confirmarea"})]}),(0,gt.jsxs)("div",{className:"document-footer",children:[(0,gt.jsx)("div",{className:"footer-line"}),(0,gt.jsxs)("p",{className:"footer-text",children:["Acest document a fost generat automat de sistemul TrainOn \xeen data de ",o]}),(0,gt.jsx)("p",{className:"footer-note",children:"P\u0103stra\u021bi aceast\u0103 confirmare pentru eviden\u021bele dumneavoastr\u0103"})]})]})})};class Or extends r.Component{constructor(e){super(e),this.fetchHalls=async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return void this.setState({error:"Nu sunte\u021bi autentificat corect",loading:!1,halls:[]});const a=await fetch(`${this.API_BASE_URL}/sportsHalls/admin/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`Eroare la \xeenc\u0103rcarea s\u0103lilor: ${a.status}`);const n=await a.json();console.log("Halls loaded:",n),await this.fetchRatingsForHalls(n),this.setState({halls:n,loading:!1})}catch(e){console.error("Error fetching halls:",e),this.setState({error:e.message,loading:!1,halls:[]})}},this.fetchRatingsForHalls=async e=>{const t={};await Promise.all(e.map((async e=>{try{const a=await fetch(`${this.API_BASE_URL}/feedbacks?hallId=${e.id}`);if(a.ok){const n=await a.json(),r=this.calculateRatingFromFeedbacks(n);t[e.id]=r}else t[e.id]={averageRating:0,totalReviews:0}}catch(a){console.error(`Error fetching ratings for hall ${e.id}:`,a),t[e.id]={averageRating:0,totalReviews:0}}}))),this.setState({hallRatings:t})},this.calculateRatingFromFeedbacks=e=>{if(!e||0===e.length)return{averageRating:0,totalReviews:0};const t=e.reduce(((e,t)=>e+(t.rating||0)),0)/e.length;return{averageRating:Math.round(10*t)/10,totalReviews:e.length}},this.getCoverImage=e=>{if(e.images&&e.images.length>0){const t=e.images.find((e=>"cover"===e.description));if(t)return`${this.API_BASE_URL}/images/${t.id}`}return null},this.handleEditClick=e=>{this.setState({redirectToEdit:`/edit-hall/${e}`})},this.renderRatingStars=e=>{const t=Math.floor(e),a=e%1>=.3&&e%1<=.7,n=e%1>.7;return(0,gt.jsx)("div",{className:"hall-rating-stars",children:[...Array(5)].map(((e,r)=>r<t?(0,gt.jsx)(Jn,{size:18,fill:"#FFD700",color:"#FFD700",className:"star-icon"},r):r===t&&a?(0,gt.jsxs)("div",{className:"half-star-container",children:[(0,gt.jsx)(Jn,{size:18,fill:"#FFD700",color:"#FFD700",className:"half-star"}),(0,gt.jsx)(Jn,{size:18,fill:"none",color:"#D1D5DB",className:"star-icon star-background"})]},r):r===t&&n?(0,gt.jsx)(Jn,{size:18,fill:"#FFD700",color:"#FFD700",className:"star-icon"},r):(0,gt.jsx)(Jn,{size:18,fill:"none",color:"#D1D5DB",className:"star-icon"},r)))})},this.API_BASE_URL="",this.state={halls:[],hallRatings:{},loading:!0,error:null,redirectToEdit:null}}async componentDidMount(){await this.fetchHalls()}render(){const{halls:e,hallRatings:t,loading:a,error:n,redirectToEdit:r}=this.state;return r?(0,gt.jsx)(ve,{to:r}):a?(0,gt.jsx)("div",{className:"loading-container",children:"Se \xeencarc\u0103 s\u0103lile..."}):n?(0,gt.jsxs)("div",{className:"error-container",children:["Eroare: ",n]}):(0,gt.jsxs)("div",{className:"admin-page",children:[(0,gt.jsx)("h1",{className:"admin-page-title",children:"S\u0103lile Mele"}),(0,gt.jsx)("div",{className:"halls-grid",children:e.length>0?e.map((e=>{var a,n;const r=this.getCoverImage(e),s=t[e.id]||{averageRating:0,totalReviews:0};return(0,gt.jsxs)("div",{className:`hall-card ${null===(a=e.status)||void 0===a?void 0:a.toLowerCase()}`,children:[(0,gt.jsxs)("div",{className:"hall-image-container",children:[(0,gt.jsx)("div",{className:`hall-status-indicator ${null===(n=e.status)||void 0===n?void 0:n.toLowerCase()}`,children:"ACTIVE"===e.status?"Activ":"Inactiv"}),r?(0,gt.jsx)("img",{src:r,alt:e.name,className:"hall-image"}):(0,gt.jsx)("div",{className:"hall-placeholder",children:(0,gt.jsx)("div",{className:"hall-initial",children:e.name.charAt(0)})})]}),(0,gt.jsxs)("div",{className:"hall-content",children:[(0,gt.jsx)("h3",{className:"hall-name",children:e.name}),(0,gt.jsxs)("p",{className:"hall-location",children:[e.city,", ",e.county]}),(0,gt.jsx)("p",{className:"hall-description",children:e.description||"F\u0103r\u0103 descriere"}),(0,gt.jsxs)("div",{className:"hall-rating",children:[this.renderRatingStars(s.averageRating),(0,gt.jsx)("span",{className:"rating-text",children:s.averageRating>0?`${s.averageRating} (${s.totalReviews} ${1===s.totalReviews?"recenzie":"recenzii"})`:"F\u0103r\u0103 recenzii"})]}),"INACTIVE"===e.status&&(0,gt.jsx)("div",{className:"hall-inactive-notice",children:(0,gt.jsx)("p",{children:"\u26a0\ufe0f Aceast\u0103 sal\u0103 a fost dezactivat\u0103 de administratorii aplica\u021biei"})}),(0,gt.jsx)("div",{className:"hall-actions",children:(0,gt.jsx)("button",{className:"hall-action-button edit",onClick:()=>this.handleEditClick(e.id),children:"Editare"})})]})]},e.id)})):(0,gt.jsx)("div",{className:"empty-state",children:(0,gt.jsx)("p",{children:'Nu ave\u021bi s\u0103li de sport ad\u0103ugate. Ad\u0103uga\u021bi prima sal\u0103 folosind butonul "Ad\u0103ugare".'})})})]})}}const Fr=Or,Mr=pt("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]),_r=["Alba","Arad","Arge\u0219","Bac\u0103u","Bihor","Bistri\u021ba-N\u0103s\u0103ud","Boto\u0219ani","Br\u0103ila","Bra\u0219ov","Bucure\u0219ti","Buz\u0103u","C\u0103l\u0103ra\u0219i","Cara\u0219-Severin","Cluj","Constan\u021ba","Covasna","D\xe2mbovi\u021ba","Dolj","Gala\u021bi","Giurgiu","Gorj","Harghita","Hunedoara","Ialomi\u021ba","Ia\u0219i","Ilfov","Maramure\u0219","Mehedin\u021bi","Mure\u0219","Neam\u021b","Olt","Prahova","S\u0103laj","Satu Mare","Sibiu","Suceava","Teleorman","Timi\u0219","Tulcea","V\xe2lcea","Vaslui","Vrancea"].sort(),$r=[{type:"cover",label:"Imagine Copert\u0103",description:"Selecteaz\u0103 imaginea principal\u0103 a s\u0103lii (max. 10MB)",max:1},{type:"exterior",label:"Imagine Exterior",description:"\xcencarc\u0103 o imagine cu fa\u021bada s\u0103lii (max. 10MB)",max:1},{type:"interior",label:"Imagini Interior",description:"Maxim 4 imagini din interiorul s\u0103lii (max. 10MB/imagine)",max:4},{type:"locker",label:"Imagini Vestiare",description:"Maxim 2 imagini cu vestiare (max. 10MB/imagine)",max:2}];class Br extends r.Component{constructor(e){super(e),this.handleInputChange=e=>{const{name:t,value:a}=e.target;this.setState((e=>({hallData:{...e.hallData,[t]:a}})))},this.handleFileChange=(e,t)=>{const a=Array.from(e.target.files);this.setState((e=>{const n=e.images[t].length,r=$r.find((e=>e.type===t)).max,s=a.slice(0,r-n);return{images:{...e.images,[t]:[...e.images[t],...s.map((e=>({file:e,preview:URL.createObjectURL(e),type:t})))]}}}))},this.removeImage=(e,t)=>{this.setState((a=>({images:{...a.images,[e]:a.images[e].filter(((e,a)=>a!==t))}})))},this.openImagePreview=e=>{this.setState({previewImage:e})},this.closeImagePreview=()=>{this.setState({previewImage:null})},this.isValidPhoneNumber=e=>/^(\+4|4|0)?(7[0-9]{8}|[23][0-9]{8})$/.test(e.replace(/[\s\-\(\)]/g,"")),this.prepareFormData=()=>{const{hallData:e,images:t}=this.state,a={...e,capacity:e.capacity?parseInt(e.capacity,10):0,tariff:e.tariff?parseFloat(e.tariff):0},n=new FormData;n.append("sportsHall",new Blob([JSON.stringify(a)],{type:"application/json"}));const r=[],s=[];return Object.entries(t).forEach((e=>{let[t,a]=e;a.forEach((e=>{r.push(e.file),s.push(t)}))})),r.forEach((e=>{n.append("images",e)})),s.forEach((e=>{n.append("imageTypes",e)})),n},this.validateForm=()=>{const{hallData:e,images:t}=this.state;return e.name&&e.county&&e.city&&e.address&&e.capacity&&e.type&&e.tariff&&e.phoneNumber?this.isValidPhoneNumber(e.phoneNumber)?0!==t.cover.length||(this.setState({submitError:"Trebuie s\u0103 ad\u0103uga\u021bi cel pu\u021bin o imagine de copert\u0103"}),!1):(this.setState({submitError:"Num\u0103rul de telefon nu este valid. Folosi\u021bi format rom\xe2nesc (ex: 0722123456, +40722123456)"}),!1):(this.setState({submitError:"Toate c\xe2mpurile marcate cu * sunt obligatorii"}),!1)},this.handleSubmit=async e=>{if(e.preventDefault(),this.validateForm()){this.setState({isSubmitting:!0,submitError:null,submitSuccess:!1});try{const{hallData:e,images:t}=this.state,a={...e,capacity:e.capacity?parseInt(e.capacity,10):0,tariff:e.tariff?parseFloat(e.tariff):0},n=new FormData;n.append("sportsHall",JSON.stringify(a));let r=0;Object.entries(t).forEach((e=>{let[t,a]=e;a.forEach((e=>{n.append(`images[${r}]`,e.file),n.append(`imageTypes[${r}]`,t),r++}))}));const s=localStorage.getItem("jwtToken");if(!s)return void this.setState({isSubmitting:!1,submitError:"Nu sunte\u021bi autentificat. Trebuie s\u0103 v\u0103 autentifica\u021bi ca administrator de s\u0103li pentru a ad\u0103uga o sal\u0103."});console.log("FormData entries:");for(let l of n.entries())console.log(l[0],l[1]);const i=await fetch(`${this.API_BASE_URL}/sportsHalls`,{method:"POST",body:n,headers:{Authorization:`Bearer ${s}`}});if(i.ok){const e=await i.json();console.log("Hall created successfully:",e),this.setState({isSubmitting:!1,submitSuccess:!0,hallData:{name:"",county:"",city:"",address:"",capacity:"",type:"",tariff:"",description:"",facilities:"",phoneNumber:""},images:{cover:[],exterior:[],interior:[],locker:[]}})}else{const e=await i.text();console.error("Error creating hall:",e),console.error("Response status:",i.status),this.setState({isSubmitting:!1,submitError:`Eroare (${i.status}): ${e||"A ap\u0103rut o eroare la salvarea s\u0103lii"}`})}}catch(t){console.error("Error creating hall:",t),this.setState({isSubmitting:!1,submitError:"Eroare de conexiune la server: "+t.message})}}},this.renderImageUploadSection=e=>{const{type:t,label:a,description:n,max:r}=e,s=this.state.images[t];return(0,gt.jsxs)("div",{className:"image-upload-section",children:[(0,gt.jsxs)("div",{className:"form-section-header",children:[(0,gt.jsxs)("h2",{children:[a," ","cover"===t&&"*"]}),(0,gt.jsxs)("p",{children:[n," (Maxim ",r,")"]})]}),(0,gt.jsx)("div",{className:"image-upload-container",children:s.length<r&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("input",{type:"file",id:`${t}Images`,accept:"image/*",multiple:r>1,onChange:e=>this.handleFileChange(e,t),className:"image-input"}),(0,gt.jsxs)("label",{htmlFor:`${t}Images`,className:"image-upload-label",children:[(0,gt.jsx)(Mr,{size:36}),(0,gt.jsx)("span",{children:"Adaug\u0103 Imagini"})]})]})}),s.length>0&&(0,gt.jsx)("div",{className:"image-preview-container",children:s.map(((e,n)=>(0,gt.jsxs)("div",{className:"image-preview-thumbnail",children:[(0,gt.jsx)("img",{src:e.preview,alt:`${a} Preview ${n+1}`,onClick:()=>this.openImagePreview(e.preview)}),(0,gt.jsx)("button",{type:"button",className:"remove-image-btn",onClick:()=>this.removeImage(t,n),children:(0,gt.jsx)(br,{size:12})})]},n)))})]},t)},this.API_BASE_URL="",this.state={hallData:{name:"",county:"",city:"",address:"",capacity:"",type:"",tariff:"",description:"",facilities:"",phoneNumber:""},images:{cover:[],exterior:[],interior:[],locker:[]},previewImage:null,isSubmitting:!1,submitError:null,submitSuccess:!1}}render(){const{hallData:e,previewImage:t,isSubmitting:a,submitError:n,submitSuccess:r}=this.state;return(0,gt.jsxs)("div",{className:"admin-page",children:[(0,gt.jsx)("h1",{className:"admin-page-title",children:"Adaug\u0103 o sal\u0103"}),r&&(0,gt.jsx)("div",{className:"success-message",children:"Sala a fost ad\u0103ugat\u0103 cu succes!"}),n&&(0,gt.jsx)("div",{className:"error-message",children:n}),(0,gt.jsxs)("form",{onSubmit:this.handleSubmit,className:"add-hall-form",children:[(0,gt.jsxs)("div",{className:"form-grid",children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"name",children:"Nume Sal\u0103 *"}),(0,gt.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:this.handleInputChange,placeholder:"Numele s\u0103lii",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"type",children:"Tip Sal\u0103 *"}),(0,gt.jsxs)("select",{id:"type",name:"type",value:e.type,onChange:this.handleInputChange,required:!0,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 tipul s\u0103lii"}),(0,gt.jsx)("option",{value:"fotbal",children:"Fotbal"}),(0,gt.jsx)("option",{value:"baschet",children:"Baschet"}),(0,gt.jsx)("option",{value:"volei",children:"Volei"}),(0,gt.jsx)("option",{value:"tenis",children:"Tenis"}),(0,gt.jsx)("option",{value:"multipla",children:"Sal\u0103 Multipl\u0103"})]})]}),(0,gt.jsxs)("div",{className:"location-row",children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"county",children:"Jude\u021b *"}),(0,gt.jsxs)("select",{id:"county",name:"county",value:e.county,onChange:this.handleInputChange,required:!0,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 Jude\u021b"}),_r.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"city",children:"Ora\u0219/Localitate *"}),(0,gt.jsx)("input",{type:"text",id:"city",name:"city",value:e.city,onChange:this.handleInputChange,placeholder:"Numele localit\u0103\u021bii",required:!0})]})]}),(0,gt.jsxs)("div",{className:"form-group full-width",children:[(0,gt.jsx)("label",{htmlFor:"address",children:"Adres\u0103 *"}),(0,gt.jsx)("input",{type:"text",id:"address",name:"address",value:e.address,onChange:this.handleInputChange,placeholder:"Adresa complet\u0103",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"phoneNumber",children:"Num\u0103r de telefon *"}),(0,gt.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:e.phoneNumber,onChange:this.handleInputChange,placeholder:"0722123456 sau +40722123456",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"capacity",children:"Capacitate spectatori *"}),(0,gt.jsx)("input",{type:"number",id:"capacity",name:"capacity",value:e.capacity,onChange:this.handleInputChange,placeholder:"Capacitate maxim\u0103 tribune",min:"1",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"tariff",children:"Tarif (Lei/1h 30min) *"}),(0,gt.jsx)("input",{type:"number",id:"tariff",name:"tariff",value:e.tariff,onChange:this.handleInputChange,placeholder:"Tarif pe o or\u0103 \u0219i jum\u0103tate",min:"0",step:"0.01",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group full-width",children:[(0,gt.jsx)("label",{htmlFor:"description",children:"Descriere"}),(0,gt.jsx)("textarea",{id:"description",name:"description",value:e.description,onChange:this.handleInputChange,placeholder:"Adaug\u0103 o descriere detaliat\u0103 a s\u0103lii",rows:"4"})]}),(0,gt.jsxs)("div",{className:"form-group full-width",children:[(0,gt.jsx)("label",{htmlFor:"facilities",children:"Facilit\u0103\u021bi"}),(0,gt.jsx)("textarea",{id:"facilities",name:"facilities",value:e.facilities,onChange:this.handleInputChange,placeholder:"Enumer\u0103 facilit\u0103\u021bile s\u0103lii",rows:"3"})]})]}),$r.map(this.renderImageUploadSection),(0,gt.jsx)("div",{className:"form-actions",children:(0,gt.jsx)("button",{type:"submit",className:"hall-action-button edit",disabled:a,children:a?"Se salveaz\u0103...":(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(sr,{size:20})," Adaug\u0103 Sal\u0103"]})})})]}),t&&(0,gt.jsx)("div",{className:"image-preview-modal",onClick:this.closeImagePreview,children:(0,gt.jsxs)("div",{className:"image-preview-modal-content",children:[(0,gt.jsx)("button",{className:"close-preview-btn",onClick:this.closeImagePreview,children:(0,gt.jsx)(br,{size:24})}),(0,gt.jsx)("img",{src:t,alt:"Preview"})]})})]})}}const Ur=Br,Hr=pt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);class Vr extends r.Component{constructor(e){super(e),this.generateTimeSlots=()=>{const e=[];for(let t=7;t<=24;t+=1.5){const a=t%1*60,n=`${Math.floor(t).toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;e.push(n)}return e},this.fetchSchedules=async()=>{try{this.setState({loading:!0,error:null});const e=localStorage.getItem("jwtToken");if(!e)throw new Error("Nu sunte\u021bi autentificat corect");const t=await fetch(`${this.API_BASE_URL}/schedules/hall/${this.props.selectedHallId}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Eroare la \xeenc\u0103rcarea programului: ${t.status}`);const a=await t.json();0===a.length?this.initializeDefaultSchedule():this.setState({schedules:a})}catch(e){this.setState({error:e.message})}finally{this.setState({loading:!1})}},this.initializeDefaultSchedule=()=>{const e=this.daysOfWeek.map((e=>({dayOfWeek:e.id,startTime:"07:00",endTime:"23:30",isActive:!0})));this.setState({schedules:e})},this.handleTimeChange=(e,t,a)=>{this.setState((n=>({schedules:n.schedules.map((n=>n.dayOfWeek===e?{...n,[t]:a}:n))})))},this.handleActiveToggle=e=>{this.setState((t=>({schedules:t.schedules.map((t=>t.dayOfWeek===e?{...t,isActive:!t.isActive}:t))})))},this.saveSchedules=async()=>{try{this.setState({saving:!0,error:null});const e=localStorage.getItem("jwtToken");if(!e)throw new Error("Nu sunte\u021bi autentificat corect");for(const n of this.state.schedules)if(n.isActive&&n.startTime>=n.endTime)throw new Error(`Ora de \xeenceput trebuie s\u0103 fie \xeenainte de ora de sf\xe2r\u0219it pentru ${this.getDayName(n.dayOfWeek)}`);const t=await fetch(`${this.API_BASE_URL}/schedules/hall/${this.props.selectedHallId}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(this.state.schedules)});if(!t.ok)throw new Error(`Eroare la salvarea programului: ${t.status}`);const a=await t.json();this.setState({schedules:a,successMessage:"Programul a fost salvat cu succes!"}),setTimeout((()=>{this.setState({successMessage:""})}),4e3)}catch(e){this.setState({error:e.message})}finally{this.setState({saving:!1})}},this.createDefaultSchedule=()=>{this.initializeDefaultSchedule(),this.setState({successMessage:"Program standard aplicat pentru toate zilele!"}),setTimeout((()=>{this.setState({successMessage:""})}),4e3)},this.getDayName=e=>{const t=this.daysOfWeek.find((t=>t.id===e));return t?t.name:"Unknown"},this.calculateSlots=(e,t)=>{if(!e||!t)return 0;const[a,n]=e.split(":").map(Number),[r,s]=t.split(":").map(Number),i=r+s/60-(a+n/60);return Math.floor(i/1.5)},this.API_BASE_URL="",this.state={schedules:[],loading:!1,saving:!1,error:null,successMessage:""},this.daysOfWeek=[{id:1,name:"Luni",short:"LUN"},{id:2,name:"Mar\u021bi",short:"MAR"},{id:3,name:"Miercuri",short:"MIE"},{id:4,name:"Joi",short:"JOI"},{id:5,name:"Vineri",short:"VIN"},{id:6,name:"S\xe2mb\u0103t\u0103",short:"S\xc2M"},{id:7,name:"Duminic\u0103",short:"DUM"}],this.timeSlots=this.generateTimeSlots()}componentDidMount(){this.props.selectedHallId&&this.fetchSchedules()}componentDidUpdate(e){e.selectedHallId!==this.props.selectedHallId&&this.props.selectedHallId&&this.fetchSchedules()}render(){const{loading:e,saving:t,error:a,successMessage:n,schedules:r}=this.state,{selectedHallId:s}=this.props;if(!s)return(0,gt.jsxs)("div",{className:"sm-empty-state",children:[(0,gt.jsx)("div",{className:"sm-empty-icon",children:(0,gt.jsx)(ft,{size:64})}),(0,gt.jsx)("h3",{children:"Selecta\u021bi o sal\u0103"}),(0,gt.jsx)("p",{children:"Pentru a configura programul, selecta\u021bi mai \xeent\xe2i o sal\u0103 de sport din dropdown-ul de sus."})]});const i=r.filter((e=>e.isActive)),l=i.reduce(((e,t)=>e+this.calculateSlots(t.startTime,t.endTime)),0);return(0,gt.jsxs)("div",{className:"sm-schedule-manager",children:[(0,gt.jsx)("div",{className:"sm-header",children:(0,gt.jsxs)("div",{className:"sm-header-content",children:[(0,gt.jsxs)("div",{className:"sm-title-section",children:[(0,gt.jsx)("div",{className:"sm-icon-wrapper",children:(0,gt.jsx)(ir,{size:24})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("h2",{children:"Program de Func\u021bionare"}),(0,gt.jsx)("p",{children:"Configura\u021bi orele disponibile pentru rezerv\u0103ri"})]})]}),(0,gt.jsxs)("div",{className:"sm-stats",children:[(0,gt.jsxs)("div",{className:"sm-stat-card",children:[(0,gt.jsx)("span",{className:"sm-stat-number",children:i.length}),(0,gt.jsx)("span",{className:"sm-stat-label",children:"Zile Active"})]}),(0,gt.jsxs)("div",{className:"sm-stat-card",children:[(0,gt.jsx)("span",{className:"sm-stat-number",children:l}),(0,gt.jsx)("span",{className:"sm-stat-label",children:"Sloturi/S\u0103pt\u0103m\xe2n\u0103"})]})]})]})}),n&&(0,gt.jsxs)("div",{className:"sm-notification sm-success",children:[(0,gt.jsx)(or,{size:20}),(0,gt.jsx)("span",{children:n})]}),a&&(0,gt.jsxs)("div",{className:"sm-notification sm-error",children:[(0,gt.jsx)(hr,{size:20}),(0,gt.jsx)("span",{children:a})]}),(0,gt.jsxs)("div",{className:"sm-controls",children:[(0,gt.jsxs)("button",{onClick:this.createDefaultSchedule,className:"sm-btn sm-btn-secondary",disabled:t,children:[(0,gt.jsx)(Hr,{size:18}),"Program Standard"]}),(0,gt.jsx)("button",{onClick:this.saveSchedules,disabled:t||e,className:"sm-btn sm-btn-primary",children:t?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"sm-spinner-small"}),"Se salveaz\u0103..."]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(pr,{size:18}),"Salveaz\u0103 Program"]})})]}),(0,gt.jsx)("div",{className:"sm-content",children:e?(0,gt.jsxs)("div",{className:"sm-loading",children:[(0,gt.jsx)("div",{className:"sm-spinner"}),(0,gt.jsx)("p",{children:"Se \xeencarc\u0103 programul..."})]}):(0,gt.jsx)("div",{className:"sm-days-container",children:this.daysOfWeek.map((e=>{const t=r.find((t=>t.dayOfWeek===e.id))||{dayOfWeek:e.id,startTime:"07:00",endTime:"22:00",isActive:!0},a=this.calculateSlots(t.startTime,t.endTime);return(0,gt.jsxs)("div",{className:"sm-day-card "+(t.isActive?"active":"inactive"),children:[(0,gt.jsxs)("div",{className:"sm-day-header",children:[(0,gt.jsxs)("div",{className:"sm-day-toggle",children:[(0,gt.jsx)("input",{type:"checkbox",id:`day-${e.id}`,checked:t.isActive,onChange:()=>this.handleActiveToggle(e.id),className:"sm-toggle"}),(0,gt.jsx)("label",{htmlFor:`day-${e.id}`,className:"sm-toggle-label",children:(0,gt.jsxs)("div",{className:"sm-day-info",children:[(0,gt.jsx)("span",{className:"sm-day-short",children:e.short}),(0,gt.jsx)("span",{className:"sm-day-name",children:e.name})]})})]}),t.isActive&&(0,gt.jsxs)("div",{className:"sm-slots-badge",children:[a," sloturi"]})]}),(0,gt.jsx)("div",{className:"sm-day-content",children:t.isActive?(0,gt.jsxs)("div",{className:"sm-time-selector",children:[(0,gt.jsxs)("div",{className:"sm-time-group",children:[(0,gt.jsx)("label",{children:"Deschidere"}),(0,gt.jsx)("select",{value:t.startTime,onChange:t=>this.handleTimeChange(e.id,"startTime",t.target.value),className:"sm-select",children:this.timeSlots.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))})]}),(0,gt.jsx)("div",{className:"sm-time-separator",children:"\u2192"}),(0,gt.jsxs)("div",{className:"sm-time-group",children:[(0,gt.jsx)("label",{children:"\xcenchidere"}),(0,gt.jsx)("select",{value:t.endTime,onChange:t=>this.handleTimeChange(e.id,"endTime",t.target.value),className:"sm-select",children:this.timeSlots.filter((e=>e>t.startTime)).map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))})]})]}):(0,gt.jsx)("div",{className:"sm-closed-state",children:(0,gt.jsx)("span",{children:"Sala este \xeenchis\u0103"})})})]},e.id)}))})}),(0,gt.jsx)("div",{className:"sm-footer",children:(0,gt.jsxs)("div",{className:"sm-info-card",children:[(0,gt.jsx)("div",{className:"sm-info-icon",children:(0,gt.jsx)(ir,{size:20})}),(0,gt.jsxs)("div",{className:"sm-info-content",children:[(0,gt.jsx)("h4",{children:"Despre intervalele de rezervare"}),(0,gt.jsxs)("p",{children:["Fiecare slot de rezervare dureaz\u0103 ",(0,gt.jsx)("strong",{children:"1.5 ore (90 minute)"}),". Sistemul va genera automat toate intervalele disponibile pe baza programului configurat."]})]})]})})]})}}const qr=Vr;class Wr extends r.Component{constructor(e){super(e),this.fetchHalls=async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return void this.setState({error:"Nu sunte\u021bi autentificat corect",initialLoading:!1,halls:[]});const a=await fetch(`${this.API_BASE_URL}/sportsHalls/admin/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`Eroare la \xeenc\u0103rcarea s\u0103lilor: ${a.status}`);const n=await a.json();console.log("Fetched halls:",n);const r=n.length>0?n[0].id:null;console.log("Auto-selected hall ID:",r),this.setState({halls:n,selectedHallId:r,initialLoading:!1})}catch(e){console.error("Error fetching halls:",e),this.setState({error:e.message,initialLoading:!1,halls:[]})}},this.handleHallChange=e=>{const t=parseInt(e.target.value);console.log("Selected hall ID:",t),this.setState({selectedHallId:t,errorMessage:"",successMessage:"",showMessage:!1})},this.handleTabChange=e=>{this.setState({activeTab:e,errorMessage:"",successMessage:"",showMessage:!1})},this.API_BASE_URL="",this.state={halls:[],selectedHallId:null,activeTab:"schedule",initialLoading:!0,error:null,successMessage:"",errorMessage:"",showMessage:!1}}async componentDidMount(){await this.fetchHalls()}render(){const{halls:e,selectedHallId:t,activeTab:a,initialLoading:n,error:r,successMessage:s,errorMessage:i,showMessage:l}=this.state;if(n)return(0,gt.jsx)("div",{className:"msp-loading-container",children:"Se \xeencarc\u0103 s\u0103lile..."});if(r&&0===e.length)return(0,gt.jsxs)("div",{className:"msp-error-container",children:["Eroare: ",r]});const o=e.find((e=>e.id===parseInt(t)));return(0,gt.jsxs)("div",{className:"msp-manage-schedule-page",children:[(0,gt.jsx)("h1",{className:"msp-page-title",children:"Gestionare S\u0103li de Sport"}),0===e.length?(0,gt.jsx)("div",{className:"msp-empty-state",children:(0,gt.jsx)("p",{children:'Nu ave\u021bi s\u0103li de sport ad\u0103ugate. Ad\u0103uga\u021bi prima sal\u0103 din sec\u021biunea "Adaug\u0103 Sal\u0103 Nou\u0103".'})}):(0,gt.jsxs)(gt.Fragment,{children:[l&&(s||i)&&(0,gt.jsx)("div",{className:"msp-notification-message "+(s?"msp-success":"msp-error"),children:s||i}),(0,gt.jsxs)("div",{className:"msp-schedule-controls",children:[(0,gt.jsxs)("div",{className:"msp-hall-selector",children:[(0,gt.jsx)("label",{htmlFor:"hall-select",children:"Selecta\u021bi sala:"}),(0,gt.jsx)("select",{id:"hall-select",value:t||"",onChange:this.handleHallChange,className:"msp-hall-select-input",children:e.map((e=>(0,gt.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),o&&(0,gt.jsxs)("div",{className:"msp-selected-hall-info",children:[(0,gt.jsx)("span",{className:"msp-selected-hall-name",children:o.name}),(0,gt.jsxs)("span",{className:"msp-selected-hall-location",children:[o.city,", ",o.county]})]})]}),(0,gt.jsx)("div",{className:"msp-tabs-container",children:(0,gt.jsxs)("div",{className:"msp-tabs",children:[(0,gt.jsxs)("button",{className:"msp-tab "+("schedule"===a?"msp-tab-active":""),onClick:()=>this.handleTabChange("schedule"),children:[(0,gt.jsx)(mr,{size:18}),"Program Sal\u0103"]}),(0,gt.jsxs)("button",{className:"msp-tab "+("reservations"===a?"msp-tab-active":""),onClick:()=>this.handleTabChange("reservations"),children:[(0,gt.jsx)(ft,{size:18}),"Rezerv\u0103ri & Mentenan\u021b\u0103"]})]})}),(0,gt.jsxs)("div",{className:"msp-tab-content",children:["schedule"===a&&(0,gt.jsx)(qr,{selectedHallId:t?parseInt(t):null}),"reservations"===a&&(0,gt.jsx)("div",{className:"msp-reservations-placeholder",children:(0,gt.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm border text-center",children:[(0,gt.jsx)(ft,{size:48,className:"text-gray-400 mx-auto mb-4"}),(0,gt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Managementul Rezerv\u0103rilor"}),(0,gt.jsx)("p",{className:"text-gray-600 mb-4",children:"Aici ve\u021bi putea vizualiza \u0219i gestiona rezerv\u0103rile, precum \u0219i s\u0103 programa\u021bi intervale de mentenan\u021b\u0103."}),(0,gt.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,gt.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,gt.jsx)(Zn,{size:16,className:"inline mr-1"}),'Pentru a vedea rezerv\u0103rile, mai \xeent\xe2i defini\u021bi programul s\u0103lii \xeen tab-ul "Program Sal\u0103".']})})]})})]})]})]})}}const Gr=Wr;class Jr extends r.Component{constructor(e){super(e),this.loadHalls=async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return void this.setState({error:"Nu sunte\u021bi autentificat corect"});const a=await fetch(`${this.API_BASE_URL}/sportsHalls/admin/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`Eroare la \xeenc\u0103rcarea s\u0103lilor: ${a.status}`);const n=await a.json();console.log("Fetched halls:",n),this.setState({halls:n})}catch(e){console.error("Eroare la \xeenc\u0103rcarea s\u0103lilor:",e),this.setState({error:"Eroare de conexiune la server"})}},this.loadReservations=async e=>{if(e){this.setState({loading:!0,error:null});try{const t=await fetch(`${this.API_BASE_URL}/reservations?hallId=${e}&type=reservation`);if(t.ok){const e=await t.json(),a=new Date,n=e.filter((e=>new Date(e.date)>=a&&"CONFIRMED"===e.status)).sort(((e,t)=>new Date(e.date)-new Date(t.date)));this.setState({reservations:n})}else this.setState({error:"Nu s-au putut \xeenc\u0103rca rezerv\u0103rile"})}catch(t){console.error("Eroare la \xeenc\u0103rcarea rezerv\u0103rilor:",t),this.setState({error:"Eroare de conexiune la server"})}finally{this.setState({loading:!1})}}else this.setState({reservations:[]})},this.handleHallChange=e=>{const t=e.target.value;this.setState({selectedHallId:t}),this.loadReservations(t)},this.formatDate=e=>new Date(e).toLocaleDateString("ro-RO",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.formatTimeSlot=e=>e.replace("-"," - "),this.getDaysUntilReservation=e=>{const t=new Date(e),a=new Date;a.setHours(0,0,0,0),t.setHours(0,0,0,0);const n=t-a,r=Math.ceil(n/864e5);return 0===r?"Ast\u0103zi":1===r?"M\xe2ine":`\xcen ${r} zile`},this.API_BASE_URL="",this.state={halls:[],selectedHallId:"",reservations:[],loading:!1,error:null}}componentDidMount(){this.loadHalls()}render(){const{halls:e,selectedHallId:t,reservations:a,loading:n,error:r}=this.state;return(0,gt.jsxs)("div",{className:"admin-page",children:[(0,gt.jsx)("h1",{className:"admin-page-title",children:"Vizualizare Rezerv\u0103ri"}),(0,gt.jsxs)("div",{className:"vrp-hall-selector-container",children:[(0,gt.jsx)("label",{htmlFor:"vrp-hall-select",className:"vrp-hall-selector-label",children:"Selecteaz\u0103 sala de sport:"}),(0,gt.jsxs)("select",{id:"vrp-hall-select",value:t,onChange:this.handleHallChange,className:"vrp-hall-selector",children:[(0,gt.jsx)("option",{value:"",children:"-- Selecteaz\u0103 o sal\u0103 --"}),e.map((e=>(0,gt.jsxs)("option",{value:e.id,children:[e.name," - ",e.city,", ",e.county]},e.id)))]})]}),r&&(0,gt.jsx)("div",{className:"vrp-error-message",children:r}),n&&(0,gt.jsxs)("div",{className:"vrp-loading-container",children:[(0,gt.jsx)("div",{className:"vrp-loading-spinner"}),(0,gt.jsx)("span",{children:"Se \xeencarc\u0103 rezerv\u0103rile..."})]}),!n&&t&&(0,gt.jsxs)("div",{className:"vrp-reservations-container",children:[(0,gt.jsx)("div",{className:"vrp-reservations-header",children:(0,gt.jsxs)("h2",{className:"vrp-reservations-title",children:["Rezerv\u0103ri viitoare",(0,gt.jsxs)("span",{className:"vrp-reservations-count",children:["(",a.length,")"]})]})}),0===a.length?(0,gt.jsxs)("div",{className:"vrp-empty-reservations",children:[(0,gt.jsx)("div",{className:"vrp-empty-icon",children:(0,gt.jsx)(ft,{size:48})}),(0,gt.jsx)("h3",{children:"Nu exist\u0103 rezerv\u0103ri viitoare"}),(0,gt.jsx)("p",{children:"Nu sunt programate rezerv\u0103ri pentru aceast\u0103 sal\u0103 \xeen perioada urm\u0103toare."})]}):(0,gt.jsx)("div",{className:"vrp-reservations-list",children:a.map(((e,t)=>(0,gt.jsxs)("div",{className:"vrp-reservation-item",children:[(0,gt.jsx)("div",{className:"vrp-reservation-number",children:t+1}),(0,gt.jsxs)("div",{className:"vrp-reservation-main-info",children:[(0,gt.jsxs)("div",{className:"vrp-reservation-date",children:[(0,gt.jsx)(ft,{size:16,className:"vrp-date-icon"}),this.formatDate(e.date)]}),(0,gt.jsxs)("div",{className:"vrp-reservation-time",children:[(0,gt.jsx)(ir,{size:16,className:"vrp-time-icon"}),this.formatTimeSlot(e.timeSlot)]})]}),(0,gt.jsxs)("div",{className:"vrp-reservation-details",children:[e.user&&(0,gt.jsxs)("div",{className:"vrp-reservation-user",children:[e.user.firstName," ",e.user.lastName]}),e.price&&(0,gt.jsxs)("div",{className:"vrp-reservation-price",children:[e.price," RON"]})]}),(0,gt.jsxs)("div",{className:"vrp-reservation-status",children:[(0,gt.jsxs)("span",{className:"vrp-status-badge vrp-confirmed",children:[(0,gt.jsx)(or,{size:14,className:"vrp-status-icon"}),"Confirmat\u0103"]}),(0,gt.jsx)("div",{className:"vrp-days-until",children:this.getDaysUntilReservation(e.date)})]})]},e.id)))})]}),!t&&!n&&(0,gt.jsxs)("div",{className:"vrp-no-hall-selected",children:[(0,gt.jsx)("div",{className:"vrp-no-hall-icon",children:(0,gt.jsx)(wt,{size:48})}),(0,gt.jsx)("h3",{children:"Selecteaz\u0103 o sal\u0103 de sport"}),(0,gt.jsx)("p",{children:"Pentru a vizualiza rezerv\u0103rile, te rog s\u0103 selectezi mai \xeent\xe2i o sal\u0103 din lista de mai sus."})]})]})}}const Qr=Jr;class Kr extends r.Component{constructor(e){super(e),this.fetchMyHalls=async()=>{try{const e=localStorage.getItem("userId");if(!e)return void this.setState({error:"Nu sunte\u021bi autentificat sau nu ave\u021bi permisiuni de administrator.",isLoading:!1});const t=await Bn.get(`${this.API_BASE_URL}/sportsHalls/admin/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwtToken")}`}});0===t.data.length?this.setState({myHalls:[],isLoading:!1,error:"Nu ave\u021bi s\u0103li de sport \xeenregistrate."}):this.setState({myHalls:t.data,isLoading:!1,selectedHall:t.data[0]},(()=>{this.fetchReviews(t.data[0].id)}))}catch(e){console.error("Eroare la ob\u021binerea s\u0103lilor:",e),this.setState({error:"A ap\u0103rut o eroare la \xeenc\u0103rcarea s\u0103lilor de sport.",isLoading:!1})}},this.fetchReviews=async e=>{this.setState({isLoading:!0});try{const t=await Bn.get(`${this.API_BASE_URL}/feedbacks?hallId=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwtToken")}`}});this.setState({reviews:t.data,isLoading:!1})}catch(t){console.error("Eroare la ob\u021binerea recenziilor:",t),this.setState({error:"A ap\u0103rut o eroare la \xeenc\u0103rcarea recenziilor.",isLoading:!1})}},this.handleHallChange=e=>{this.setState({selectedHall:e,reviews:[]},(()=>{this.fetchReviews(e.id)}))},this.handleFilterChange=e=>{this.setState({filter:e})},this.getFilteredReviews=()=>{const{reviews:e,filter:t}=this.state;switch(t){case"highest":return[...e].sort(((e,t)=>t.rating-e.rating));case"lowest":return[...e].sort(((e,t)=>e.rating-t.rating));case"recent":return[...e].sort(((e,t)=>new Date(t.date)-new Date(e.date)));default:return e}},this.renderStars=e=>{const t=[];for(let a=1;a<=5;a++)t.push((0,gt.jsx)(Jn,{size:18,fill:a<=e?"#FFD700":"none",color:a<=e?"#FFD700":"#d1d5db"},a));return t},this.formatDate=e=>new Date(e).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),this.API_BASE_URL="",this.state={isLoading:!0,error:null,myHalls:[],selectedHall:null,reviews:[],filter:"all"}}componentDidMount(){this.fetchMyHalls()}render(){const{isLoading:e,error:t,myHalls:a,selectedHall:n}=this.state,r=this.getFilteredReviews();return e&&0===a.length?(0,gt.jsxs)("div",{className:"admin-page",children:[(0,gt.jsx)("h1",{className:"admin-page-title",children:"Vizualizare Recenzii"}),(0,gt.jsx)("div",{className:"reviews-loading",children:"Se \xeencarc\u0103..."})]}):t&&0===a.length?(0,gt.jsxs)("div",{className:"admin-page",children:[(0,gt.jsx)("h1",{className:"admin-page-title",children:"Vizualizare Recenzii"}),(0,gt.jsx)("div",{className:"reviews-error",children:t})]}):(0,gt.jsxs)("div",{className:"admin-page",children:[(0,gt.jsx)("h1",{className:"admin-page-title",children:"Vizualizare Recenzii"}),(0,gt.jsxs)("div",{className:"hall-selector",children:[(0,gt.jsx)("label",{htmlFor:"hall-select",children:"Alege sala pentru vizualizarea recenziilor:"}),(0,gt.jsxs)("div",{className:"select-wrapper",children:[(0,gt.jsx)("select",{id:"hall-select",value:n?n.id:"",onChange:e=>{const t=e.target.value,n=a.find((e=>e.id.toString()===t));n&&this.handleHallChange(n)},children:a.map((e=>(0,gt.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,gt.jsx)(St,{size:18,className:"select-icon"})]})]}),(0,gt.jsx)("div",{className:"reviews-filters",children:(0,gt.jsxs)("div",{className:"filters-group",children:[(0,gt.jsx)("span",{children:"Filtreaz\u0103 recenziile: "}),(0,gt.jsxs)("div",{className:"filter-buttons",children:[(0,gt.jsx)("button",{className:"all"===this.state.filter?"active":"",onClick:()=>this.handleFilterChange("all"),children:"Toate"}),(0,gt.jsx)("button",{className:"highest"===this.state.filter?"active":"",onClick:()=>this.handleFilterChange("highest"),children:"Cele mai bune"}),(0,gt.jsx)("button",{className:"lowest"===this.state.filter?"active":"",onClick:()=>this.handleFilterChange("lowest"),children:"Cele mai slabe"}),(0,gt.jsx)("button",{className:"recent"===this.state.filter?"active":"",onClick:()=>this.handleFilterChange("recent"),children:"Recente"})]})]})}),e?(0,gt.jsx)("div",{className:"reviews-loading",children:"Se \xeencarc\u0103 recenziile..."}):t?(0,gt.jsx)("div",{className:"reviews-error",children:t}):0===r.length?(0,gt.jsx)("div",{className:"reviews-empty",children:(0,gt.jsx)("p",{children:"Nu exist\u0103 recenzii pentru aceast\u0103 sal\u0103 de sport."})}):(0,gt.jsx)("div",{className:"reviews-list",children:r.map((e=>(0,gt.jsxs)("div",{className:"review-card",children:[(0,gt.jsx)("div",{className:"review-header",children:(0,gt.jsxs)("div",{className:"review-user-info",children:[(0,gt.jsx)("div",{className:"user-avatar",children:e.user&&e.user.name?e.user.name.charAt(0).toUpperCase():"?"}),(0,gt.jsxs)("div",{className:"user-details",children:[(0,gt.jsx)("h3",{className:"user-name",children:e.user?e.user.name:"Utilizator necunoscut"}),(0,gt.jsxs)("div",{className:"review-meta",children:[(0,gt.jsx)("div",{className:"review-rating",children:this.renderStars(e.rating)}),(0,gt.jsx)("span",{className:"review-date",children:this.formatDate(e.date)})]})]})]})}),(0,gt.jsx)("div",{className:"review-content",children:(0,gt.jsx)("p",{children:e.comment})})]},e.id)))})]})}}const Yr=Kr;class Xr extends r.Component{render(){const{isLoggedIn:e,onLoginClick:t,onRegisterClick:a,onLogout:n}=this.props;return(0,gt.jsxs)("header",{className:"main-header",children:[(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsxs)("div",{className:"main-logo-container",children:[(0,gt.jsx)("div",{className:"main-logo",children:(0,gt.jsxs)("div",{className:"main-logo-inner",children:[(0,gt.jsx)("div",{className:"main-logo-face front"}),(0,gt.jsx)("div",{className:"main-logo-face back"}),(0,gt.jsx)("div",{className:"main-logo-face right"}),(0,gt.jsx)("div",{className:"main-logo-face left"}),(0,gt.jsx)("div",{className:"main-logo-face top"}),(0,gt.jsx)("div",{className:"main-logo-face bottom"})]})}),(0,gt.jsxs)("div",{className:"main-logo-text",children:["TrainOn",(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"}),(0,gt.jsx)("div",{className:"main-logo-flash"})]})]}),(0,gt.jsxs)("div",{className:"main-header-right",children:[e&&(0,gt.jsxs)("div",{className:"main-header-user",children:[(0,gt.jsx)("div",{className:"main-user-avatar",children:(0,gt.jsx)("div",{className:"main-user-initial",children:"A"})}),(0,gt.jsx)("div",{className:"main-user-info",children:(0,gt.jsx)("span",{className:"main-user-name",children:"Administrator sala"})})]}),(0,gt.jsx)("div",{className:"main-auth-buttons",children:e?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)(nt,{to:"/admin-profile",className:"main-auth-button profile-button",children:[(0,gt.jsx)(yt,{size:16,className:"button-icon"}),(0,gt.jsx)("span",{className:"button-text",children:"Profilul meu"})]}),(0,gt.jsxs)("button",{onClick:n,className:"main-auth-button",children:[(0,gt.jsx)("span",{className:"button-text",children:"Deconectare"}),(0,gt.jsx)(bt,{size:16,className:"button-icon"})]})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{onClick:t,className:"main-auth-button login-button",children:(0,gt.jsx)("span",{className:"button-text",children:"Intra in cont"})}),(0,gt.jsx)("button",{onClick:a,className:"main-auth-button register-button",children:(0,gt.jsx)("span",{className:"button-text",children:"Inregistrare"})})]})})]})]})}}const Zr=Xr;class es extends r.Component{constructor(e){super(e),this.setActiveSection=e=>{this.setState({activeSection:e})},this.handleLogout=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("authToken"),localStorage.removeItem("userId"),localStorage.removeItem("userType"),window.location.href="/"},this.state={activeSection:"my-halls"}}renderContent(){const{activeSection:e}=this.state;switch(e){case"my-halls":default:return(0,gt.jsx)(Fr,{});case"add-hall":return(0,gt.jsx)(Ur,{});case"manage-schedule":return(0,gt.jsx)(Gr,{});case"view-reservations":return(0,gt.jsx)(Qr,{});case"manage-reviews":return(0,gt.jsx)(Yr,{})}}render(){const{activeSection:e}=this.state;return(0,gt.jsxs)("div",{className:"admin-container",children:[(0,gt.jsx)(Zr,{isLoggedIn:!0,onLogout:this.handleLogout}),(0,gt.jsx)("nav",{className:"admin-nav",children:(0,gt.jsxs)("div",{className:"admin-buttons-container",children:[(0,gt.jsxs)("div",{className:"admin-button-card "+("my-halls"===e?"active":""),onClick:()=>this.setActiveSection("my-halls"),children:[(0,gt.jsx)("div",{className:"admin-button-icon my-halls-icon"}),(0,gt.jsx)("h3",{className:"admin-button-title",children:"S\u0103lile Mele"}),(0,gt.jsx)("p",{className:"admin-button-description",children:"Vezi \u0219i gestioneaz\u0103 s\u0103lile tale de sport"})]}),(0,gt.jsxs)("div",{className:"admin-button-card "+("add-hall"===e?"active":""),onClick:()=>this.setActiveSection("add-hall"),children:[(0,gt.jsx)("div",{className:"admin-button-icon add-icon"}),(0,gt.jsx)("h3",{className:"admin-button-title",children:"Adaug\u0103 Sal\u0103 Nou\u0103"}),(0,gt.jsx)("p",{className:"admin-button-description",children:"Adaug\u0103 o sal\u0103 de sport nou\u0103 \u0219i configureaz\u0103 detaliile"})]}),(0,gt.jsxs)("div",{className:"admin-button-card "+("manage-schedule"===e?"active":""),onClick:()=>this.setActiveSection("manage-schedule"),children:[(0,gt.jsx)("div",{className:"admin-button-icon schedule-icon"}),(0,gt.jsx)("h3",{className:"admin-button-title",children:"Gestionare Program"}),(0,gt.jsx)("p",{className:"admin-button-description",children:"Configureaz\u0103 orele disponibile \u0219i zilele de func\u021bionare"})]}),(0,gt.jsxs)("div",{className:"admin-button-card "+("view-reservations"===e?"active":""),onClick:()=>this.setActiveSection("view-reservations"),children:[(0,gt.jsx)("div",{className:"admin-button-icon reservations-icon"}),(0,gt.jsx)("h3",{className:"admin-button-title",children:"Vizualizare Rezerv\u0103ri"}),(0,gt.jsx)("p",{className:"admin-button-description",children:"Consult\u0103 toate rezerv\u0103rile \u0219i gestioneaz\u0103 cererile"})]}),(0,gt.jsxs)("div",{className:"admin-button-card "+("manage-reviews"===e?"active":""),onClick:()=>this.setActiveSection("manage-reviews"),children:[(0,gt.jsx)("div",{className:"admin-button-icon reviews-icon"}),(0,gt.jsx)("h3",{className:"admin-button-title",children:"Gestionare Recenzii"}),(0,gt.jsx)("p",{className:"admin-button-description",children:"Vizualizeaz\u0103 \u0219i r\u0103spunde la recenziile l\u0103sate de utilizatori"})]})]})}),(0,gt.jsx)("main",{className:"admin-content",children:this.renderContent()}),(0,gt.jsx)(Vn,{})]})}}const ts=es,as=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ns=pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),rs=pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ss=["Alba","Arad","Arge\u0219","Bac\u0103u","Bihor","Bistri\u021ba-N\u0103s\u0103ud","Boto\u0219ani","Br\u0103ila","Bra\u0219ov","Bucure\u0219ti","Buz\u0103u","C\u0103l\u0103ra\u0219i","Cara\u0219-Severin","Cluj","Constan\u021ba","Covasna","D\xe2mbovi\u021ba","Dolj","Gala\u021bi","Giurgiu","Gorj","Harghita","Hunedoara","Ialomi\u021ba","Ia\u0219i","Ilfov","Maramure\u0219","Mehedin\u021bi","Mure\u0219","Neam\u021b","Olt","Prahova","S\u0103laj","Satu Mare","Sibiu","Suceava","Teleorman","Timi\u0219","Tulcea","V\xe2lcea","Vaslui","Vrancea"].sort(),is=[{type:"cover",label:"Imagine Copert\u0103",description:"Imagine principal\u0103 a s\u0103lii (max. 10MB)",max:1},{type:"exterior",label:"Imagine Exterior",description:"Imagine cu fa\u021bada s\u0103lii (max. 10MB)",max:1},{type:"interior",label:"Imagini Interior",description:"Imagini din interiorul s\u0103lii (max. 10MB/imagine)",max:4},{type:"locker",label:"Imagini Vestiare",description:"Imagini cu vestiare (max. 10MB/imagine)",max:2}];class ls extends r.Component{constructor(e){var t;super(e),t=this,this.fetchHallData=async()=>{try{const{hallId:e}=this.state,t=localStorage.getItem("jwtToken");if(!t)return void this.setState({submitError:"Nu sunte\u021bi autentificat. V\u0103 rug\u0103m s\u0103 v\u0103 autentifica\u021bi pentru a edita sala.",isLoading:!1});const a=await fetch(`${this.API_BASE_URL}/sportsHalls/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`Eroare la \xeenc\u0103rcarea s\u0103lii: ${a.status}`);const n=await a.json();console.log("Hall data loaded:",n);const r={cover:[],exterior:[],interior:[],locker:[]};n.images&&n.images.length>0&&n.images.forEach((e=>{const t=e.description;r[t]&&r[t].push({id:e.id,url:`${this.API_BASE_URL}/images/${e.id}`,type:e.description})})),this.setState({hallData:{name:n.name||"",county:n.county||"",city:n.city||"",address:n.address||"",capacity:n.capacity||"",type:n.type||"",tariff:n.tariff||"",description:n.description||"",facilities:n.facilities||""},existingImages:r,isLoading:!1})}catch(e){console.error("Error fetching hall data:",e),this.setState({submitError:"Eroare la incarcarea datelor salii",isLoading:!1})}},this.handleInputChange=e=>{const{name:t,value:a}=e.target;this.setState((e=>({hallData:{...e.hallData,[t]:a}})))},this.handleFileChange=(e,t)=>{const a=Array.from(e.target.files);this.setState((e=>{const n=e.newImages[t].length+e.existingImages[t].length,r=is.find((e=>e.type===t)).max,s=a.slice(0,r-n);return{newImages:{...e.newImages,[t]:[...e.newImages[t],...s.map((e=>({file:e,preview:URL.createObjectURL(e),type:t})))]}}}))},this.removeExistingImage=(e,t)=>{this.setState((a=>{const n=a.existingImages[e][t];return{existingImages:{...a.existingImages,[e]:a.existingImages[e].filter(((e,a)=>a!==t))},imageIdsToDelete:[...a.imageIdsToDelete,n.id]}}))},this.removeNewImage=(e,t)=>{this.setState((a=>({newImages:{...a.newImages,[e]:a.newImages[e].filter(((e,a)=>a!==t))}})))},this.openImageViewer=function(e,a){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.setState({activeImageType:e,currentImageIndex:a,isImageViewerOpen:!0,viewingExistingImages:n})},this.closeImageViewer=()=>{this.setState({isImageViewerOpen:!1,activeImageType:null,currentImageIndex:0})},this.nextImage=()=>{const{activeImageType:e,currentImageIndex:t,viewingExistingImages:a}=this.state;t<(a?this.state.existingImages[e]:this.state.newImages[e]).length-1&&this.setState((e=>({currentImageIndex:e.currentImageIndex+1})))},this.prevImage=()=>{this.state.currentImageIndex>0&&this.setState((e=>({currentImageIndex:e.currentImageIndex-1})))},this.validateForm=()=>{const{hallData:e}=this.state,{existingImages:t,newImages:a}=this.state;return e.name&&e.county&&e.city&&e.address&&e.capacity&&e.type&&e.tariff?0!==t.cover.length||0!==a.cover.length||(this.setState({submitError:"Trebuie s\u0103 existe cel pu\u021bin o imagine de copert\u0103"}),!1):(this.setState({submitError:"Toate c\xe2mpurile marcate cu * sunt obligatorii"}),!1)},this.prepareFormData=()=>{const{hallData:e,newImages:t,imageIdsToDelete:a,hallId:n}=this.state,r={...e,id:n,capacity:e.capacity?parseInt(e.capacity,10):0,tariff:e.tariff?parseFloat(e.tariff):0},s=new FormData;s.append("sportsHall",JSON.stringify(r)),a&&a.length>0&&s.append("deleteImageIds",JSON.stringify(a));let i=!1;if(Object.values(t).forEach((e=>{e.length>0&&(i=!0)})),i){let e=0;Object.entries(t).forEach((t=>{let[a,n]=t;n.forEach((t=>{s.append(`newImages[${e}]`,t.file),s.append(`newImageTypes[${e}]`,a),e++}))}))}return s},this.handleSubmit=async e=>{if(e.preventDefault(),this.validateForm()){this.setState({isSubmitting:!0,submitError:null,submitSuccess:!1});try{const e=this.prepareFormData(),t=localStorage.getItem("jwtToken"),{hallId:a}=this.state;if(!t)return void this.setState({isSubmitting:!1,submitError:"Nu sunte\u021bi autentificat"});console.log("FormData entries:");for(let r of e.entries())console.log(r[0],r[1]);const n=await fetch(`${this.API_BASE_URL}/sportsHalls/${a}`,{method:"PUT",body:e,headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();console.log("Hall updated successfully:",e);const t={cover:[],exterior:[],interior:[],locker:[]};e.images&&e.images.length>0&&e.images.forEach((e=>{const a=e.description;t[a]&&t[a].push({id:e.id,url:`${this.API_BASE_URL}/images/${e.id}`,type:e.description})})),this.setState({hallData:{name:e.name||"",county:e.county||"",city:e.city||"",address:e.address||"",capacity:e.capacity||"",type:e.type||"",tariff:e.tariff||"",description:e.description||"",facilities:e.facilities||""},existingImages:t,imageIdsToDelete:[],newImages:{cover:[],exterior:[],interior:[],locker:[]},isSubmitting:!1,submitSuccess:!0})}else{const e=await n.text();console.error("Error updating hall:",e),console.error("Response status:",n.status),this.setState({isSubmitting:!1,submitError:`Eroare (${n.status}): ${e||"A ap\u0103rut o eroare la actualizarea s\u0103lii"}`})}}catch(t){console.error("Error updating hall:",t),this.setState({isSubmitting:!1,submitError:"Eroare de conexiune la server: "+t.message})}}},this.handleCancel=()=>{this.props.navigate("/hall-admin-dashboard")},this.renderImageSection=()=>{const{existingImages:e,newImages:t}=this.state;return(0,gt.jsxs)("div",{className:"edit-hall-images-section",children:[(0,gt.jsx)("h2",{className:"section-title",children:"Imagini"}),(0,gt.jsx)("div",{className:"image-categories",children:is.map((a=>(0,gt.jsxs)("div",{className:"image-category",children:[(0,gt.jsxs)("h3",{children:[a.label," ","cover"===a.type&&"*"]}),(0,gt.jsxs)("p",{className:"image-description",children:[a.description," (Maxim ",a.max,")"]}),(0,gt.jsxs)("div",{className:"images-container",children:[e[a.type].map(((e,t)=>(0,gt.jsx)("div",{className:"image-item",children:(0,gt.jsxs)("div",{className:"image-preview",children:[(0,gt.jsx)("img",{src:e.url,alt:`${a.label} ${t+1}`,onClick:()=>this.openImageViewer(a.type,t,!0)}),(0,gt.jsx)("button",{type:"button",className:"delete-image-btn",onClick:()=>this.removeExistingImage(a.type,t),children:(0,gt.jsx)(as,{size:16})})]})},`existing-${t}`))),t[a.type].map(((e,t)=>(0,gt.jsx)("div",{className:"image-item",children:(0,gt.jsxs)("div",{className:"image-preview",children:[(0,gt.jsx)("img",{src:e.preview,alt:`${a.label} nou ${t+1}`,onClick:()=>this.openImageViewer(a.type,t,!1)}),(0,gt.jsx)("button",{type:"button",className:"delete-image-btn",onClick:()=>this.removeNewImage(a.type,t),children:(0,gt.jsx)(as,{size:16})})]})},`new-${t}`))),e[a.type].length+t[a.type].length<a.max&&(0,gt.jsx)("div",{className:"add-image-container",children:(0,gt.jsxs)("label",{htmlFor:`add-${a.type}`,className:"add-image-label",children:[(0,gt.jsx)(Mr,{size:24}),(0,gt.jsx)("span",{children:"Adaug\u0103"}),(0,gt.jsx)("input",{type:"file",id:`add-${a.type}`,accept:"image/*",onChange:e=>this.handleFileChange(e,a.type),className:"hidden-input"})]})})]})]},a.type)))})]})},this.renderImageViewer=()=>{const{isImageViewerOpen:e,activeImageType:t,currentImageIndex:a,viewingExistingImages:n}=this.state;if(!e||!t)return null;const r=n?this.state.existingImages[t]:this.state.newImages[t];if(0===r.length||a>=r.length)return null;const s=r[a],i=is.find((e=>e.type===t));return(0,gt.jsx)("div",{className:"image-viewer-overlay",onClick:this.closeImageViewer,children:(0,gt.jsxs)("div",{className:"image-viewer-container",onClick:e=>e.stopPropagation(),children:[(0,gt.jsxs)("div",{className:"image-viewer-header",children:[(0,gt.jsx)("h3",{children:i.label}),(0,gt.jsx)("button",{className:"close-viewer-btn",onClick:this.closeImageViewer,children:(0,gt.jsx)(br,{size:24})})]}),(0,gt.jsxs)("div",{className:"image-viewer-content",children:[(0,gt.jsx)("button",{className:"nav-btn prev "+(0===a?"disabled":""),onClick:this.prevImage,disabled:0===a,children:(0,gt.jsx)(ns,{size:24})}),(0,gt.jsx)("div",{className:"main-image-container",children:(0,gt.jsx)("img",{src:n?s.url:s.preview,alt:`${i.label} ${a+1}`,className:"main-image"})}),(0,gt.jsx)("button",{className:"nav-btn next "+(a===r.length-1?"disabled":""),onClick:this.nextImage,disabled:a===r.length-1,children:(0,gt.jsx)(rs,{size:24})})]}),(0,gt.jsxs)("div",{className:"image-counter",children:[a+1," / ",r.length]})]})})},this.API_BASE_URL="",this.state={hallId:e.params.id,hallData:{name:"",county:"",city:"",address:"",capacity:"",type:"",tariff:"",description:"",facilities:""},existingImages:{cover:[],exterior:[],interior:[],locker:[]},newImages:{cover:[],exterior:[],interior:[],locker:[]},imageIdsToDelete:[],activeImageType:null,currentImageIndex:0,isImageViewerOpen:!1,isLoading:!0,isSubmitting:!1,submitError:null,submitSuccess:!1}}async componentDidMount(){await this.fetchHallData()}render(){const{hallData:e,isLoading:t,isSubmitting:a,submitError:n,submitSuccess:r}=this.state;return t?(0,gt.jsx)("div",{className:"loading-container",children:"Se \xeencarc\u0103 datele s\u0103lii..."}):(0,gt.jsxs)("div",{className:"edit-hall-page",children:[(0,gt.jsxs)("div",{className:"edit-hall-header",children:[(0,gt.jsxs)("h1",{children:["Editare Sal\u0103: ",e.name]}),(0,gt.jsx)("button",{className:"back-button",onClick:this.handleCancel,children:"\xcenapoi la S\u0103lile Mele"})]}),r&&(0,gt.jsx)("div",{className:"success-message",children:"Sala a fost actualizat\u0103 cu succes!"}),n&&(0,gt.jsx)("div",{className:"error-message",children:n}),(0,gt.jsxs)("form",{onSubmit:this.handleSubmit,className:"edit-hall-form",children:[this.renderImageSection(),(0,gt.jsxs)("div",{className:"hall-info-section",children:[(0,gt.jsx)("h2",{className:"section-title",children:"Informa\u021bii despre sal\u0103"}),(0,gt.jsxs)("div",{className:"form-grid",children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"name",children:"Nume Sal\u0103 *"}),(0,gt.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:this.handleInputChange,placeholder:"Numele s\u0103lii",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"type",children:"Tip Sal\u0103 *"}),(0,gt.jsxs)("select",{id:"type",name:"type",value:e.type,onChange:this.handleInputChange,required:!0,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 tipul s\u0103lii"}),(0,gt.jsx)("option",{value:"fotbal",children:"Fotbal"}),(0,gt.jsx)("option",{value:"baschet",children:"Baschet"}),(0,gt.jsx)("option",{value:"volei",children:"Volei"}),(0,gt.jsx)("option",{value:"tenis",children:"Tenis"}),(0,gt.jsx)("option",{value:"multipla",children:"Sal\u0103 Multipl\u0103"})]})]}),(0,gt.jsxs)("div",{className:"location-row",children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"county",children:"Jude\u021b *"}),(0,gt.jsxs)("select",{id:"county",name:"county",value:e.county,onChange:this.handleInputChange,required:!0,children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 Jude\u021b"}),ss.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"city",children:"Ora\u0219/Localitate *"}),(0,gt.jsx)("input",{type:"text",id:"city",name:"city",value:e.city,onChange:this.handleInputChange,placeholder:"Numele localit\u0103\u021bii",required:!0})]})]}),(0,gt.jsxs)("div",{className:"form-group full-width",children:[(0,gt.jsx)("label",{htmlFor:"address",children:"Adres\u0103 *"}),(0,gt.jsx)("input",{type:"text",id:"address",name:"address",value:e.address,onChange:this.handleInputChange,placeholder:"Adresa complet\u0103",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"capacity",children:"Capacitate spectatori *"}),(0,gt.jsx)("input",{type:"number",id:"capacity",name:"capacity",value:e.capacity,onChange:this.handleInputChange,placeholder:"Capacitate maxim\u0103 tribune",min:"1",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"tariff",children:"Tarif (Lei/1h 30min) *"}),(0,gt.jsx)("input",{type:"number",id:"tariff",name:"tariff",value:e.tariff,onChange:this.handleInputChange,placeholder:"Tarif pe o or\u0103 \u0219i jum\u0103tate",min:"0",step:"0.01",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group full-width",children:[(0,gt.jsx)("label",{htmlFor:"description",children:"Descriere"}),(0,gt.jsx)("textarea",{id:"description",name:"description",value:e.description,onChange:this.handleInputChange,placeholder:"Adaug\u0103 o descriere detaliat\u0103 a s\u0103lii",rows:"4"})]}),(0,gt.jsxs)("div",{className:"form-group full-width",children:[(0,gt.jsx)("label",{htmlFor:"facilities",children:"Facilit\u0103\u021bi"}),(0,gt.jsx)("textarea",{id:"facilities",name:"facilities",value:e.facilities,onChange:this.handleInputChange,placeholder:"Enumer\u0103 facilit\u0103\u021bile s\u0103lii",rows:"3"})]})]})]}),(0,gt.jsxs)("div",{className:"form-actions",children:[(0,gt.jsx)("button",{type:"button",className:"cancel-button",onClick:this.handleCancel,children:"Anuleaz\u0103"}),(0,gt.jsx)("button",{type:"submit",className:"save-button",disabled:a,children:a?"Se salveaz\u0103...":"Salveaz\u0103 Modific\u0103rile"})]})]}),this.renderImageViewer()]})}}const os=(cs=ls,function(e){let t=ae(),a=te();return(0,gt.jsx)(cs,{...e,params:t,navigate:a})});var cs;const us=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",county:"",city:"",birthDate:""}),[h,p]=(0,r.useState)({...d}),f=async()=>{try{n(!0),o(null);const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");const a=await fetch(`/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw 401===a.status?new Error("Sesiunea a expirat. Te rug\u0103m s\u0103 te autentifici din nou."):403===a.status?new Error("Nu ai permisiunea s\u0103 accesezi aceste date."):new Error("Nu s-au putut \xeenc\u0103rca datele administratorului");const r=await a.json(),s=r.name?r.name.split(" "):["",""],i=s[0]||"",l=s.slice(1).join(" ")||"",c=r.birthDate?new Date(r.birthDate).toISOString().split("T")[0]:"",u={firstName:i,lastName:l,email:r.email||"",phone:r.phone||"",address:r.address||"",county:r.county||"",city:r.city||"",birthDate:c};m(u),p(u),n(!1)}catch(e){console.error("Eroare la \xeenc\u0103rcarea datelor administratorului:",e),o(e.message),n(!1)}};(0,r.useEffect)((()=>{f()}),[]);const g=(e,t)=>{p((a=>({...a,[e]:t})))};return a?(0,gt.jsxs)("div",{className:"app-admin-profile-section",children:[(0,gt.jsx)("div",{className:"app-admin-section-header",children:(0,gt.jsx)("h2",{children:"Date personale"})}),(0,gt.jsx)("p",{style:{color:"white",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:"Se \xeencarc\u0103 datele..."})]}):l&&!e?(0,gt.jsxs)("div",{className:"app-admin-profile-section",children:[(0,gt.jsx)("div",{className:"app-admin-section-header",children:(0,gt.jsx)("h2",{children:"Date personale"})}),(0,gt.jsxs)("p",{style:{color:"#dc2626",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:["Eroare: ",l]}),(0,gt.jsx)("button",{onClick:f,className:"app-admin-edit-button",style:{margin:"0 auto",display:"block"},children:"\xcencearc\u0103 din nou"})]}):(0,gt.jsxs)("div",{className:"app-admin-profile-section",children:[(0,gt.jsxs)("div",{className:"app-admin-section-header",children:[(0,gt.jsx)("h2",{children:"Date personale"}),e?(0,gt.jsxs)("div",{className:"app-admin-edit-actions",children:[(0,gt.jsxs)("button",{onClick:async()=>{try{await(async e=>{try{i(!0),o(null),u("");const t=localStorage.getItem("userId"),a=localStorage.getItem("jwtToken");if(!t||!a)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");const n=`${e.firstName} ${e.lastName}`.trim(),r=e.birthDate?new Date(e.birthDate):null,s={name:n,email:e.email,address:e.address,county:e.county,city:e.city,birthDate:r},l=await fetch(`/users/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw 401===l.status?new Error("Sesiunea a expirat. Te rug\u0103m s\u0103 te autentifici din nou."):403===l.status?new Error("Nu ai permisiunea s\u0103 modifici aceste date."):new Error("Nu s-au putut salva modific\u0103rile");const c=await l.json();return u("Datele au fost salvate cu succes!"),i(!1),setTimeout((()=>{u("")}),3e3),c}catch(t){throw console.error("Eroare la salvarea datelor:",t),i(!1),t}})(h),m({...h}),t(!1)}catch(e){o("Nu s-au putut salva modific\u0103rile: "+e.message)}},className:"app-admin-save-button",disabled:s,children:[(0,gt.jsx)(pr,{size:16}),s?"Se salveaz\u0103...":"Salveaz\u0103"]}),(0,gt.jsxs)("button",{onClick:()=>{p({...d}),t(!1),o(null),u("")},className:"app-admin-cancel-button",disabled:s,children:[(0,gt.jsx)(br,{size:16}),"Anuleaz\u0103"]})]}):(0,gt.jsxs)("button",{onClick:()=>{p({...d}),t(!0),o(null),u("")},className:"app-admin-edit-button",children:[(0,gt.jsx)(yr,{size:16}),"Editeaz\u0103"]})]}),c&&(0,gt.jsx)("div",{style:{color:"#10b981",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:c}),l&&e&&(0,gt.jsx)("div",{style:{color:"#dc2626",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:l}),(0,gt.jsxs)("div",{className:"app-admin-personal-data-grid",children:[(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Prenume"}),e?(0,gt.jsx)("input",{type:"text",value:h.firstName,onChange:e=>g("firstName",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu prenumele"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.firstName||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Nume"}),e?(0,gt.jsx)("input",{type:"text",value:h.lastName,onChange:e=>g("lastName",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu numele"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.lastName||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Email"}),e?(0,gt.jsx)("input",{type:"email",value:h.email,onChange:e=>g("email",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu adresa de email"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.email||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Telefon"}),e?(0,gt.jsx)("input",{type:"tel",value:h.phone,onChange:e=>g("phone",e.target.value),className:"app-admin-edit-input",placeholder:"Adaug\u0103 num\u0103rul de telefon"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.phone||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Adres\u0103"}),e?(0,gt.jsx)("input",{type:"text",value:h.address,onChange:e=>g("address",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu adresa"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.address||"Nu este specificat\u0103"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Jude\u021b"}),e?(0,gt.jsx)("input",{type:"text",value:h.county,onChange:e=>g("county",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu jude\u021bul"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.county||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Ora\u0219"}),e?(0,gt.jsxs)("select",{value:h.city,onChange:e=>g("city",e.target.value),className:"app-admin-edit-input",children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 ora\u0219ul"}),["Alba Iulia","Arad","Arge\u0219","Bac\u0103u","Bihor","Bistri\u021ba-N\u0103s\u0103ud","Boto\u0219ani","Br\u0103ila","Bra\u0219ov","Bucure\u0219ti","Buz\u0103u","C\u0103l\u0103ra\u0219i","Cara\u0219-Severin","Cluj-Napoca","Constan\u021ba","Covasna","D\xe2mbovi\u021ba","Dolj","Gala\u021bi","Giurgiu","Gorj","Harghita","Hunedoara","Ialomi\u021ba","Ia\u0219i","Ilfov","Maramure\u0219","Mehedin\u021bi","Mure\u0219","Neam\u021b","Olt","Prahova","S\u0103laj","Satu Mare","Sibiu","Suceava","Teleorman","Timi\u0219oara","Tulcea","V\xe2lcea","Vaslui","Vrancea"].map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.city||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Data na\u0219terii"}),e?(0,gt.jsx)("input",{type:"date",value:h.birthDate,onChange:e=>g("birthDate",e.target.value),className:"app-admin-edit-input"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.birthDate?new Date(d.birthDate).toLocaleDateString("ro-RO"):"Nu este specificat\u0103"})]})]})]})},ds=e=>{let{userId:t}=e;const[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[l,o]=(0,r.useState)({}),[c,u]=(0,r.useState)(!1),d=(e,t)=>{i((a=>({...a,[e]:t}))),l[e]&&o((t=>({...t,[e]:""})))};return(0,gt.jsxs)("div",{className:"admin-profile-section",children:[(0,gt.jsx)("div",{className:"admin-section-header",children:(0,gt.jsx)("h2",{children:"Securitate"})}),(0,gt.jsxs)("div",{className:"admin-security-section",children:[(0,gt.jsxs)("div",{className:"admin-security-item",children:[(0,gt.jsxs)("div",{className:"admin-security-info",children:[(0,gt.jsx)("h3",{children:"Schimb\u0103 parola"}),(0,gt.jsx)("p",{children:"Actualizeaz\u0103-\u021bi parola pentru a men\u021bine contul de administrator securizat"})]}),a?(0,gt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",maxWidth:"400px",padding:"1.5rem",background:"rgba(0, 0, 0, 0.05)",backdropFilter:"blur(3px)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[l.general&&(0,gt.jsx)("div",{style:{color:"#ef4444",fontSize:"0.9rem",marginBottom:"1rem",padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"4px",border:"1px solid rgba(239, 68, 68, 0.3)",textAlign:"center",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:l.general}),(0,gt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,gt.jsx)("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.95)",textShadow:"0 2px 6px rgba(0, 0, 0, 0.6)"},children:"Parola curent\u0103"}),(0,gt.jsx)("input",{type:"password",className:"admin-edit-input",value:s.currentPassword,onChange:e=>d("currentPassword",e.target.value),placeholder:"Introdu parola curent\u0103",disabled:c}),l.currentPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem",display:"block",marginTop:"0.25rem",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:l.currentPassword})]}),(0,gt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,gt.jsx)("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.95)",textShadow:"0 2px 6px rgba(0, 0, 0, 0.6)"},children:"Parola nou\u0103"}),(0,gt.jsx)("input",{type:"password",className:"admin-edit-input",value:s.newPassword,onChange:e=>d("newPassword",e.target.value),placeholder:"Introdu parola nou\u0103 (min. 6 caractere)",disabled:c}),l.newPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem",display:"block",marginTop:"0.25rem",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:l.newPassword})]}),(0,gt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,gt.jsx)("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.95)",textShadow:"0 2px 6px rgba(0, 0, 0, 0.6)"},children:"Confirm\u0103 parola nou\u0103"}),(0,gt.jsx)("input",{type:"password",className:"admin-edit-input",value:s.confirmPassword,onChange:e=>d("confirmPassword",e.target.value),placeholder:"Confirm\u0103 parola nou\u0103",disabled:c}),l.confirmPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem",display:"block",marginTop:"0.25rem",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:l.confirmPassword})]}),(0,gt.jsxs)("div",{className:"admin-edit-actions",style:{marginTop:"1rem"},children:[(0,gt.jsx)("button",{className:"admin-save-button",onClick:async()=>{if((()=>{const e={};return s.currentPassword||(e.currentPassword="Parola curent\u0103 este obligatorie"),s.newPassword?s.newPassword.length<6&&(e.newPassword="Parola nou\u0103 trebuie s\u0103 aib\u0103 cel pu\u021bin 6 caractere"):e.newPassword="Parola nou\u0103 este obligatorie",s.confirmPassword?s.newPassword!==s.confirmPassword&&(e.confirmPassword="Parolele nu se potrivesc"):e.confirmPassword="Confirmarea parolei este obligatorie",s.currentPassword===s.newPassword&&(e.newPassword="Parola nou\u0103 trebuie s\u0103 fie diferit\u0103 de cea curent\u0103"),o(e),0===Object.keys(e).length})()){u(!0);try{const e=localStorage.getItem("authToken"),a=await fetch(`/users/${t}/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({currentPassword:s.currentPassword,newPassword:s.newPassword})}),r=await a.json();a.ok?(alert("Parola a fost schimbat\u0103 cu succes!"),n(!1),i({currentPassword:"",newPassword:"",confirmPassword:""}),o({})):r.message?r.message.includes("incorect\u0103")?o({currentPassword:r.message}):o({general:r.message}):o({general:"A ap\u0103rut o eroare la schimbarea parolei"})}catch(e){console.error("Error changing password:",e),o({general:"A ap\u0103rut o eroare de conectare"})}finally{u(!1)}}},disabled:c,style:c?{opacity:.6,cursor:"not-allowed"}:{},children:c?"Se salveaz\u0103...":"Salveaz\u0103 parola"}),(0,gt.jsx)("button",{className:"admin-cancel-button",onClick:()=>{n(!1),i({currentPassword:"",newPassword:"",confirmPassword:""}),o({})},disabled:c,style:c?{opacity:.6,cursor:"not-allowed"}:{},children:"Anuleaz\u0103"})]})]}):(0,gt.jsx)("button",{className:"admin-security-button",onClick:()=>{console.log("Butonul Schimb\u0103 parola a fost ap\u0103sat!"),console.log("Starea anterioar\u0103 isChangingPassword:",a),n(!0),i({currentPassword:"",newPassword:"",confirmPassword:""}),o({}),console.log("Starea setat\u0103 la isChangingPassword: true")},children:"Schimb\u0103 parola"})]}),(0,gt.jsxs)("div",{className:"admin-security-item",children:[(0,gt.jsxs)("div",{className:"admin-security-info",children:[(0,gt.jsx)("h3",{children:"Autentificare \xeen dou\u0103 pa\u0219i"}),(0,gt.jsx)("p",{children:"Adaug\u0103 un nivel suplimentar de securitate la contul t\u0103u de administrator"})]}),(0,gt.jsx)("button",{className:"admin-security-button",onClick:()=>{console.log("Configureaz\u0103 autentificarea \xeen dou\u0103 pa\u0219i pentru administrator")},children:"Configureaz\u0103"})]}),(0,gt.jsxs)("div",{className:"admin-security-item danger",children:[(0,gt.jsxs)("div",{className:"admin-security-info",children:[(0,gt.jsx)("h3",{children:"\u0218terge contul de administrator"}),(0,gt.jsx)("p",{children:"\u0218terge permanent contul \u0219i toate datele asociate, inclusiv s\u0103lile administrate"})]}),(0,gt.jsx)("button",{className:"admin-security-button danger",onClick:()=>{window.confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi permanent contul de administrator? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103 \u0219i va afecta toate s\u0103lile administrate.")&&console.log("\u0218terge contul de administrator")},children:"\u0218terge contul"})]})]})]})},ms=()=>{const[e,t]=(0,r.useState)("personal"),[a,n]=(0,r.useState)("true"===localStorage.getItem("isLoggedIn")),[s,i]=(0,r.useState)({firstName:"",lastName:"",email:""});(0,r.useEffect)((()=>{a&&(async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return;const a=await fetch(`/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(a.ok){const e=await a.json(),t=e.name?e.name.split(" "):["",""],n=t[0]||"",r=t.slice(1).join(" ")||"";i({firstName:n,lastName:r,email:e.email||""})}}catch(e){console.error("Eroare la \xeenc\u0103rcarea informa\u021biilor de baz\u0103 ale administratorului:",e)}})()}),[a]);return(0,gt.jsxs)("div",{className:"admin-profile-page",children:[(0,gt.jsx)(Zr,{isLoggedIn:a,onLogout:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userType"),localStorage.removeItem("userId"),localStorage.removeItem("jwtToken"),n(!1),window.location.href="/"}}),(0,gt.jsxs)("div",{className:"admin-profile-container",children:[(0,gt.jsxs)("nav",{className:"admin-profile-sidebar",children:[(0,gt.jsxs)("div",{className:"admin-profile-user-info",children:[(0,gt.jsx)("div",{className:"admin-profile-avatar",children:(0,gt.jsx)(yt,{size:32})}),(0,gt.jsxs)("h3",{children:[s.firstName," ",s.lastName]}),(0,gt.jsx)("p",{children:s.email}),(0,gt.jsx)("span",{className:"admin-profile-role",children:"Administrator Sal\u0103"})]}),(0,gt.jsxs)("div",{className:"admin-profile-nav",children:[(0,gt.jsxs)("button",{className:"admin-profile-nav-item "+("personal"===e?"active":""),onClick:()=>t("personal"),children:[(0,gt.jsx)(yt,{size:20}),"Date personale"]}),(0,gt.jsxs)("button",{className:"admin-profile-nav-item "+("security"===e?"active":""),onClick:()=>t("security"),children:[(0,gt.jsx)(xr,{size:20}),"Securitate"]})]})]}),(0,gt.jsx)("main",{className:"admin-profile-content",children:(()=>{switch(e){case"personal":default:return(0,gt.jsx)(us,{});case"security":return(0,gt.jsx)(ds,{})}})()})]})]})};class hs extends r.Component{render(){const{isLoggedIn:e,onLogout:t}=this.props;return(0,gt.jsxs)("header",{className:"admin-main-header",children:[(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"light-line"}),(0,gt.jsx)("div",{className:"admin-main-logo-container",children:(0,gt.jsxs)(nt,{to:"/admin-dashboard",className:"admin-main-logo-link",children:[(0,gt.jsx)("div",{className:"admin-main-logo",children:(0,gt.jsxs)("div",{className:"admin-main-logo-inner",children:[(0,gt.jsx)("div",{className:"admin-main-logo-face front"}),(0,gt.jsx)("div",{className:"admin-main-logo-face back"}),(0,gt.jsx)("div",{className:"admin-main-logo-face right"}),(0,gt.jsx)("div",{className:"admin-main-logo-face left"}),(0,gt.jsx)("div",{className:"admin-main-logo-face top"}),(0,gt.jsx)("div",{className:"admin-main-logo-face bottom"})]})}),(0,gt.jsxs)("div",{className:"admin-main-logo-text",children:["TrainOn",(0,gt.jsx)("div",{className:"admin-main-logo-flash"}),(0,gt.jsx)("div",{className:"admin-main-logo-flash"}),(0,gt.jsx)("div",{className:"admin-main-logo-flash"}),(0,gt.jsx)("div",{className:"admin-main-logo-flash"}),(0,gt.jsx)("div",{className:"admin-main-logo-flash"}),(0,gt.jsx)("div",{className:"admin-main-logo-flash"})]})]})}),(0,gt.jsxs)("div",{className:"admin-main-header-right",children:[e&&(0,gt.jsxs)("div",{className:"admin-main-header-user",children:[(0,gt.jsx)("div",{className:"admin-main-user-avatar",children:(0,gt.jsx)("div",{className:"admin-main-user-initial",children:"A"})}),(0,gt.jsx)("div",{className:"admin-main-user-info",children:(0,gt.jsx)("span",{className:"admin-main-user-name",children:"Administrator aplica\u021bie"})})]}),(0,gt.jsx)("div",{className:"admin-main-auth-buttons",children:e?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)(nt,{to:"/app-admin-profile",className:"admin-main-auth-button profile-button",children:[(0,gt.jsx)(yt,{size:16,className:"button-icon"}),(0,gt.jsx)("span",{className:"button-text",children:"Profilul meu"})]}),(0,gt.jsxs)("button",{onClick:t,className:"admin-main-auth-button",children:[(0,gt.jsx)("span",{className:"button-text",children:"Deconectare"}),(0,gt.jsx)(bt,{size:16,className:"button-icon"})]})]}):(0,gt.jsx)(gt.Fragment,{children:(0,gt.jsx)("button",{className:"admin-main-auth-button login-button",children:(0,gt.jsx)("span",{className:"button-text",children:"Autentificare"})})})})]})]})}}const ps=hs,fs=pt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),gs=pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);class vs extends r.Component{constructor(e){super(e),this.fetchHallDetails=async()=>{try{const{hallId:e}=this.props,t=localStorage.getItem("jwtToken"),a=await fetch(`${this.API_BASE_URL}/sportsHalls/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error("Eroare la \xeenc\u0103rcarea detaliilor s\u0103lii");const n=await a.json();this.setState({hall:n});const r=[];n.adminId&&r.push(this.fetchAdminData(n.adminId)),r.push(this.fetchHallRating(e)),await Promise.all(r),this.setState({loading:!1})}catch(e){console.error("Error fetching hall details:",e),this.setState({error:e.message,loading:!1})}},this.fetchAdminData=async e=>{try{const t=localStorage.getItem("jwtToken"),a=await fetch(`${this.API_BASE_URL}/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(a.ok){const e=await a.json();this.setState({admin:e})}}catch(t){console.error("Eroare la ob\u021binerea datelor pentru admin:",t)}},this.fetchHallRating=async e=>{try{const t=await fetch(`${this.API_BASE_URL}/feedbacks?hallId=${e}`);if(t.ok){const e=await t.json(),a=this.calculateRatingFromFeedbacks(e);this.setState({hallRating:a})}else this.setState({hallRating:{averageRating:0,totalReviews:0}})}catch(t){console.error("Error fetching hall rating:",t),this.setState({hallRating:{averageRating:0,totalReviews:0}})}},this.calculateRatingFromFeedbacks=e=>{if(!e||0===e.length)return{averageRating:0,totalReviews:0};const t=e.reduce(((e,t)=>e+(t.rating||0)),0)/e.length;return{averageRating:Math.round(10*t)/10,totalReviews:e.length}},this.handleImageNav=e=>{const{hall:t}=this.state;!t||!t.images||t.images.length<=1||this.setState((a=>{let n=a.currentImageIndex;return n="next"===e?(a.currentImageIndex+1)%t.images.length:(a.currentImageIndex-1+t.images.length)%t.images.length,{currentImageIndex:n}}))},this.handleClose=()=>{this.setState({fadeIn:!1}),setTimeout((()=>{this.props.onClose&&this.props.onClose()}),200)},this.renderRatingStars=e=>(0,gt.jsx)("div",{className:"modal-rating-stars",children:[...Array(5)].map(((t,a)=>(0,gt.jsx)(Jn,{size:18,fill:a<Math.floor(e)?"#FFD700":"none",color:a<Math.floor(e)?"#FFD700":"#D1D5DB",className:"modal-star-icon"},a)))}),this.API_BASE_URL="",this.state={hall:null,admin:null,hallRating:{averageRating:0,totalReviews:0},loading:!0,error:null,currentImageIndex:0,fadeIn:!1}}componentDidMount(){this.fetchHallDetails(),setTimeout((()=>{this.setState({fadeIn:!0})}),50)}render(){const{isOpen:e}=this.props,{hall:t,admin:a,hallRating:n,loading:r,error:s,currentImageIndex:i,fadeIn:l}=this.state;return e?(0,gt.jsx)("div",{className:"modal-overlay "+(l?"fade-in":"fade-out"),onClick:this.handleClose,children:(0,gt.jsxs)("div",{className:"modal-container "+(l?"slide-in":"slide-out"),onClick:e=>e.stopPropagation(),children:[(0,gt.jsx)("button",{className:"modal-close-btn",onClick:this.handleClose,"aria-label":"\xcenchide",children:(0,gt.jsx)(br,{size:24})}),r?(0,gt.jsxs)("div",{className:"modal-loading",children:[(0,gt.jsx)("div",{className:"loading-spinner"}),(0,gt.jsx)("p",{children:"Se \xeencarc\u0103 detaliile s\u0103lii..."})]}):s?(0,gt.jsxs)("div",{className:"modal-error",children:[(0,gt.jsx)("div",{className:"error-icon",children:"!"}),(0,gt.jsx)("p",{children:s})]}):t?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("div",{className:"modal-header",children:[(0,gt.jsx)("h2",{className:"modal-title",children:t.name}),(0,gt.jsxs)("div",{className:"modal-location",children:[(0,gt.jsx)(wt,{size:18,className:"modal-icon"}),(0,gt.jsxs)("span",{children:[t.address,", ",t.city,", ",t.county]})]})]}),(0,gt.jsx)("div",{className:"modal-body",children:(0,gt.jsxs)("div",{className:"modal-columns",children:[(0,gt.jsx)("div",{className:"modal-left",children:t.images&&t.images.length>0?(0,gt.jsxs)("div",{className:"modal-image-gallery",children:[(0,gt.jsxs)("div",{className:"modal-main-image-container",children:[(0,gt.jsx)("img",{src:`${this.API_BASE_URL}/images/${t.images[i].id}`,alt:t.name,className:"modal-main-image"}),t.images.length>1&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{className:"modal-nav-button prev",onClick:()=>this.handleImageNav("prev"),"aria-label":"Imaginea anterioar\u0103",children:(0,gt.jsx)(ns,{size:24})}),(0,gt.jsx)("button",{className:"modal-nav-button next",onClick:()=>this.handleImageNav("next"),"aria-label":"Imaginea urm\u0103toare",children:(0,gt.jsx)(rs,{size:24})})]})]}),t.images.length>1&&(0,gt.jsx)("div",{className:"modal-thumbnails",children:t.images.map(((e,a)=>(0,gt.jsx)("div",{className:"modal-thumbnail "+(a===i?"active":""),onClick:()=>this.setState({currentImageIndex:a}),children:(0,gt.jsx)("img",{src:`${this.API_BASE_URL}/images/${e.id}`,alt:`${t.name} - ${a+1}`})},e.id)))})]}):(0,gt.jsxs)("div",{className:"modal-no-image",children:[(0,gt.jsx)("div",{className:"modal-initial-container",children:(0,gt.jsx)("div",{className:"modal-initial",children:t.name.charAt(0)})}),(0,gt.jsx)("p",{className:"modal-no-image-text",children:"Nu exist\u0103 imagini disponibile"})]})}),(0,gt.jsxs)("div",{className:"modal-right",children:[(0,gt.jsxs)("div",{className:"modal-info-card",children:[(0,gt.jsx)("div",{className:"modal-info-header",children:(0,gt.jsx)("h3",{children:"Detalii generale"})}),(0,gt.jsxs)("div",{className:"modal-info-grid",children:[(0,gt.jsxs)("div",{className:"modal-info-item",children:[(0,gt.jsx)(fs,{size:16,className:"modal-info-icon"}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("span",{className:"modal-info-label",children:"Tip"}),(0,gt.jsx)("span",{className:"modal-info-value",children:t.type||"Nespecificat"})]})]}),(0,gt.jsxs)("div",{className:"modal-info-item",children:[(0,gt.jsx)(Xn,{size:16,className:"modal-info-icon"}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("span",{className:"modal-info-label",children:"Capacitate"}),(0,gt.jsxs)("span",{className:"modal-info-value",children:[t.capacity||0," persoane"]})]})]}),(0,gt.jsxs)("div",{className:"modal-info-item",children:[(0,gt.jsx)(Yn,{size:16,className:"modal-info-icon"}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("span",{className:"modal-info-label",children:"Tarif"}),(0,gt.jsxs)("span",{className:"modal-info-value",children:[t.tariff||0," lei/1h30"]})]})]}),(0,gt.jsxs)("div",{className:"modal-info-item",children:[(0,gt.jsx)(ft,{size:16,className:"modal-info-icon"}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("span",{className:"modal-info-label",children:"Disponibilitate"}),(0,gt.jsx)("span",{className:"modal-info-value",children:"Verifica\u021bi programul"})]})]})]})]}),t.description&&(0,gt.jsxs)("div",{className:"modal-info-card",children:[(0,gt.jsx)("div",{className:"modal-info-header",children:(0,gt.jsx)("h3",{children:"Descriere"})}),(0,gt.jsx)("p",{className:"modal-description",children:t.description})]}),t.facilities&&(0,gt.jsxs)("div",{className:"modal-info-card",children:[(0,gt.jsx)("div",{className:"modal-info-header",children:(0,gt.jsx)("h3",{children:"Facilit\u0103\u021bi"})}),(0,gt.jsx)("div",{className:"modal-facilities",children:t.facilities.split(",").map(((e,t)=>(0,gt.jsx)("div",{className:"modal-facility-tag",children:e.trim()},t)))})]}),a&&(0,gt.jsxs)("div",{className:"modal-info-card",children:[(0,gt.jsx)("div",{className:"modal-info-header",children:(0,gt.jsx)("h3",{children:"Contact administrator"})}),(0,gt.jsxs)("div",{className:"modal-admin-info",children:[(0,gt.jsx)("div",{className:"modal-admin-avatar",children:(0,gt.jsx)(yt,{size:22})}),(0,gt.jsxs)("div",{className:"modal-admin-details",children:[(0,gt.jsx)("div",{className:"modal-admin-name",children:a.name||"Necunoscut"}),a.email&&(0,gt.jsxs)("div",{className:"modal-admin-contact",children:[(0,gt.jsx)(gs,{size:14,className:"modal-contact-icon"}),(0,gt.jsx)("span",{children:a.email})]}),a.phone&&(0,gt.jsxs)("div",{className:"modal-admin-contact",children:[(0,gt.jsx)(er,{size:14,className:"modal-contact-icon"}),(0,gt.jsx)("span",{children:a.phone})]})]})]})]}),(0,gt.jsxs)("div",{className:"modal-info-card",children:[(0,gt.jsx)("div",{className:"modal-info-header",children:(0,gt.jsx)("h3",{children:"Rating \u0219i recenzii"})}),(0,gt.jsxs)("div",{className:"modal-rating",children:[this.renderRatingStars(n.averageRating),(0,gt.jsx)("span",{className:"modal-rating-text",children:n.averageRating>0?`${n.averageRating} (${n.totalReviews} ${1===n.totalReviews?"recenzie":"recenzii"})`:"0 (0 recenzii)"})]}),(0,gt.jsx)("p",{className:"modal-no-reviews",children:n.totalReviews>0?`Aceast\u0103 sal\u0103 are ${n.totalReviews} ${1===n.totalReviews?"recenzie":"recenzii"}.`:"Nu exist\u0103 recenzii \xeenc\u0103 pentru aceast\u0103 sal\u0103."})]})]})]})}),(0,gt.jsx)("div",{className:"modal-footer",children:(0,gt.jsx)("button",{className:"modal-btn primary",onClick:this.handleClose,children:"\xcenchide"})})]}):(0,gt.jsxs)("div",{className:"modal-error",children:[(0,gt.jsx)("div",{className:"error-icon",children:"!"}),(0,gt.jsx)("p",{children:"Nu s-au putut \xeenc\u0103rca detaliile s\u0103lii"})]})]})}):null}}const xs=vs,ys=pt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);class bs extends r.Component{constructor(e){super(e),this.fetchHallDetails=async()=>{try{this.setState({loading:!0,error:null});const t=localStorage.getItem("jwtToken"),a=await fetch(`${this.API_BASE_URL}/sportsHalls/${this.props.hallId}`,{headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error("Nu s-au putut \xeenc\u0103rca detaliile s\u0103lii");const n=await a.json();let r=null;if(n.adminId)try{const e=await fetch(`${this.API_BASE_URL}/users/${n.adminId}`,{headers:{Authorization:`Bearer ${t}`}});e.ok&&(r=await e.json())}catch(e){console.warn("Nu s-au putut \xeenc\u0103rca datele administratorului")}let s={averageRating:0,totalReviews:0};try{const e=await fetch(`${this.API_BASE_URL}/feedbacks?hallId=${n.id}`);if(e.ok){const t=await e.json();s=this.calculateRatingFromFeedbacks(t)}}catch(e){console.warn("Nu s-au putut \xeenc\u0103rca rating-urile")}this.setState({hall:n,adminData:r,hallRating:s,editData:{...n},loading:!1})}catch(t){console.error("Error fetching hall details:",t),this.setState({error:t.message,loading:!1})}},this.calculateRatingFromFeedbacks=e=>{if(!e||0===e.length)return{averageRating:0,totalReviews:0};const t=e.reduce(((e,t)=>e+(t.rating||0)),0)/e.length;return{averageRating:Math.round(10*t)/10,totalReviews:e.length}},this.handleEdit=()=>{this.setState({isEditing:!0,editData:{...this.state.hall}})},this.handleCancelEdit=()=>{this.setState({isEditing:!1,editData:{...this.state.hall}})},this.handleInputChange=(e,t)=>{this.setState((a=>({editData:{...a.editData,[e]:t}})))},this.handleSave=async()=>{try{this.setState({isSaving:!0});const e=localStorage.getItem("jwtToken"),t=new FormData;t.append("sportsHall",JSON.stringify(this.state.editData));const a=await fetch(`${this.API_BASE_URL}/sportsHalls/${this.state.hall.id}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:t});if(!a.ok){const e=await a.text();throw new Error(e||"Nu s-au putut salva modific\u0103rile")}const n=await a.json();this.setState({hall:n,editData:{...n},isEditing:!1,isSaving:!1,error:null}),this.props.onHallUpdated&&this.props.onHallUpdated(n)}catch(e){console.error("Error saving hall:",e),this.setState({error:e.message,isSaving:!1})}},this.handleDeactivate=async()=>{try{const e=localStorage.getItem("jwtToken"),t="ACTIVE"===this.state.hall.status,a=t?`${this.API_BASE_URL}/sportsHalls/${this.state.hall.id}/deactivate`:`${this.API_BASE_URL}/sportsHalls/${this.state.hall.id}/activate`;console.log("=== DEBUG INFO ==="),console.log("Token exists:",!!e),console.log("Hall ID:",this.state.hall.id),console.log("Current status:",this.state.hall.status),console.log("Endpoint:",a),console.log("Is currently active:",t);const n=await fetch(a,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Response status:",n.status),console.log("Response ok:",n.ok),!n.ok){const e=await n.text();throw console.error("Error response:",e),new Error(e||`Nu s-a putut ${t?"dezactiva":"activa"} sala`)}const r=await n.json();console.log("Updated hall:",r),this.setState({hall:r,editData:{...r},showDeactivateConfirm:!1,error:null}),this.props.onHallUpdated&&this.props.onHallUpdated(r),console.log(`Sala ${t?"dezactivat\u0103":"activat\u0103"} cu succes`)}catch(e){console.error("Error changing hall status:",e),this.setState({error:e.message,showDeactivateConfirm:!1})}},this.getCoverImage=e=>{if(null!==e&&void 0!==e&&e.images&&e.images.length>0){const t=e.images.find((e=>"cover"===e.description));if(t)return`${this.API_BASE_URL}/images/${t.id}`}return null},this.renderRatingStars=e=>{const t=Math.floor(e),a=e%1>=.3&&e%1<=.7,n=e%1>.7;return(0,gt.jsx)("div",{className:"modal-rating-stars",children:[...Array(5)].map(((e,r)=>r<t?(0,gt.jsx)(Jn,{size:16,fill:"#FFD700",color:"#FFD700"},r):r===t&&a?(0,gt.jsxs)("div",{className:"modal-half-star-container",children:[(0,gt.jsx)(Jn,{size:16,fill:"#FFD700",color:"#FFD700",className:"modal-half-star"}),(0,gt.jsx)(Jn,{size:16,fill:"none",color:"#D1D5DB",className:"modal-star-background"})]},r):r===t&&n?(0,gt.jsx)(Jn,{size:16,fill:"#FFD700",color:"#FFD700"},r):(0,gt.jsx)(Jn,{size:16,fill:"none",color:"#D1D5DB"},r)))})},this.API_BASE_URL="",this.state={hall:null,loading:!0,error:null,isEditing:!1,isSaving:!1,editData:{},showDeactivateConfirm:!1,adminData:null,hallRating:{averageRating:0,totalReviews:0}}}componentDidMount(){this.props.isOpen&&this.props.hallId&&this.fetchHallDetails()}componentDidUpdate(e){this.props.isOpen&&!e.isOpen&&this.props.hallId&&this.fetchHallDetails()}render(){var e;if(!this.props.isOpen)return null;const{hall:t,loading:a,error:n,isEditing:r,isSaving:s,editData:i,showDeactivateConfirm:l,adminData:o,hallRating:c}=this.state;return(0,gt.jsx)("div",{className:"hall-management-modal-overlay",onClick:this.props.onClose,children:(0,gt.jsxs)("div",{className:"hall-management-modal",onClick:e=>e.stopPropagation(),children:[(0,gt.jsxs)("div",{className:"hall-management-modal-header",children:[(0,gt.jsx)("h2",{children:"Gestionare Sal\u0103"}),(0,gt.jsx)("button",{className:"hall-management-close-btn",onClick:this.props.onClose,children:(0,gt.jsx)(br,{size:24})})]}),(0,gt.jsxs)("div",{className:"hall-management-modal-content",children:[a&&(0,gt.jsx)("div",{className:"hall-management-loading",children:"Se \xeencarc\u0103 detaliile s\u0103lii..."}),n&&(0,gt.jsxs)("div",{className:"hall-management-error",children:["Eroare: ",n]}),t&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("div",{className:"hall-management-main-info",children:[(0,gt.jsxs)("div",{className:"hall-management-image-section",children:[this.getCoverImage(t)?(0,gt.jsx)("img",{src:this.getCoverImage(t),alt:t.name,className:"hall-management-cover-image"}):(0,gt.jsx)("div",{className:"hall-management-placeholder",children:(0,gt.jsx)("div",{className:"hall-management-initial",children:t.name.charAt(0)})}),(0,gt.jsxs)("div",{className:"hall-management-rating-section",children:[this.renderRatingStars(c.averageRating),(0,gt.jsx)("span",{className:"hall-management-rating-text",children:c.averageRating>0?`${c.averageRating} (${c.totalReviews} ${1===c.totalReviews?"recenzie":"recenzii"})`:"F\u0103r\u0103 recenzii"})]})]}),(0,gt.jsxs)("div",{className:"hall-management-details-section",children:[(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsx)("label",{children:"Nume sal\u0103:"}),r?(0,gt.jsx)("input",{type:"text",value:i.name||"",onChange:e=>this.handleInputChange("name",e.target.value),className:"hall-management-input"}):(0,gt.jsx)("span",{children:t.name})]}),(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsx)("label",{children:"Descriere:"}),r?(0,gt.jsx)("textarea",{value:i.description||"",onChange:e=>this.handleInputChange("description",e.target.value),className:"hall-management-textarea",rows:"3"}):(0,gt.jsx)("span",{children:t.description||"F\u0103r\u0103 descriere"})]}),(0,gt.jsxs)("div",{className:"hall-management-location",children:[(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsxs)("label",{children:[(0,gt.jsx)(wt,{size:16})," Ora\u0219:"]}),r?(0,gt.jsx)("input",{type:"text",value:i.city||"",onChange:e=>this.handleInputChange("city",e.target.value),className:"hall-management-input"}):(0,gt.jsx)("span",{children:t.city})]}),(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsx)("label",{children:"Jude\u021b:"}),r?(0,gt.jsx)("input",{type:"text",value:i.county||"",onChange:e=>this.handleInputChange("county",e.target.value),className:"hall-management-input"}):(0,gt.jsx)("span",{children:t.county})]})]}),(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsx)("label",{children:"Adres\u0103:"}),r?(0,gt.jsx)("input",{type:"text",value:i.address||"",onChange:e=>this.handleInputChange("address",e.target.value),className:"hall-management-input"}):(0,gt.jsx)("span",{children:t.address})]}),(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsx)("label",{children:"Tarif (RON/1h30):"}),r?(0,gt.jsx)("input",{type:"number",step:"0.01",min:"0",value:i.tariff||"",onChange:e=>this.handleInputChange("tariff",parseFloat(e.target.value)||0),className:"hall-management-input"}):(0,gt.jsx)("span",{children:t.tariff?`${t.tariff} RON/1h30`:"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsx)("label",{children:"Capacitate:"}),r?(0,gt.jsx)("input",{type:"number",min:"1",value:i.capacity||"",onChange:e=>this.handleInputChange("capacity",parseInt(e.target.value)||1),className:"hall-management-input"}):(0,gt.jsx)("span",{children:t.capacity?`${t.capacity} persoane`:"Nu este specificat\u0103"})]}),(0,gt.jsxs)("div",{className:"hall-management-contact",children:[(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsxs)("label",{children:[(0,gt.jsx)(er,{size:16})," Telefon:"]}),r?(0,gt.jsx)("input",{type:"tel",value:i.phoneNumber||"",onChange:e=>this.handleInputChange("phoneNumber",e.target.value),className:"hall-management-input"}):(0,gt.jsx)("span",{children:t.phoneNumber||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"hall-management-field",children:[(0,gt.jsx)("label",{children:"Status:"}),(0,gt.jsx)("span",{className:`hall-status-badge ${null===(e=t.status)||void 0===e?void 0:e.toLowerCase()}`,children:"ACTIVE"===t.status?"\ud83d\udfe2 Activ":"\ud83d\udd34 Inactiv"})]})]}),o&&(0,gt.jsxs)("div",{className:"hall-management-admin-info",children:[(0,gt.jsxs)("label",{children:[(0,gt.jsx)(yt,{size:16})," Administrator:"]}),(0,gt.jsxs)("div",{className:"hall-management-admin-details",children:[(0,gt.jsx)("span",{className:"admin-name",children:o.name}),(0,gt.jsx)("span",{className:"admin-email",children:o.email})]})]})]})]}),(0,gt.jsx)("div",{className:"hall-management-actions",children:r?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("button",{className:"hall-management-btn save-btn",onClick:this.handleSave,disabled:s,children:[(0,gt.jsx)(pr,{size:16}),s?"Se salveaz\u0103...":"Salveaz\u0103"]}),(0,gt.jsx)("button",{className:"hall-management-btn cancel-btn",onClick:this.handleCancelEdit,disabled:s,children:"Anuleaz\u0103"})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("button",{className:"hall-management-btn edit-btn",onClick:this.handleEdit,children:[(0,gt.jsx)(cr,{size:16}),"Editeaz\u0103"]}),"ACTIVE"===t.status?(0,gt.jsxs)("button",{className:"hall-management-btn deactivate-btn",onClick:()=>this.setState({showDeactivateConfirm:!0}),children:[(0,gt.jsx)(ys,{size:16}),"Dezactiveaz\u0103"]}):(0,gt.jsxs)("button",{className:"hall-management-btn activate-btn",onClick:()=>this.setState({showDeactivateConfirm:!0}),children:[(0,gt.jsx)(ys,{size:16}),"Activeaz\u0103"]})]})}),l&&(0,gt.jsx)("div",{className:"hall-management-confirm-overlay",children:(0,gt.jsxs)("div",{className:"hall-management-confirm-dialog",children:[(0,gt.jsx)("h3",{children:"ACTIVE"===t.status?"Confirmare dezactivare":"Confirmare activare"}),(0,gt.jsxs)("p",{children:["E\u0219ti sigur c\u0103 vrei s\u0103 ","ACTIVE"===t.status?"dezactivezi":"activezi",' sala "',t.name,'"?']}),(0,gt.jsxs)("p",{className:"warning-text",children:[(0,gt.jsx)(ys,{size:16}),"ACTIVE"===t.status?'Aceast\u0103 ac\u021biune va schimba status-ul s\u0103lii \xeen "Inactiv"!':'Aceast\u0103 ac\u021biune va schimba status-ul s\u0103lii \xeen "Activ"!']}),(0,gt.jsxs)("div",{className:"hall-management-confirm-actions",children:[(0,gt.jsxs)("button",{className:"hall-management-btn "+("ACTIVE"===t.status?"confirm-deactivate-btn":"confirm-activate-btn"),onClick:this.handleDeactivate,children:["Da, ","ACTIVE"===t.status?"dezactiveaz\u0103":"activeaz\u0103"]}),(0,gt.jsx)("button",{className:"hall-management-btn cancel-btn",onClick:()=>this.setState({showDeactivateConfirm:!1}),children:"Anuleaz\u0103"})]})]})})]})]})]})})}}const js=bs;class Ns extends r.Component{constructor(e){super(e),this.fetchHalls=async()=>{try{const e=localStorage.getItem("jwtToken");if(!e)return void this.setState({error:"Nu sunte\u021bi autentificat corect",loading:!1,halls:[]});const t=await fetch(`${this.API_BASE_URL}/sportsHalls`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Eroare la \xeenc\u0103rcarea s\u0103lilor: ${t.status}`);const a=await t.json(),n=[...new Set(a.map((e=>e.city)))];this.setState({halls:a,cities:n,loading:!1}),await this.fetchAdminsData(a),await this.fetchRatingsForHalls(a)}catch(e){console.error("Error fetching halls:",e),this.setState({error:e.message,loading:!1,halls:[]})}},this.fetchAdminsData=async e=>{try{const a=localStorage.getItem("jwtToken"),n=[...new Set(e.map((e=>e.adminId)))].filter((e=>null!=e)),r={};for(const e of n)try{const t=await fetch(`${this.API_BASE_URL}/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(t.ok){const a=await t.json();console.log("Admin data fetched:",a),r[e]=a}else console.warn(`Nu s-au putut ob\u021bine datele pentru admin ID: ${e}`),r[e]={name:"Necunoscut"}}catch(t){console.error(`Eroare la ob\u021binerea datelor pentru admin ID: ${e}`,t),r[e]={name:"Necunoscut"}}this.setState({admins:r}),console.log("Admins data state:",r)}catch(a){console.error("Error fetching admins data:",a)}},this.fetchRatingsForHalls=async e=>{const t={};await Promise.all(e.map((async e=>{try{const a=await fetch(`${this.API_BASE_URL}/feedbacks?hallId=${e.id}`);if(a.ok){const n=await a.json(),r=this.calculateRatingFromFeedbacks(n);t[e.id]=r}else t[e.id]={averageRating:0,totalReviews:0}}catch(a){console.error(`Error fetching ratings for hall ${e.id}:`,a),t[e.id]={averageRating:0,totalReviews:0}}}))),this.setState({hallRatings:t})},this.calculateRatingFromFeedbacks=e=>{if(!e||0===e.length)return{averageRating:0,totalReviews:0};const t=e.reduce(((e,t)=>e+(t.rating||0)),0)/e.length;return{averageRating:Math.round(10*t)/10,totalReviews:e.length}},this.getCoverImage=e=>{if(e.images&&e.images.length>0){const t=e.images.find((e=>"cover"===e.description));if(t)return`${this.API_BASE_URL}/images/${t.id}`}return null},this.getAdminName=e=>{const{admins:t}=this.state;if(!e)return"Necunoscut";if(t[e]){return t[e].name||"Necunoscut"}return"Necunoscut"},this.getAdminEmail=e=>{const{admins:t}=this.state;return e&&t[e]&&t[e].email||""},this.handleCityChange=e=>{this.setState({selectedCity:e.target.value})},this.handleViewDetails=e=>{this.setState({modalOpen:!0,selectedHallId:e})},this.handleCloseModal=()=>{this.setState({modalOpen:!1,selectedHallId:null})},this.handleManage=e=>{this.setState({managementModalOpen:!0,managementHallId:e})},this.handleCloseManagementModal=()=>{this.setState({managementModalOpen:!1,managementHallId:null})},this.handleHallUpdated=e=>{this.setState((t=>({halls:t.halls.map((t=>t.id===e.id?e:t))})))},this.renderRatingStars=e=>{const t=Math.floor(e),a=e%1>=.3&&e%1<=.7,n=e%1>.7;return(0,gt.jsx)("div",{className:"global-hall-rating-stars",children:[...Array(5)].map(((e,r)=>r<t?(0,gt.jsx)(Jn,{size:18,fill:"#FFD700",color:"#FFD700",className:"global-star-icon"},r):r===t&&a?(0,gt.jsxs)("div",{className:"global-half-star-container",children:[(0,gt.jsx)(Jn,{size:18,fill:"#FFD700",color:"#FFD700",className:"global-half-star"}),(0,gt.jsx)(Jn,{size:18,fill:"none",color:"#D1D5DB",className:"global-star-icon global-star-background"})]},r):r===t&&n?(0,gt.jsx)(Jn,{size:18,fill:"#FFD700",color:"#FFD700",className:"global-star-icon"},r):(0,gt.jsx)(Jn,{size:18,fill:"none",color:"#D1D5DB",className:"global-star-icon"},r)))})},this.API_BASE_URL="",this.state={halls:[],cities:[],admins:{},hallRatings:{},selectedCity:"all",loading:!0,error:null,modalOpen:!1,selectedHallId:null,managementModalOpen:!1,managementHallId:null}}async componentDidMount(){await this.fetchHalls()}render(){const{halls:e,cities:t,selectedCity:a,loading:n,error:r,modalOpen:s,selectedHallId:i,hallRatings:l,managementModalOpen:o,managementHallId:c}=this.state;if(n)return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Vizualizarea tuturor s\u0103lilor"}),(0,gt.jsx)("div",{className:"global-admin-loading",children:"Se \xeencarc\u0103 s\u0103lile..."})]});if(r)return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Vizualizarea tuturor s\u0103lilor"}),(0,gt.jsx)("div",{className:"global-admin-error",children:r})]});const u="all"===a?e:e.filter((e=>e.city===a));return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Vizualizarea tuturor s\u0103lilor"}),(0,gt.jsx)("div",{className:"global-admin-filters",children:(0,gt.jsxs)("div",{className:"global-admin-filter-group",children:[(0,gt.jsx)("label",{htmlFor:"city-filter",children:"Filtreaz\u0103 dup\u0103 ora\u0219:"}),(0,gt.jsxs)("select",{id:"city-filter",className:"global-admin-select",value:a,onChange:this.handleCityChange,children:[(0,gt.jsx)("option",{value:"all",children:"Toate ora\u0219ele"}),t.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]})]})}),(0,gt.jsx)("div",{className:"global-halls-grid",children:u.length>0?u.map((e=>{var t,a;const n=this.getCoverImage(e),r=this.getAdminName(e.adminId),s=this.getAdminEmail(e.adminId),i=l[e.id]||{averageRating:0,totalReviews:0};return(0,gt.jsxs)("div",{className:`global-hall-card ${null===(t=e.status)||void 0===t?void 0:t.toLowerCase()}`,children:[(0,gt.jsxs)("div",{className:"global-hall-image-container",children:[(0,gt.jsx)("div",{className:`global-hall-status-indicator ${null===(a=e.status)||void 0===a?void 0:a.toLowerCase()}`,children:"ACTIVE"===e.status?"Activ":"Inactiv"}),n?(0,gt.jsx)("img",{src:n,alt:e.name,className:"global-hall-image"}):(0,gt.jsx)("div",{className:"global-hall-placeholder",children:(0,gt.jsx)("div",{className:"global-hall-initial",children:e.name.charAt(0)})})]}),(0,gt.jsxs)("div",{className:"global-hall-content",children:[(0,gt.jsx)("h3",{className:"global-hall-name",children:e.name}),(0,gt.jsxs)("p",{className:"global-hall-location",children:[e.city,", ",e.county]}),(0,gt.jsxs)("div",{className:"global-hall-admin-container",children:[(0,gt.jsxs)("div",{className:"global-hall-admin-row",children:[(0,gt.jsx)(yt,{size:16,className:"global-admin-icon"}),(0,gt.jsx)("span",{className:"global-admin-label",children:"Administrator:"}),(0,gt.jsx)("span",{className:"global-admin-name",children:r})]}),s&&(0,gt.jsx)("div",{className:"global-hall-admin-email",children:s})]}),(0,gt.jsx)("p",{className:"global-hall-description",children:e.description||"F\u0103r\u0103 descriere"}),(0,gt.jsxs)("div",{className:"global-hall-rating",children:[this.renderRatingStars(i.averageRating),(0,gt.jsx)("span",{className:"global-rating-text",children:i.averageRating>0?`${i.averageRating} (${i.totalReviews} ${1===i.totalReviews?"recenzie":"recenzii"})`:"F\u0103r\u0103 recenzii"})]}),(0,gt.jsxs)("div",{className:"global-hall-actions",children:[(0,gt.jsx)("button",{className:"global-admin-action-button",onClick:()=>this.handleViewDetails(e.id),children:"Detalii"}),(0,gt.jsx)("button",{className:"global-admin-action-button primary",onClick:()=>this.handleManage(e.id),children:"Gestionare"})]})]})]},e.id)})):(0,gt.jsx)("div",{className:"global-admin-empty-state",children:(0,gt.jsxs)("p",{children:["Nu exist\u0103 s\u0103li de sport ","all"!==a?`\xeen ora\u0219ul ${a}`:"\xeenregistrate \xeen platform\u0103","."]})})}),s&&i&&(0,gt.jsx)(xs,{isOpen:s,hallId:i,onClose:this.handleCloseModal}),o&&c&&(0,gt.jsx)(js,{isOpen:o,hallId:c,onClose:this.handleCloseManagementModal,onHallUpdated:this.handleHallUpdated})]})}}const ws=Ns,Ss=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)("pending"),[s,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!0),[h,p]=(0,r.useState)(null),[f,g]=(0,r.useState)(null),v=()=>{const e=localStorage.getItem("jwtToken");return e?(console.log("Token g\u0103sit:",e.substring(0,15)+"..."),{headers:{Authorization:`Bearer ${e}`}}):(console.log("Nu s-a g\u0103sit token-ul JWT"),{})};(0,r.useEffect)((()=>{(async()=>{m(!0);try{const e=a;console.log("Fetching teams with status:",e);const n=await Bn.get(`/admin/team-registrations?status=${e}`,v());console.log("Response data:",n.data);const r=n.data.filter((e=>"pending"===a?"pending"===e.accountStatus||null===e.accountStatus:"rejected"!==a||"rejected"===e.accountStatus));t(r),p(null)}catch(r){var e,n;console.error("Error fetching team registrations:",r),r.response&&(console.error("Response status:",r.response.status),console.error("Response data:",r.response.data)),403===(null===(e=r.response)||void 0===e?void 0:e.status)?p("Acces interzis. V\u0103 rug\u0103m s\u0103 verifica\u021bi c\u0103 ave\u021bi drepturi de administrator."):401===(null===(n=r.response)||void 0===n?void 0:n.status)?p("Sesiunea a expirat. V\u0103 rug\u0103m s\u0103 v\u0103 autentifica\u021bi din nou."):p("Nu s-au putut \xeenc\u0103rca datele. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}finally{m(!1)}})()}),[a]);const x=()=>{o(!1),i(null),f&&URL.revokeObjectURL(f),g(null)},y=()=>{u(!1)},b=async a=>{try{await Bn.post(`/admin/team-registrations/${a}/approve`,{},v()),t(e.filter((e=>e.id!==a))),alert("Echipa a fost aprobat\u0103 cu succes!"),x()}catch(n){console.error("Error approving team:",n),alert("A ap\u0103rut o eroare la aprobarea echipei. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}},j=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"N/A";const a={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("ro-RO",a)}catch(ai){return console.error("Error formatting date:",ai),"N/A"}};if("admin"!==localStorage.getItem("userType"))return(0,gt.jsx)("div",{className:"global-admin-page",children:(0,gt.jsxs)("div",{className:"error-message",children:[(0,gt.jsx)("h2",{children:"Acces restric\u021bionat"}),(0,gt.jsx)("p",{children:"Aceast\u0103 pagin\u0103 este disponibil\u0103 doar pentru administratori."})]})});const N=e=>"pending"===e||null===e?"\xcen a\u0219teptare":"rejected"===e?"Respins":"verified"===e?"Verificat":e;return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Aprobarea cererilor de \xeenregistrare"}),(0,gt.jsxs)("div",{className:"registration-tabs",children:[(0,gt.jsx)("button",{className:"registration-tab "+("pending"===a?"active":""),onClick:()=>n("pending"),children:"Cereri \xeen a\u0219teptare"}),(0,gt.jsx)("button",{className:"registration-tab "+("rejected"===a?"active":""),onClick:()=>n("rejected"),children:"Cereri respinse"})]}),(0,gt.jsx)("div",{className:"registration-table-container",children:d?(0,gt.jsx)("div",{className:"loading-message",children:"Se \xeencarc\u0103..."}):h?(0,gt.jsx)("div",{className:"error-message",children:h}):(0,gt.jsxs)("table",{className:"registration-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"Nume echip\u0103"}),(0,gt.jsx)("th",{children:"Data cererii"}),(0,gt.jsx)("th",{children:"Status"}),(0,gt.jsx)("th",{children:"Ac\u021biuni"})]})}),(0,gt.jsx)("tbody",{children:e.length>0?e.map((e=>(0,gt.jsxs)("tr",{className:"registration-row",children:[(0,gt.jsx)("td",{className:"team-name-cell",children:e.name}),(0,gt.jsx)("td",{className:"team-date-cell",children:j(e.createdAt)}),(0,gt.jsx)("td",{className:"team-status-cell",children:(0,gt.jsx)("span",{className:`table-status table-status-${e.accountStatus||"pending"}`,children:N(e.accountStatus)})}),(0,gt.jsx)("td",{className:"team-actions-cell",children:(0,gt.jsx)("button",{className:"view-details-btn",onClick:()=>(async e=>{i(e),o(!0);try{const t=await Bn.get(`/admin/team-registrations/${e.id}/certificate`,{...v(),responseType:"blob"}),a=new Blob([t.data],{type:t.headers["content-type"]}),n=URL.createObjectURL(a);g(n)}catch(h){console.error("Eroare la \xeenc\u0103rcarea certificatului:",h),g(null)}})(e),children:"Detalii"})})]},e.id))):(0,gt.jsx)("tr",{children:(0,gt.jsxs)("td",{colSpan:"4",className:"registration-empty-row",children:["Nu exist\u0103 cereri ","pending"===a?"\xeen a\u0219teptare":"respinse"," \xeen acest moment."]})})})]})}),l&&s&&(0,gt.jsx)("div",{className:"registration-modal-overlay",onClick:x,children:(0,gt.jsxs)("div",{className:"registration-modal",onClick:e=>e.stopPropagation(),children:[(0,gt.jsxs)("div",{className:"registration-modal-header",children:[(0,gt.jsxs)("h3",{className:"registration-modal-title",children:["Detalii cerere: ",s.name]}),(0,gt.jsx)("button",{className:"registration-modal-close",onClick:x,children:"\xd7"})]}),(0,gt.jsx)("div",{className:"registration-modal-body",children:(0,gt.jsxs)("div",{className:"registration-modal-columns",children:[(0,gt.jsx)("div",{className:"registration-modal-left",children:(0,gt.jsxs)("div",{className:"registration-certificate-container",children:[(0,gt.jsx)("h4",{children:"Certificat de \xeenregistrare"}),(0,gt.jsx)("div",{className:"registration-certificate",children:f?(0,gt.jsx)("img",{src:f,alt:"Certificat",onClick:e=>{e.stopPropagation(),u(!c)},className:"certificate-image",onError:e=>{console.error("Eroare la \xeenc\u0103rcarea imaginii"),e.target.src="https://via.placeholder.com/400x500?text=Certificat+Lips\u0103"}}):(0,gt.jsx)("div",{className:"certificate-placeholder",children:"Certificat indisponibil"})})]})}),(0,gt.jsxs)("div",{className:"registration-modal-right",children:[(0,gt.jsxs)("div",{className:"registration-detail-section",children:[(0,gt.jsx)("h4",{children:"Informa\u021bii echip\u0103"}),(0,gt.jsxs)("div",{className:"registration-detail-grid",children:[(0,gt.jsxs)("div",{className:"registration-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Nume:"}),(0,gt.jsx)("span",{className:"detail-value",children:s.name})]}),(0,gt.jsxs)("div",{className:"registration-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Tip echip\u0103:"}),(0,gt.jsx)("span",{className:"detail-value",children:s.teamType})]}),(0,gt.jsxs)("div",{className:"registration-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Email:"}),(0,gt.jsx)("span",{className:"detail-value",children:s.email})]}),(0,gt.jsxs)("div",{className:"registration-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Ora\u0219:"}),(0,gt.jsx)("span",{className:"detail-value",children:s.city})]}),(0,gt.jsxs)("div",{className:"registration-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Jude\u021b:"}),(0,gt.jsx)("span",{className:"detail-value",children:s.county})]}),(0,gt.jsxs)("div",{className:"registration-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Data cererii:"}),(0,gt.jsx)("span",{className:"detail-value",children:j(s.createdAt)})]}),(0,gt.jsxs)("div",{className:"registration-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Status:"}),(0,gt.jsx)("span",{className:`detail-value status-${s.accountStatus||"pending"}`,children:N(s.accountStatus)})]})]})]}),s.address&&(0,gt.jsxs)("div",{className:"registration-detail-section",children:[(0,gt.jsx)("h4",{children:"Adres\u0103"}),(0,gt.jsx)("p",{className:"registration-description",children:s.address})]}),"rejected"===s.accountStatus&&s.rejectionReason&&(0,gt.jsxs)("div",{className:"registration-detail-section rejection-reason",children:[(0,gt.jsx)("h4",{children:"Motiv respingere"}),(0,gt.jsx)("p",{children:s.rejectionReason})]})]})]})}),(0,gt.jsxs)("div",{className:"registration-modal-footer",children:[("pending"===s.accountStatus||null===s.accountStatus)&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{className:"registration-action-btn reject",onClick:()=>(async n=>{const r=prompt("Introduce\u021bi motivul respingerii:","");if(r&&""!==r.trim())try{await Bn.post(`/admin/team-registrations/${n}/reject`,{rejectionReason:r},v()),"pending"===a&&t(e.filter((e=>e.id!==n))),alert("Echipa a fost respins\u0103 cu succes!"),x()}catch(s){console.error("Error rejecting team:",s),alert("A ap\u0103rut o eroare la respingerea echipei. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}})(s.id),children:"Respinge"}),(0,gt.jsx)("button",{className:"registration-action-btn approve",onClick:()=>b(s.id),children:"Aprob\u0103"})]}),"rejected"===s.accountStatus&&(0,gt.jsx)("button",{className:"registration-action-btn approve",onClick:()=>b(s.id),children:"Reconsider\u0103 \u0219i aprob\u0103"})]})]})}),c&&f&&(0,gt.jsx)("div",{className:"fullscreen-image-overlay",onClick:y,children:(0,gt.jsxs)("div",{className:"fullscreen-image-container",children:[(0,gt.jsx)("button",{className:"fullscreen-close-btn",onClick:y,children:"\xd7"}),(0,gt.jsx)("img",{src:f,alt:"Certificat la dimensiune complet\u0103",className:"fullscreen-image",onError:e=>{e.target.src="https://via.placeholder.com/800x1000?text=Certificat+Lips\u0103"}})]})})]})},ks=pt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Cs=pt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Es=pt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),zs=pt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Ps=pt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Ts=pt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),As=pt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);class Is extends r.Component{constructor(e){super(e),this.getStartOfWeek=e=>{const t=e.getDay(),a=e.getDate()-t+(0===t?-6:1),n=new Date(e);return n.setDate(a),n.setHours(0,0,0,0),n},this.formatDate=e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`,this.isToday=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},this.handlePreviousWeek=()=>{const{currentWeekStart:e}=this.state,t=new Date,a=this.getStartOfWeek(t);if(this.props.restrictPastNavigation&&e.getTime()<=a.getTime())return;const n=new Date(e);n.setDate(n.getDate()-7),this.setState({currentWeekStart:n},(()=>{this.props.onWeekChange&&this.props.onWeekChange(n)}))},this.handleNextWeek=()=>{const{currentWeekStart:e}=this.state,t=this.props.maxFutureWeeks||8,a=new Date,n=this.getStartOfWeek(a);if(this.props.restrictFutureNavigation){const a=e.getTime()-n.getTime();if(Math.ceil(a/6048e5)>=t)return}const r=new Date(e);r.setDate(r.getDate()+7),this.setState({currentWeekStart:r},(()=>{this.props.onWeekChange&&this.props.onWeekChange(r)}))},this.toggleMaintenanceSlot=(e,t)=>{this.props.onToggleMaintenance&&this.props.onToggleMaintenance(e,t)},this.renderWeekDays=()=>{const{currentWeekStart:e}=this.state,t=[];for(let a=0;a<7;a++){const n=new Date(e);n.setDate(n.getDate()+a);const r=this.isToday(n);t.push((0,gt.jsxs)("th",{className:"stc-schedule-day-header "+(r?"stc-today":""),children:[(0,gt.jsx)("div",{className:"stc-day-name",children:n.toLocaleDateString("ro-RO",{weekday:"long"})}),(0,gt.jsx)("div",{className:"stc-day-date",children:n.toLocaleDateString("ro-RO",{day:"numeric",month:"long"})})]},a))}return t},this.renderTimeSlots=()=>{const{currentWeekStart:e,timeSlots:t}=this.state,{schedule:a,isPastDateBlocked:n,isReadOnly:r,reservations:s}=this.props,i=new Date;return i.setHours(0,0,0,0),t.map((t=>(0,gt.jsxs)("tr",{className:"stc-time-slot-row",children:[(0,gt.jsx)("td",{className:"stc-time-slot-cell",children:t.display}),[...Array(7)].map(((l,o)=>{const c=new Date(e);c.setDate(c.getDate()+o);const u=this.formatDate(c),d=n&&c<=i,m=a&&a[u]&&a[u][t.id]?a[u][t.id]:"available";let h=null;"booked"===m&&s&&(h=s.find((e=>this.formatDate(new Date(e.date))===u&&e.timeSlot===t.id)));const p=this.isToday(c),f=!d&&!r&&"booked"!==m&&"unavailable"!==m;return(0,gt.jsxs)("td",{className:`stc-schedule-slot stc-${m} ${p?"stc-today":""} ${d?"stc-past-date":""}`,onClick:()=>f&&this.toggleMaintenanceSlot(u,t.id),style:{cursor:f?"pointer":"not-allowed"},children:["unavailable"===m&&(0,gt.jsx)("span",{className:"stc-slot-status stc-unavailable",children:"\xcenchis"}),"maintenance"===m&&(0,gt.jsx)("span",{className:"stc-slot-status stc-maintenance",children:"Mentenan\u021b\u0103"}),"booked"===m&&(0,gt.jsxs)("div",{className:"stc-slot-status stc-booked",children:[(0,gt.jsx)("span",{className:"stc-reservation-title",children:"Rezervat"}),h&&h.user&&(0,gt.jsxs)("div",{className:"stc-reservation-details",children:[(0,gt.jsx)("span",{className:"stc-team-name",children:h.user.teamName||h.user.name}),h.profileName&&(0,gt.jsx)("span",{className:"stc-profile-name",children:h.profileName})]})]})]},`${u}_${t.id}`)}))]},t.id)))};this.state={timeSlots:[{id:"07:00 - 08:30",display:"07:00 - 08:30"},{id:"08:30 - 10:00",display:"08:30 - 10:00"},{id:"10:00 - 11:30",display:"10:00 - 11:30"},{id:"11:30 - 13:00",display:"11:30 - 13:00"},{id:"13:00 - 14:30",display:"13:00 - 14:30"},{id:"14:30 - 16:00",display:"14:30 - 16:00"},{id:"16:00 - 17:30",display:"16:00 - 17:30"},{id:"17:30 - 19:00",display:"17:30 - 19:00"},{id:"19:00 - 20:30",display:"19:00 - 20:30"},{id:"20:30 - 22:00",display:"20:30 - 22:00"},{id:"22:00 - 23:30",display:"22:00 - 23:30"}],currentWeekStart:this.getStartOfWeek(new Date),tableLoading:!1}}componentDidMount(){this.props.initialWeekStart&&this.setState({currentWeekStart:this.props.initialWeekStart})}render(){const{currentWeekStart:e}=this.state,{tableLoading:t,maintenanceCount:a,isReadOnly:n,showWeekNavigation:r=!0,restrictPastNavigation:s=!0,restrictFutureNavigation:i=!0,maxFutureWeeks:l=8,maxMaintenanceSlots:o}=this.props,c=new Date,u=this.getStartOfWeek(c),d=s&&e.getTime()===u.getTime(),m=new Date(u);m.setDate(m.getDate()+7*(l||8));const h=i&&e.getTime()>=m.getTime();return(0,gt.jsxs)("div",{className:"stc-schedule-component",children:[r&&(0,gt.jsxs)("div",{className:"stc-week-navigation",children:[(0,gt.jsxs)("button",{className:"stc-week-nav-button stc-prev "+(d?"stc-disabled":""),onClick:this.handlePreviousWeek,disabled:d,children:[(0,gt.jsx)(ns,{size:20}),"S\u0103pt\u0103m\xe2na anterioar\u0103"]}),(0,gt.jsxs)("div",{className:"stc-current-week",children:[(0,gt.jsx)(ft,{size:18}),(0,gt.jsxs)("span",{children:[e.toLocaleDateString("ro-RO",{day:"numeric",month:"long"})," - ",new Date(e.getTime()+5184e5).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})]})]}),(0,gt.jsxs)("button",{className:"stc-week-nav-button stc-next "+(h?"stc-disabled":""),onClick:this.handleNextWeek,disabled:h,children:["S\u0103pt\u0103m\xe2na urm\u0103toare",(0,gt.jsx)(rs,{size:20})]})]}),(0,gt.jsxs)("div",{className:"stc-schedule-legend",children:[(0,gt.jsxs)("div",{className:"stc-legend-item",children:[(0,gt.jsx)("div",{className:"stc-legend-color stc-available"}),(0,gt.jsx)("span",{children:"Disponibil"})]}),(0,gt.jsxs)("div",{className:"stc-legend-item",children:[(0,gt.jsx)("div",{className:"stc-legend-color stc-unavailable"}),(0,gt.jsx)("span",{children:"\xcenchis"})]}),(0,gt.jsxs)("div",{className:"stc-legend-item",children:[(0,gt.jsx)("div",{className:"stc-legend-color stc-booked"}),(0,gt.jsx)("span",{children:"Rezervat"})]}),(0,gt.jsxs)("div",{className:"stc-legend-item",children:[(0,gt.jsx)("div",{className:"stc-legend-color stc-maintenance"}),(0,gt.jsxs)("span",{children:["Mentenan\u021b\u0103",o?(0,gt.jsxs)("span",{className:"stc-maintenance-count",children:["(",a||0,"/",o,")"]}):(0,gt.jsxs)("span",{className:"stc-maintenance-count",children:["(",a||0,")"]})]})]}),!n&&(0,gt.jsxs)("div",{className:"stc-legend-info",children:[(0,gt.jsx)(Zn,{size:16}),(0,gt.jsx)("span",{children:"Ap\u0103sa\u021bi pe un interval disponibil pentru a marca/demarca mentenan\u021b\u0103"})]})]}),(0,gt.jsxs)("div",{className:"stc-schedule-table-container",children:[t&&(0,gt.jsxs)("div",{className:"stc-loading-overlay",children:[(0,gt.jsx)("div",{className:"stc-loading-spinner"}),(0,gt.jsx)("span",{children:"Se \xeencarc\u0103 programul..."})]}),(0,gt.jsxs)("table",{className:"stc-schedule-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{className:"stc-time-header",children:"Interval Orar"}),this.renderWeekDays()]})}),(0,gt.jsx)("tbody",{children:this.renderTimeSlots()})]})]})]})}}const Rs=Is,Ds=pt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Ls=pt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);class Os extends r.Component{constructor(e){super(e),this.handleGenerateBookings=async()=>{try{this.setState({isGenerating:!0,generationComplete:!1,showDetailedResults:!1});const e=localStorage.getItem("jwtToken");if(!e)throw new Error("Nu sunte\u021bi autentificat. V\u0103 rug\u0103m s\u0103 v\u0103 autentifica\u021bi pentru a continua.");const t=await fetch(`${this.API_BASE_URL}/booking-prioritization/generate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Serverul a r\u0103spuns cu codul: ${t.status}`);const a=await t.json();if(!a.success)throw new Error(a.message||"A ap\u0103rut o eroare la generarea rezerv\u0103rilor.");this.setState({isGenerating:!1,generationComplete:!0,generationSuccess:!0,resultMessage:this.buildSuccessMessage(a),generationResult:a}),this.props.onGenerationComplete&&this.props.onGenerationComplete(!0)}catch(e){console.error("Eroare la generarea rezerv\u0103rilor:",e),this.setState({isGenerating:!1,generationComplete:!0,generationSuccess:!1,resultMessage:`Eroare la generarea rezerv\u0103rilor: ${e.message}`,generationResult:null}),this.props.onGenerationComplete&&this.props.onGenerationComplete(!1,e.message)}},this.buildSuccessMessage=e=>{const{count:t,paymentsCount:a,autoPaymentsSuccessful:n,autoPaymentsFailed:r}=e;let s=`${e.message} Au fost generate ${t} rezerv\u0103ri`;return a>0&&(s+=` cu ${a} pl\u0103\u021bi procesate`,(n>0||r>0)&&(s+=` (${n} pl\u0103\u021bi automate reu\u0219ite`,r>0&&(s+=`, ${r} e\u0219uate`),s+=")")),s+=".",s},this.toggleDetailedResults=()=>{this.setState((e=>({showDetailedResults:!e.showDetailedResults})))},this.handleMessageDismiss=()=>{this.setState({generationComplete:!1,resultMessage:"",generationResult:null,showDetailedResults:!1})},this.renderDetailedResults=()=>{const{generationResult:e}=this.state;if(!e)return null;const{count:t,paymentsCount:a,autoPaymentsSuccessful:n,autoPaymentsFailed:r,reservations:s,payments:i}=e;return(0,gt.jsxs)("div",{className:"bp-detailed-results",children:[(0,gt.jsxs)("div",{className:"bp-results-header",children:[(0,gt.jsx)("h4",{children:"Rezultate detaliate"}),(0,gt.jsx)("button",{className:"bp-close-details",onClick:this.toggleDetailedResults,"aria-label":"\xcenchide detaliile",children:"\xd7"})]}),(0,gt.jsxs)("div",{className:"bp-results-grid",children:[(0,gt.jsxs)("div",{className:"bp-result-card",children:[(0,gt.jsx)("div",{className:"bp-result-icon",children:(0,gt.jsx)(or,{className:"bp-icon-success",size:24})}),(0,gt.jsxs)("div",{className:"bp-result-content",children:[(0,gt.jsx)("h5",{children:"Rezerv\u0103ri generate"}),(0,gt.jsx)("span",{className:"bp-result-value",children:t})]})]}),(0,gt.jsxs)("div",{className:"bp-result-card",children:[(0,gt.jsx)("div",{className:"bp-result-icon",children:(0,gt.jsx)(dr,{className:"bp-icon-info",size:24})}),(0,gt.jsxs)("div",{className:"bp-result-content",children:[(0,gt.jsx)("h5",{children:"Pl\u0103\u021bi procesate"}),(0,gt.jsx)("span",{className:"bp-result-value",children:a})]})]}),(n>0||r>0)&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsxs)("div",{className:"bp-result-card",children:[(0,gt.jsx)("div",{className:"bp-result-icon",children:(0,gt.jsx)(or,{className:"bp-icon-success",size:24})}),(0,gt.jsxs)("div",{className:"bp-result-content",children:[(0,gt.jsx)("h5",{children:"Pl\u0103\u021bi automate reu\u0219ite"}),(0,gt.jsx)("span",{className:"bp-result-value",children:n})]})]}),r>0&&(0,gt.jsxs)("div",{className:"bp-result-card",children:[(0,gt.jsx)("div",{className:"bp-result-icon",children:(0,gt.jsx)(kr,{className:"bp-icon-error",size:24})}),(0,gt.jsxs)("div",{className:"bp-result-content",children:[(0,gt.jsx)("h5",{children:"Pl\u0103\u021bi automate e\u0219uate"}),(0,gt.jsx)("span",{className:"bp-result-value",children:r})]})]})]})]}),r>0&&(0,gt.jsxs)("div",{className:"bp-warning-notice",children:[(0,gt.jsx)(ys,{size:18}),(0,gt.jsx)("span",{children:"Unele pl\u0103\u021bi automate au e\u0219uat. Rezerv\u0103rile respective vor fi pl\u0103tite la fa\u021ba locului."})]}),s&&s.length>0&&(0,gt.jsxs)("div",{className:"bp-reservations-list",children:[(0,gt.jsxs)("h5",{children:["Rezerv\u0103ri generate (",s.length,")"]}),(0,gt.jsx)("div",{className:"bp-reservations-summary",children:this.renderReservationsSummary(s)})]})]})},this.renderReservationsSummary=e=>{const t=e.reduce(((e,t)=>{var a;const n=(null===(a=t.hall)||void 0===a?void 0:a.name)||"Sal\u0103 necunoscut\u0103";return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.entries(t).map((e=>{let[t,a]=e;return(0,gt.jsxs)("div",{className:"bp-hall-summary",children:[(0,gt.jsx)("div",{className:"bp-hall-name",children:t}),(0,gt.jsxs)("div",{className:"bp-hall-count",children:[a.length," rezerv\u0103ri"]})]},t)}))},this.API_BASE_URL="",this.state={isGenerating:!1,generationComplete:!1,generationSuccess:!1,resultMessage:"",generationResult:null,showDetailedResults:!1}}render(){const{isGenerating:e,generationComplete:t,generationSuccess:a,resultMessage:n,generationResult:r,showDetailedResults:s}=this.state;return(0,gt.jsxs)("div",{className:"bp-booking-prioritization",children:[(0,gt.jsxs)("div",{className:"bp-header",children:[(0,gt.jsxs)("div",{className:"bp-info-card",children:[(0,gt.jsx)("div",{className:"bp-info-icon",children:(0,gt.jsx)(Zn,{size:20})}),(0,gt.jsxs)("div",{className:"bp-info-content",children:[(0,gt.jsx)("h3",{children:"Generare automat\u0103 rezerv\u0103ri"}),(0,gt.jsx)("p",{children:"Sistemul va genera automat rezerv\u0103rile pentru s\u0103pt\u0103m\xe2na urm\u0103toare baz\xe2ndu-se pe profilurile de rezervare \u0219i priorit\u0103\u021bile stabilite. Pl\u0103\u021bile vor fi procesate automat pentru profilurile configurate."})]})]}),(0,gt.jsxs)("div",{className:"bp-payment-info",children:[(0,gt.jsxs)("div",{className:"bp-payment-method",children:[(0,gt.jsx)(dr,{size:16}),(0,gt.jsx)("span",{children:"Pl\u0103\u021bi automate pentru profilurile configurate"})]}),(0,gt.jsxs)("div",{className:"bp-payment-method",children:[(0,gt.jsx)(Ds,{size:16}),(0,gt.jsx)("span",{children:"Pl\u0103\u021bi cash pentru celelalte rezerv\u0103ri"})]})]})]}),(0,gt.jsx)("div",{className:"bp-generate-button-container",children:(0,gt.jsx)("button",{className:"bp-generate-button "+(e?"bp-generating":""),onClick:this.handleGenerateBookings,disabled:e,children:e?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"bp-spinner"}),"Se genereaz\u0103 rezerv\u0103rile..."]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(Ls,{size:18}),"Genereaz\u0103 rezerv\u0103rile"]})})}),t&&(0,gt.jsxs)("div",{className:"bp-result-container",children:[(0,gt.jsx)("div",{className:"bp-result-message "+(a?"bp-success":"bp-error"),children:(0,gt.jsxs)("div",{className:"bp-result-main",children:[(0,gt.jsx)("div",{className:"bp-result-icon",children:a?(0,gt.jsx)(or,{size:20}):(0,gt.jsx)(kr,{size:20})}),(0,gt.jsx)("span",{className:"bp-result-text",children:n}),(0,gt.jsxs)("div",{className:"bp-result-actions",children:[a&&r&&(0,gt.jsx)("button",{className:"bp-details-button",onClick:this.toggleDetailedResults,children:s?"Ascunde detaliile":"Vezi detaliile"}),(0,gt.jsx)("button",{className:"bp-dismiss-button",onClick:this.handleMessageDismiss,children:"\xcenchide"})]})]})}),s&&this.renderDetailedResults()]})]})}}const Fs=Os;class Ms extends r.Component{constructor(e){super(e),this.fetchFcfsStatus=async()=>{try{this.setState({fcfsInitialLoading:!0});const e=localStorage.getItem("jwtToken");if(!e)return void this.setState({fcfsError:"Nu sunte\u021bi autentificat"});const t=await fetch(`${this.API_BASE_URL}/admin/fcfs-status`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Eroare la \xeenc\u0103rcarea statusului: ${t.status}`);{const e=await t.json();this.setState({fcfsEnabled:e.fcfsEnabled,fcfsMessage:e.message,fcfsError:""})}}catch(e){console.error("Eroare la \xeenc\u0103rcarea statusului FCFS:",e),this.setState({fcfsError:"Eroare la \xeenc\u0103rcarea statusului FCFS"})}finally{this.setState({fcfsInitialLoading:!1})}},this.toggleFcfs=async()=>{try{this.setState({fcfsToggling:!0,fcfsError:""});const e=localStorage.getItem("jwtToken");if(!e)return void this.setState({fcfsError:"Nu sunte\u021bi autentificat"});const t=await fetch(`${this.API_BASE_URL}/admin/fcfs-toggle`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.error||`Eroare la actualizarea statusului: ${t.status}`)}{const e=await t.json();this.setState({fcfsEnabled:e.fcfsEnabled,fcfsMessage:e.message,fcfsError:""}),setTimeout((()=>{this.setState({fcfsMessage:""})}),4e3)}}catch(e){console.error("Eroare la schimbarea statusului FCFS:",e),this.setState({fcfsError:e.message||"Eroare la schimbarea statusului FCFS"})}finally{this.setState({fcfsToggling:!1})}},this.fetchAllHalls=async()=>{try{const e=localStorage.getItem("jwtToken");if(!e)return void this.setState({error:"Nu sunte\u021bi autentificat corect",initialLoading:!1,halls:[]});const t=await fetch(`${this.API_BASE_URL}/sportsHalls`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Eroare la \xeenc\u0103rcarea s\u0103lilor: ${t.status}`);const a=await t.json(),n=[...new Set(a.map((e=>e.city)))];n.sort();const r=a.length>0?a[0].id:null;this.setState({halls:a,filteredHalls:a,cities:n,selectedHallId:r,initialLoading:!1,currentWeekStart:this.getStartOfWeek(new Date)},(()=>{r&&this.fetchSchedule(r,this.state.currentWeekStart)}))}catch(e){console.error("Error fetching halls:",e),this.setState({error:e.message,initialLoading:!1,halls:[]})}},this.fetchHallSchedule=async(e,t)=>{try{const a=await fetch(`${this.API_BASE_URL}/schedules/hall/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`Eroare la \xeenc\u0103rcarea programului s\u0103lii: ${a.status}`);return await a.json()}catch(a){return console.error("Error fetching hall schedule:",a),[]}},this.getStartOfWeek=e=>{const t=e.getDay(),a=e.getDate()-t+(0===t?-6:1),n=new Date(e);return n.setDate(a),n.setHours(0,0,0,0),n},this.formatDate=e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`,this.createScheduleWithHallAvailability=(e,t)=>{const a={},n=[{id:"07:00 - 08:30",startTime:"07:00",endTime:"08:30"},{id:"08:30 - 10:00",startTime:"08:30",endTime:"10:00"},{id:"10:00 - 11:30",startTime:"10:00",endTime:"11:30"},{id:"11:30 - 13:00",startTime:"11:30",endTime:"13:00"},{id:"13:00 - 14:30",startTime:"13:00",endTime:"14:30"},{id:"14:30 - 16:00",startTime:"14:30",endTime:"16:00"},{id:"16:00 - 17:30",startTime:"16:00",endTime:"17:30"},{id:"17:30 - 19:00",startTime:"17:30",endTime:"19:00"},{id:"19:00 - 20:30",startTime:"19:00",endTime:"20:30"},{id:"20:30 - 22:00",startTime:"20:30",endTime:"22:00"},{id:"22:00 - 23:30",startTime:"22:00",endTime:"23:30"}];for(let r=0;r<7;r++){const s=new Date(e);s.setDate(s.getDate()+r);const i=this.formatDate(s),l=s.getDay(),o=0===l?7:l;a[i]={};const c=t.find((e=>e.dayOfWeek===o));n.forEach((e=>{c&&c.isActive&&this.isSlotInWorkingHours(e,c.startTime,c.endTime)?a[i][e.id]="available":a[i][e.id]="unavailable"}))}return a},this.isSlotInWorkingHours=(e,t,a)=>{const n=this.timeToMinutes(e.startTime),r=this.timeToMinutes(e.endTime),s=this.timeToMinutes(t),i=this.timeToMinutes(a);return n>=s&&r<=i},this.timeToMinutes=e=>{const[t,a]=e.split(":").map(Number);return 60*t+a},this.fetchSchedule=async(e,t)=>{try{this.setState({tableLoading:!0});const a=localStorage.getItem("jwtToken");if(!a)throw new Error("Nu sunte\u021bi autentificat corect");const n=this.formatDate(t),r=new Date(t);r.setDate(r.getDate()+6);this.formatDate(r);const[s,i,l]=await Promise.all([this.fetchHallSchedule(e,a),this.fetchMaintenanceReservations(e,n,a),this.fetchBookingReservations(e,t,a)]),o=this.createScheduleWithHallAvailability(t,s),c=[];i.forEach((e=>{const t=this.formatDate(new Date(e.date)),a=e.timeSlot;o[t]&&"available"===o[t][a]&&(o[t][a]="maintenance",c.push({id:e.id,date:t,timeSlot:a}))})),l.forEach((e=>{const t=this.formatDate(new Date(e.date)),a=e.timeSlot;o[t]&&"available"===o[t][a]&&(o[t][a]="booked")}));let u=0;Object.values(o).forEach((e=>{Object.values(e).forEach((e=>{"maintenance"===e&&u++}))}));const d=await this.enhanceReservationsWithDetails(l,a);this.setState({schedule:o,maintenanceCount:u,originalMaintenanceSlots:c,changedMaintenanceSlots:[],tableLoading:!1,reservations:d})}catch(a){console.error("Error fetching schedule:",a),this.setState({error:"Eroare la \xeenc\u0103rcarea programului",tableLoading:!1})}},this.enhanceReservationsWithDetails=async(e,t)=>e.map((e=>(e.user&&(e.user.teamName=e.user.teamName||e.user.name||"Echip\u0103 nespecificat\u0103",e.profileName="Profil "+(e.user.teamType||"Standard")),e))),this.fetchMaintenanceReservations=async(e,t,a)=>{const n=await fetch(`${this.API_BASE_URL}/reservations/maintenance/week?hallId=${e}&weekStart=${t}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}});if(!n.ok)throw new Error(`Eroare la \xeenc\u0103rcarea intervalelor de mentenan\u021b\u0103: ${n.status}`);return n.json()},this.fetchBookingReservations=async(e,t,a)=>{const n=[];for(let s=0;s<7;s++){const e=new Date(t);e.setDate(e.getDate()+s),n.push(this.formatDate(e))}const r=n.map((t=>fetch(`${this.API_BASE_URL}/reservations?hallId=${e}&date=${t}&type=reservation`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}).then((e=>{if(!e.ok)throw new Error(`Eroare la \xeenc\u0103rcarea rezerv\u0103rilor: ${e.status}`);return e.json()}))));return(await Promise.all(r)).flat()},this.handleHallChange=e=>{const t=e.target.value;this.setState({selectedHallId:t,tableLoading:!0,errorMessage:"",successMessage:"",showMessage:!1},(()=>{this.fetchSchedule(t,this.state.currentWeekStart)}))},this.handleCityChange=e=>{const t=e.target.value;let a;a="all"===t?[...this.state.halls]:this.state.halls.filter((e=>e.city===t));const n=a.length>0?a[0].id:null;this.setState({selectedCity:t,filteredHalls:a,selectedHallId:n,tableLoading:!0,errorMessage:"",successMessage:"",showMessage:!1},(()=>{n&&this.fetchSchedule(n,this.state.currentWeekStart)}))},this.handleWeekChange=e=>{this.setState({currentWeekStart:e,tableLoading:!0,errorMessage:"",successMessage:"",showMessage:!1},(()=>{this.fetchSchedule(this.state.selectedHallId,e)}))},this.toggleMaintenanceSlot=(e,t)=>{const a=new Date;a.setHours(0,0,0,0);const n=new Date(e);n.setHours(0,0,0,0),n<=a?this.setState({errorMessage:"Nu pute\u021bi marca mentenan\u021b\u0103 pentru ziua curent\u0103 sau pentru zile din trecut",showMessage:!0}):this.setState((a=>{if(!a.schedule[e]||!a.schedule[e][t])return{errorMessage:"Eroare: intervalul orar nu a fost g\u0103sit \xeen program",showMessage:!0};const n=a.schedule[e][t];if("unavailable"===n)return{errorMessage:"Nu pute\u021bi marca pentru mentenan\u021b\u0103 un interval \xeen afara orelor de func\u021bionare ale s\u0103lii",showMessage:!0};if("booked"===n)return{errorMessage:"Nu pute\u021bi marca pentru mentenan\u021b\u0103 un interval deja rezervat",showMessage:!0};const r=JSON.parse(JSON.stringify(a.schedule));let s=a.maintenanceCount,i=[...a.changedMaintenanceSlots];return"maintenance"===n?this.handleRemoveMaintenance(r,s,i,e,t,a.originalMaintenanceSlots):this.handleAddMaintenance(r,s,i,e,t,a.originalMaintenanceSlots)}))},this.handleRemoveMaintenance=(e,t,a,n,r,s)=>{e[n][r]="available",t--;const i=a.findIndex((e=>e.date===n&&e.timeSlot===r)),l=s.findIndex((e=>e.date===n&&e.timeSlot===r));return-1!==i?-1!==l?(a[i].action="delete",a[i].id=s[l].id):a.splice(i,1):-1!==l&&a.push({date:n,timeSlot:r,id:s[l].id,action:"delete"}),{schedule:e,maintenanceCount:t,changedMaintenanceSlots:a,errorMessage:"",showMessage:!1}},this.handleAddMaintenance=(e,t,a,n,r,s)=>{e[n][r]="maintenance",t++;const i=a.findIndex((e=>e.date===n&&e.timeSlot===r)),l=s.findIndex((e=>e.date===n&&e.timeSlot===r));return-1!==i?-1!==l&&"delete"===a[i].action?a.splice(i,1):a[i].action="add":-1===l&&a.push({date:n,timeSlot:r,action:"add"}),{schedule:e,maintenanceCount:t,changedMaintenanceSlots:a,errorMessage:"",showMessage:!1}},this.saveMaintenance=async()=>{try{const{changedMaintenanceSlots:e,selectedHallId:t}=this.state,a=localStorage.getItem("jwtToken");if(!a)throw new Error("Nu sunte\u021bi autentificat corect");if(0===e.length)return void this.showTemporaryMessage("Nu exist\u0103 modific\u0103ri de mentenan\u021b\u0103 de salvat",!0);this.setState({savingMaintenance:!0}),await Promise.all([...this.processAddMaintenanceSlots(e,t,a),...this.processDeleteMaintenanceSlots(e,a)]),await this.fetchSchedule(t,this.state.currentWeekStart),this.showTemporaryMessage("Intervalele de mentenan\u021b\u0103 au fost salvate cu succes!",!0),this.setState({savingMaintenance:!1})}catch(e){console.error("Error saving maintenance slots:",e),this.setState({errorMessage:`A ap\u0103rut o eroare la salvarea intervalelor de mentenan\u021b\u0103: ${e.message}`,showMessage:!0,savingMaintenance:!1})}},this.showTemporaryMessage=(e,t)=>{this.setState({successMessage:t?e:"",errorMessage:t?"":e,showMessage:!0}),setTimeout((()=>{this.setState({showMessage:!1})}),3e3)},this.processAddMaintenanceSlots=(e,t,a)=>e.filter((e=>"add"===e.action)).map((e=>{const n=e.date.split("-"),r=new Date(n[0],n[1]-1,n[2]),s={hall:{id:t},user:null,date:r,timeSlot:e.timeSlot,price:null,type:"maintenance"};return fetch(`${this.API_BASE_URL}/reservations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)})})),this.processDeleteMaintenanceSlots=(e,t)=>e.filter((e=>"delete"===e.action&&e.id)).map((e=>fetch(`${this.API_BASE_URL}/reservations/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}))),this.handleGenerationComplete=(e,t)=>{e?(this.showTemporaryMessage("Rezerv\u0103rile au fost generate cu succes.",!0),this.fetchSchedule(this.state.selectedHallId,this.state.currentWeekStart)):this.showTemporaryMessage(`Eroare la generarea rezerv\u0103rilor: ${t||"Eroare necunoscut\u0103"}`,!1)},this.renderFcfsControl=()=>{const{fcfsEnabled:e,fcfsInitialLoading:t,fcfsMessage:a,fcfsError:n,fcfsToggling:r}=this.state;return t?(0,gt.jsx)("div",{className:"vhsp-fcfs-control loading",children:(0,gt.jsxs)("div",{className:"vhsp-fcfs-loading",children:[(0,gt.jsx)(ks,{className:"vhsp-spinner",size:20}),(0,gt.jsx)("span",{children:"Se \xeencarc\u0103..."})]})}):(0,gt.jsxs)("div",{className:"vhsp-fcfs-control",children:[(0,gt.jsxs)("div",{className:"vhsp-fcfs-header",children:[(0,gt.jsx)("div",{className:"vhsp-fcfs-icon-wrapper",children:e?(0,gt.jsx)(Cs,{className:"vhsp-fcfs-icon active",size:20}):(0,gt.jsx)(Es,{className:"vhsp-fcfs-icon inactive",size:20})}),(0,gt.jsxs)("div",{className:"vhsp-fcfs-info",children:[(0,gt.jsx)("h4",{children:"Control FCFS"}),(0,gt.jsx)("span",{className:"vhsp-fcfs-subtitle",children:"Rezervarea locurilor r\u0103mase"})]})]}),(0,gt.jsxs)("div",{className:"vhsp-fcfs-status",children:[(0,gt.jsx)("div",{className:"vhsp-status-indicator "+(e?"active":"inactive"),children:e?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(or,{size:16}),(0,gt.jsx)("span",{children:"Activat"})]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(kr,{size:16}),(0,gt.jsx)("span",{children:"Dezactivat"})]})}),(0,gt.jsx)("button",{onClick:this.toggleFcfs,disabled:r,className:"vhsp-fcfs-toggle-button "+(e?"active":"inactive"),children:r?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(ks,{className:"vhsp-spinner-small",size:14}),(0,gt.jsx)("span",{children:"Se actualizeaz\u0103..."})]}):(0,gt.jsxs)(gt.Fragment,{children:[e?(0,gt.jsx)(zs,{size:14}):(0,gt.jsx)(Ps,{size:14}),(0,gt.jsx)("span",{children:e?"Dezactiveaz\u0103":"Activeaz\u0103"})]})})]}),a&&(0,gt.jsxs)("div",{className:"vhsp-fcfs-message success",children:[(0,gt.jsx)(or,{size:14}),(0,gt.jsx)("span",{children:a})]}),n&&(0,gt.jsxs)("div",{className:"vhsp-fcfs-message error",children:[(0,gt.jsx)(kr,{size:14}),(0,gt.jsx)("span",{children:n})]})]})},this.API_BASE_URL="",this.state={halls:[],filteredHalls:[],cities:[],selectedHallId:null,selectedCity:"all",currentWeekStart:null,schedule:{},maintenanceCount:0,originalMaintenanceSlots:[],changedMaintenanceSlots:[],initialLoading:!0,tableLoading:!1,error:null,successMessage:"",errorMessage:"",showMessage:!1,savingMaintenance:!1,maxMaintenanceSlots:null,reservations:[],fcfsEnabled:!0,fcfsLoading:!1,fcfsInitialLoading:!0,fcfsMessage:"",fcfsError:"",fcfsToggling:!1}}async componentDidMount(){await Promise.all([this.fetchAllHalls(),this.fetchFcfsStatus()])}render(){const{halls:e,filteredHalls:t,cities:a,selectedCity:n,selectedHallId:r,currentWeekStart:s,initialLoading:i,tableLoading:l,error:o,schedule:c,maintenanceCount:u,changedMaintenanceSlots:d,successMessage:m,errorMessage:h,showMessage:p,savingMaintenance:f,reservations:g}=this.state;if(i)return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Vizualizarea programului s\u0103lilor"}),(0,gt.jsx)("div",{className:"global-admin-page-content",children:(0,gt.jsx)("div",{className:"vhsp-loading-container",children:"Se \xeencarc\u0103 s\u0103lile..."})})]});if(o&&0===e.length)return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Vizualizarea programului s\u0103lilor"}),(0,gt.jsx)("div",{className:"global-admin-page-content",children:(0,gt.jsxs)("div",{className:"vhsp-error-container",children:["Eroare: ",o]})})]});const v=t.find((e=>e.id===parseInt(r))),x=d.length>0;return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Vizualizarea programului s\u0103lilor"}),(0,gt.jsx)("div",{className:"global-admin-page-content",children:0===e.length?(0,gt.jsx)("div",{className:"vhsp-empty-state",children:(0,gt.jsx)("p",{children:"Nu exist\u0103 s\u0103li de sport \xeen baza de date."})}):(0,gt.jsxs)(gt.Fragment,{children:[p&&(m||h)&&(0,gt.jsx)("div",{className:"vhsp-notification-message "+(m?"vhsp-success":"vhsp-error"),children:m||h}),(0,gt.jsx)("div",{className:"vhsp-fcfs-section",children:this.renderFcfsControl()}),(0,gt.jsx)(Fs,{onGenerationComplete:this.handleGenerationComplete}),(0,gt.jsx)("div",{className:"vhsp-filters",children:(0,gt.jsxs)("div",{className:"vhsp-city-filter",children:[(0,gt.jsxs)("label",{htmlFor:"city-select",children:[(0,gt.jsx)(Ts,{size:16,className:"vhsp-filter-icon"}),"Filtreaz\u0103 dup\u0103 ora\u0219:"]}),(0,gt.jsxs)("select",{id:"city-select",value:n,onChange:this.handleCityChange,className:"vhsp-city-select-input",children:[(0,gt.jsx)("option",{value:"all",children:"Toate ora\u0219ele"}),a.map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]})]})}),(0,gt.jsxs)("div",{className:"vhsp-schedule-controls",children:[(0,gt.jsxs)("div",{className:"vhsp-hall-selector",children:[(0,gt.jsx)("label",{htmlFor:"hall-select",children:"Selecta\u021bi sala:"}),(0,gt.jsx)("select",{id:"hall-select",value:r||"",onChange:this.handleHallChange,className:"vhsp-hall-select-input",children:t.map((e=>(0,gt.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),v&&(0,gt.jsxs)("div",{className:"vhsp-selected-hall-info",children:[(0,gt.jsx)("span",{className:"vhsp-selected-hall-name",children:v.name}),(0,gt.jsxs)("span",{className:"vhsp-selected-hall-location",children:[v.city,", ",v.county]})]})]}),(0,gt.jsx)(Rs,{schedule:c,tableLoading:l,maintenanceCount:u,maxMaintenanceSlots:null,onToggleMaintenance:this.toggleMaintenanceSlot,onWeekChange:this.handleWeekChange,isPastDateBlocked:!0,initialWeekStart:s,restrictPastNavigation:!0,restrictFutureNavigation:!0,maxFutureWeeks:8,isReadOnly:!1,showWeekNavigation:!0,reservations:g}),(0,gt.jsxs)("div",{className:"vhsp-schedule-actions",children:[(0,gt.jsx)("div",{className:"vhsp-maintenance-info",children:x&&(0,gt.jsxs)("div",{className:"vhsp-maintenance-changes-pending",children:[(0,gt.jsx)(Zn,{size:16}),(0,gt.jsx)("span",{children:"Ave\u021bi modific\u0103ri nesalvate la intervalele de mentenan\u021b\u0103"})]})}),(0,gt.jsx)("div",{className:"vhsp-action-buttons",children:(0,gt.jsx)("button",{className:"vhsp-maintenance-button",onClick:this.saveMaintenance,disabled:f||!x,children:f?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"vhsp-button-spinner"}),"Se salveaz\u0103..."]}):(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(As,{size:16}),"Salveaz\u0103 mentenan\u021b\u0103"]})})})]})]})})]})}}const _s=Ms,$s=e=>{let{isOpen:t,onClose:a,onUserCreated:n,userType:s="user",title:i="Creare utilizator nou",API_URL:l,getAuthHeader:o}=e;const[c,u]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:"",address:"",city:"",county:"",birthDate:"",userType:s}),[d,m]=(0,r.useState)({}),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(!1);if(!t)return null;const v=e=>{const{name:t,value:a}=e.target;u((e=>({...e,[t]:a}))),m((e=>({...e,[t]:!1}))),p("")};return(0,gt.jsx)("div",{className:"admin-modal-overlay",onClick:a,children:(0,gt.jsxs)("div",{className:"admin-modal-content",onClick:e=>e.stopPropagation(),children:[(0,gt.jsxs)("div",{className:"admin-modal-header",children:[(0,gt.jsx)("h3",{className:"admin-modal-title",children:i}),(0,gt.jsx)("button",{className:"admin-modal-close",onClick:a,children:"\xd7"})]}),(0,gt.jsx)("div",{className:"admin-modal-body",children:(0,gt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={};var r;if(c.name||(t.name=!0),c.email?(r=c.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(t.email=!0,p("Email-ul nu este valid!"))):t.email=!0,c.password||(t.password=!0),c.confirmPassword||(t.confirmPassword=!0),c.password!==c.confirmPassword&&(t.confirmPassword=!0,p("Parolele nu coincid!")),c.address||(t.address=!0),c.city||(t.city=!0),c.county||(t.county=!0),c.birthDate||(t.birthDate=!0),Object.keys(t).length>0)return m(t),void(h||p("Completa\u021bi toate c\xe2mpurile obligatorii!"));const i={name:c.name,email:c.email,password:c.password,address:c.address,county:c.county,city:c.city,userType:c.userType};c.birthDate&&(i.birthDate=new Date(c.birthDate).toISOString()),g(!0);try{const e=await Bn.post(`${l}/users`,i,o());e.data&&(n(e.data),a(),alert(("hall_admin"===s?"Administratorul de sal\u0103":"Utilizatorul")+" a fost creat cu succes!"))}catch(v){var u,d,f;console.error("Error creating user:",v),409===(null===(u=v.response)||void 0===u?void 0:u.status)?p("Acest email este deja folosit de un alt utilizator!"):400===(null===(d=v.response)||void 0===d?void 0:d.status)?p(v.response.data.message||"Date invalide. Verifica\u021bi toate c\xe2mpurile!"):403===(null===(f=v.response)||void 0===f?void 0:f.status)?p("Nu ave\u021bi permisiunea de a crea utilizatori!"):p("A ap\u0103rut o eroare la crearea utilizatorului. \xcencerca\u021bi din nou.")}finally{g(!1)}},className:"admin-form",children:[(0,gt.jsxs)("div",{className:"form-group "+(d.name?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"name",children:"Nume:"}),(0,gt.jsx)("input",{type:"text",id:"name",name:"name",value:c.name,onChange:v,required:!0})]}),(0,gt.jsxs)("div",{className:"form-group "+(d.email?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,gt.jsx)("input",{type:"email",id:"email",name:"email",value:c.email,onChange:v,required:!0})]}),(0,gt.jsxs)("div",{className:"form-row",children:[(0,gt.jsxs)("div",{className:"form-group "+(d.password?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"password",children:"Parol\u0103:"}),(0,gt.jsx)("input",{type:"password",id:"password",name:"password",value:c.password,onChange:v,required:!0})]}),(0,gt.jsxs)("div",{className:"form-group "+(d.confirmPassword?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"confirmPassword",children:"Confirmare parol\u0103:"}),(0,gt.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:v,required:!0})]})]}),(0,gt.jsxs)("div",{className:"form-group "+(d.birthDate?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"birthDate",children:"Data na\u0219terii:"}),(0,gt.jsx)("input",{type:"date",id:"birthDate",name:"birthDate",value:c.birthDate,onChange:v,className:"date-input",required:!0})]}),(0,gt.jsxs)("div",{className:"form-group "+(d.address?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"address",children:"Adres\u0103:"}),(0,gt.jsx)("input",{type:"text",id:"address",name:"address",value:c.address,onChange:v,required:!0})]}),(0,gt.jsxs)("div",{className:"form-row",children:[(0,gt.jsxs)("div",{className:"form-group "+(d.city?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"city",children:"Ora\u0219:"}),(0,gt.jsx)("input",{type:"text",id:"city",name:"city",value:c.city,onChange:v,required:!0})]}),(0,gt.jsxs)("div",{className:"form-group "+(d.county?"form-group-error":""),children:[(0,gt.jsx)("label",{htmlFor:"county",children:"Jude\u021b:"}),(0,gt.jsx)("input",{type:"text",id:"county",name:"county",value:c.county,onChange:v,required:!0})]})]}),h&&(0,gt.jsx)("div",{className:"form-error-message",children:h}),(0,gt.jsxs)("div",{className:"admin-modal-footer",children:[(0,gt.jsx)("button",{type:"button",className:"admin-button cancel",onClick:a,children:"Anuleaz\u0103"}),(0,gt.jsx)("button",{type:"submit",className:"admin-button save",disabled:f,children:f?"Se creeaz\u0103...":"Creeaz\u0103 utilizator"})]})]})})]})})},Bs=e=>{let{isOpen:t,onClose:a,userId:n,userName:s,API_URL:i,getAuthHeader:l}=e;const[o,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)({name:"",ageCategory:"",timeInterval:"",weeklyBudget:"",city:""}),b=async()=>{if(n){d(!0),h(null);try{const e=await fetch(`${i}/reservationProfiles?userId=${n}`,{method:"GET",...l()});if(!e.ok)throw new Error(`Eroare la \xeenc\u0103rcarea profilurilor: ${e.status}`);const t=await e.json();c(t)}catch(e){console.error("Error fetching reservation profiles:",e),h("Nu s-au putut \xeenc\u0103rca profilurile de rezervare")}finally{d(!1)}}};(0,r.useEffect)((()=>{t&&n&&b()}),[t,n]),(0,r.useEffect)((()=>{t||(c([]),f(null),v(!1),h(null))}),[t]);const j=()=>{v(!1),f(null),y({name:"",ageCategory:"",timeInterval:"",weeklyBudget:"",city:""})},N=e=>{const{name:t,value:a}=e.target;y((e=>({...e,[t]:a})))},w=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("ro-RO")}catch{return"N/A"}};return t?(0,gt.jsx)("div",{className:"rp-modal-overlay",onClick:a,children:(0,gt.jsxs)("div",{className:"rp-modal",onClick:e=>e.stopPropagation(),children:[(0,gt.jsxs)("div",{className:"rp-modal-header",children:[(0,gt.jsxs)("h3",{className:"rp-modal-title",children:["Profiluri de rezervare - ",s]}),(0,gt.jsx)("button",{className:"rp-modal-close",onClick:a,children:"\xd7"})]}),(0,gt.jsxs)("div",{className:"rp-modal-body",children:[u&&(0,gt.jsx)("div",{className:"rp-loading",children:"Se \xeencarc\u0103 profilurile de rezervare..."}),m&&(0,gt.jsx)("div",{className:"rp-error",children:m}),!u&&!m&&0===o.length&&(0,gt.jsx)("div",{className:"rp-empty",children:(0,gt.jsx)("p",{children:"Acest utilizator nu are profiluri de rezervare create."})}),!u&&!m&&o.length>0&&(0,gt.jsx)("div",{className:"rp-profiles-container",children:g?(0,gt.jsxs)("div",{className:"rp-edit-form",children:[(0,gt.jsxs)("h4",{children:["Editare profil: ",p.name]}),(0,gt.jsxs)("div",{className:"rp-form-grid",children:[(0,gt.jsxs)("div",{className:"rp-form-group",children:[(0,gt.jsx)("label",{htmlFor:"name",children:"Nume profil:"}),(0,gt.jsx)("input",{type:"text",id:"name",name:"name",value:x.name,onChange:N,required:!0,placeholder:"Ex: Echipa Juniori"})]}),(0,gt.jsxs)("div",{className:"rp-form-group",children:[(0,gt.jsx)("label",{htmlFor:"ageCategory",children:"Categorie v\xe2rst\u0103:"}),(0,gt.jsxs)("select",{id:"ageCategory",name:"ageCategory",value:x.ageCategory,onChange:N,required:!0,className:"rp-select",children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 categoria"}),(0,gt.jsx)("option",{value:"0-14",children:"0-14 ani"}),(0,gt.jsx)("option",{value:"15-16",children:"15-16 ani"}),(0,gt.jsx)("option",{value:"17-18",children:"17-18 ani"}),(0,gt.jsx)("option",{value:"seniori",children:"Seniori"})]})]}),(0,gt.jsxs)("div",{className:"rp-form-group",children:[(0,gt.jsx)("label",{htmlFor:"timeInterval",children:"Interval orar preferat:"}),(0,gt.jsxs)("select",{id:"timeInterval",name:"timeInterval",value:x.timeInterval,onChange:N,required:!0,className:"rp-select",children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 intervalul"}),(0,gt.jsx)("option",{value:"7-14:30",children:"7:00 - 14:30"}),(0,gt.jsx)("option",{value:"14:30-23:30",children:"14:30 - 23:30"}),(0,gt.jsx)("option",{value:"toata_ziua",children:"Toat\u0103 ziua"})]})]}),(0,gt.jsxs)("div",{className:"rp-form-group",children:[(0,gt.jsx)("label",{htmlFor:"weeklyBudget",children:"Buget s\u0103pt\u0103m\xe2nal (RON):"}),(0,gt.jsx)("input",{type:"number",id:"weeklyBudget",name:"weeklyBudget",value:x.weeklyBudget,onChange:N,min:"0",step:"0.01",placeholder:"Ex: 200.00"})]}),(0,gt.jsxs)("div",{className:"rp-form-group rp-full-width",children:[(0,gt.jsx)("label",{htmlFor:"city",children:"Ora\u0219 preferat:"}),(0,gt.jsx)("input",{type:"text",id:"city",name:"city",value:x.city,onChange:N,required:!0,placeholder:"Ex: Cluj-Napoca"})]})]}),(0,gt.jsxs)("div",{className:"rp-edit-actions",children:[(0,gt.jsx)("button",{className:"rp-btn rp-btn-cancel",onClick:j,children:"Anuleaz\u0103"}),(0,gt.jsx)("button",{className:"rp-btn rp-btn-save",onClick:async()=>{if(p)try{const e=await fetch(`${i}/reservationProfiles/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...l().headers},body:JSON.stringify(x)});if(!e.ok)throw new Error(`Eroare la salvarea profilului: ${e.status}`);await b(),j()}catch(e){console.error("Error saving profile:",e),h("Nu s-a putut salva profilul")}},children:"Salveaz\u0103 modific\u0103rile"})]})]}):(0,gt.jsx)("div",{className:"rp-profiles-list",children:o.map((e=>(0,gt.jsxs)("div",{className:"rp-profile-card",children:[(0,gt.jsxs)("div",{className:"rp-profile-header",children:[(0,gt.jsx)("h4",{className:"rp-profile-name",children:e.name}),(0,gt.jsxs)("div",{className:"rp-profile-actions",children:[(0,gt.jsx)("button",{className:"rp-btn rp-btn-edit",onClick:()=>(e=>{f(e),v(!0),y({name:e.name||"",ageCategory:e.ageCategory||"",timeInterval:e.timeInterval||"",weeklyBudget:e.weeklyBudget||"",city:e.city||""})})(e),children:"Editeaz\u0103"}),(0,gt.jsx)("button",{className:"rp-btn rp-btn-delete",onClick:()=>(async(e,t)=>{if(window.confirm(`Sunte\u021bi sigur c\u0103 dori\u021bi s\u0103 \u0219terge\u021bi profilul "${t}"?`))try{const t=await fetch(`${i}/reservationProfiles/${e}`,{method:"DELETE",...l()});if(!t.ok)throw new Error(`Eroare la \u0219tergerea profilului: ${t.status}`);await b()}catch(a){console.error("Error deleting profile:",a),h("Nu s-a putut \u0219terge profilul")}})(e.id,e.name),children:"\u0218terge"})]})]}),(0,gt.jsxs)("div",{className:"rp-profile-details",children:[(0,gt.jsxs)("div",{className:"rp-profile-row",children:[(0,gt.jsx)("span",{className:"rp-label",children:"Categorie v\xe2rst\u0103:"}),(0,gt.jsx)("span",{className:"rp-value",children:e.ageCategory||"N/A"})]}),(0,gt.jsxs)("div",{className:"rp-profile-row",children:[(0,gt.jsx)("span",{className:"rp-label",children:"Interval orar:"}),(0,gt.jsx)("span",{className:"rp-value",children:e.timeInterval||"N/A"})]}),(0,gt.jsxs)("div",{className:"rp-profile-row",children:[(0,gt.jsx)("span",{className:"rp-label",children:"Buget s\u0103pt\u0103m\xe2nal:"}),(0,gt.jsx)("span",{className:"rp-value",children:e.weeklyBudget?`${e.weeklyBudget} RON`:"N/A"})]}),(0,gt.jsxs)("div",{className:"rp-profile-row",children:[(0,gt.jsx)("span",{className:"rp-label",children:"Ora\u0219:"}),(0,gt.jsx)("span",{className:"rp-value",children:e.city||"N/A"})]}),(0,gt.jsxs)("div",{className:"rp-profile-row",children:[(0,gt.jsx)("span",{className:"rp-label",children:"S\u0103li selectate:"}),(0,gt.jsx)("span",{className:"rp-value",children:e.selectedHalls&&e.selectedHalls.length>0?`${e.selectedHalls.length} s\u0103li`:"Nicio sal\u0103 selectat\u0103"})]}),(0,gt.jsxs)("div",{className:"rp-profile-row",children:[(0,gt.jsx)("span",{className:"rp-label",children:"Creat la:"}),(0,gt.jsx)("span",{className:"rp-value",children:w(e.createdAt)})]})]})]},e.id)))})})]}),(0,gt.jsx)("div",{className:"rp-modal-footer",children:(0,gt.jsx)("button",{className:"rp-btn rp-btn-close",onClick:a,children:"\xcenchide"})})]})}):null},Us=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)("active"),[v,x]=(0,r.useState)([]),[y,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)({name:"",email:"",address:"",city:"",county:"",userType:""}),[w,S]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[E,z]=(0,r.useState)(!1),P="",T=()=>{const e=localStorage.getItem("jwtToken");return e?(console.log("Token g\u0103sit:",e.substring(0,15)+"..."),{headers:{Authorization:`Bearer ${e}`}}):(console.log("Nu s-a g\u0103sit token-ul JWT"),{})};(0,r.useEffect)((()=>{(async()=>{i(!0);try{console.log("\xcencarc\u0103 lista de utilizatori...");const e=await Bn.get("/users",T());console.log("Response data:",e.data),t(e.data);const a=e.data.filter((e=>null===e.accountStatus||"verified"===e.accountStatus));n(a);const r=[...new Set(e.data.map((e=>e.city)).filter((e=>e)))];x(r.sort()),o(null)}catch(r){var e,a;console.error("Error fetching users:",r),r.response&&(console.error("Response status:",r.response.status),console.error("Response data:",r.response.data)),403===(null===(e=r.response)||void 0===e?void 0:e.status)?o("Acces interzis. V\u0103 rug\u0103m s\u0103 verifica\u021bi c\u0103 ave\u021bi drepturi de administrator."):401===(null===(a=r.response)||void 0===a?void 0:a.status)?o("Sesiunea a expirat. V\u0103 rug\u0103m s\u0103 v\u0103 autentifica\u021bi din nou."):o("Nu s-au putut \xeenc\u0103rca datele. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}finally{i(!1)}})()}),[]),(0,r.useEffect)((()=>{let t=[...e];"active"===f?t=t.filter((e=>null===e.accountStatus||"verified"===e.accountStatus)):"suspended"===f&&(t=t.filter((e=>"suspended"===e.accountStatus))),h&&(t=t.filter((e=>e.city===h))),n(t)}),[f,h,e]);const A=()=>{m(!1),u(null),b(!1)},I=e=>{const{name:t,value:a}=e.target;N((e=>({...e,[t]:a})))},R=e=>{t((t=>[...t,e]));const a=null===e.accountStatus||"verified"===e.accountStatus,r="active"===f&&a||"suspended"===f&&"suspended"===e.accountStatus||"all"===f,s=!h||e.city===h;r&&s&&n((t=>[...t,e])),e.city&&!v.includes(e.city)&&x((t=>[...t,e.city].sort()))},D=e=>{switch(e){case"admin":return"Administrator";case"hall_admin":return"Administrator sal\u0103";case"user":return"Utilizator";default:return e||"Nedefinit"}},L=e=>{switch(e){case"verified":return"Verificat";case"suspended":return"Suspendat";case"pending":return"\xcen a\u0219teptare";case"rejected":return"Respins";default:return"Activ"}};return(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Gestiunea utilizatorilor"}),(0,gt.jsxs)("div",{className:"admin-actions-bar",children:[(0,gt.jsxs)("button",{className:"admin-action-button create-user",onClick:()=>S(!0),children:[(0,gt.jsx)("span",{className:"action-icon",children:"+"})," Creeaz\u0103 utilizator nou"]}),(0,gt.jsxs)("button",{className:"admin-action-button create-hall-admin",onClick:()=>C(!0),children:[(0,gt.jsx)("span",{className:"action-icon",children:"+"})," Creeaz\u0103 administrator sal\u0103"]})]}),(0,gt.jsxs)("div",{className:"user-filters",children:[(0,gt.jsxs)("div",{className:"filters-left",children:[(0,gt.jsxs)("div",{className:"status-filter",children:[(0,gt.jsx)("label",{htmlFor:"status-select",children:"Status:"}),(0,gt.jsxs)("select",{id:"status-select",value:f,onChange:e=>g(e.target.value),className:"status-select",children:[(0,gt.jsx)("option",{value:"active",children:"Utilizatori activi"}),(0,gt.jsx)("option",{value:"suspended",children:"Utilizatori suspenda\u021bi"}),(0,gt.jsx)("option",{value:"all",children:"To\u021bi utilizatorii"})]})]}),(0,gt.jsxs)("div",{className:"city-filter",children:[(0,gt.jsx)("label",{htmlFor:"city-select",children:"Ora\u0219:"}),(0,gt.jsxs)("select",{id:"city-select",value:h,onChange:e=>p(e.target.value),className:"city-select",children:[(0,gt.jsx)("option",{value:"",children:"Toate ora\u0219ele"}),v.map(((e,t)=>(0,gt.jsx)("option",{value:e,children:e},t)))]})]})]}),(0,gt.jsxs)("div",{className:"filter-stats",children:["Afi\u0219are ",a.length," din ",e.length," utilizatori"]})]}),(0,gt.jsx)("div",{className:"users-table-container",children:s?(0,gt.jsx)("div",{className:"loading-message",children:"Se \xeencarc\u0103..."}):l?(0,gt.jsx)("div",{className:"error-message",children:l}):(0,gt.jsxs)("table",{className:"users-table",children:[(0,gt.jsx)("thead",{children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{children:"Nume"}),(0,gt.jsx)("th",{children:"Email"}),(0,gt.jsx)("th",{children:"Rol"}),(0,gt.jsx)("th",{children:"Ora\u0219"}),(0,gt.jsx)("th",{children:"Status"}),(0,gt.jsx)("th",{children:"Ac\u021biuni"})]})}),(0,gt.jsx)("tbody",{children:a.length>0?a.map((e=>(0,gt.jsxs)("tr",{className:"user-row",children:[(0,gt.jsx)("td",{className:"user-name-cell",children:e.name}),(0,gt.jsx)("td",{className:"user-email-cell",children:e.email}),(0,gt.jsx)("td",{className:"user-type-cell",children:(0,gt.jsx)("span",{className:`user-type-badge user-type-${e.userType||"user"}`,children:D(e.userType)})}),(0,gt.jsx)("td",{className:"user-city-cell",children:e.city||"N/A"}),(0,gt.jsx)("td",{className:"user-status-cell",children:(0,gt.jsx)("span",{className:`user-status-badge user-status-${e.accountStatus||"active"}`,children:L(e.accountStatus)})}),(0,gt.jsx)("td",{className:"user-actions-cell",children:(0,gt.jsx)("button",{className:"view-details-btn",onClick:()=>(e=>{u(e),m(!0),b(!1),N({name:e.name||"",email:e.email||"",address:e.address||"",city:e.city||"",county:e.county||"",userType:e.userType||""})})(e),children:"Detalii"})})]},e.id))):(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:"6",className:"users-empty-row",children:"Nu exist\u0103 utilizatori care s\u0103 corespund\u0103 criteriilor de filtrare."})})})]})}),d&&c&&(0,gt.jsx)("div",{className:"user-modal-overlay",onClick:A,children:(0,gt.jsxs)("div",{className:"user-modal",onClick:e=>e.stopPropagation(),children:[(0,gt.jsxs)("div",{className:"user-modal-header",children:[(0,gt.jsxs)("h3",{className:"user-modal-title",children:[y?"Editare utilizator":"Detalii utilizator",": ",c.name]}),(0,gt.jsx)("button",{className:"user-modal-close",onClick:A,children:"\xd7"})]}),(0,gt.jsx)("div",{className:"user-modal-body",children:y?(0,gt.jsxs)("div",{className:"user-edit-form",children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"name",children:"Nume:"}),(0,gt.jsx)("input",{type:"text",id:"name",name:"name",value:j.name,onChange:I,required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,gt.jsx)("input",{type:"email",id:"email",name:"email",value:j.email,onChange:I,required:!0})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"userType",children:"Rol:"}),(0,gt.jsxs)("select",{id:"userType",name:"userType",value:j.userType,onChange:I,children:[(0,gt.jsx)("option",{value:"user",children:"Utilizator"}),(0,gt.jsx)("option",{value:"hall_admin",children:"Administrator sal\u0103"}),(0,gt.jsx)("option",{value:"admin",children:"Administrator"})]})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"address",children:"Adres\u0103:"}),(0,gt.jsx)("input",{type:"text",id:"address",name:"address",value:j.address,onChange:I})]}),(0,gt.jsxs)("div",{className:"form-row",children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"city",children:"Ora\u0219:"}),(0,gt.jsx)("input",{type:"text",id:"city",name:"city",value:j.city,onChange:I})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"county",children:"Jude\u021b:"}),(0,gt.jsx)("input",{type:"text",id:"county",name:"county",value:j.county,onChange:I})]})]})]}):(0,gt.jsxs)("div",{className:"user-detail-sections",children:[(0,gt.jsxs)("div",{className:"user-detail-section",children:[(0,gt.jsx)("h4",{children:"Informa\u021bii generale"}),(0,gt.jsxs)("div",{className:"user-detail-grid",children:[(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Nume:"}),(0,gt.jsx)("span",{className:"detail-value",children:c.name})]}),(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Email:"}),(0,gt.jsx)("span",{className:"detail-value",children:c.email})]}),(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Rol:"}),(0,gt.jsx)("span",{className:`detail-value user-type-text-${c.userType||"user"}`,children:D(c.userType)})]}),(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Status cont:"}),(0,gt.jsx)("span",{className:`detail-value user-status-text-${c.accountStatus||"active"}`,children:L(c.accountStatus)})]}),(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Data \xeenregistr\u0103rii:"}),(0,gt.jsx)("span",{className:"detail-value",children:(e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"N/A";const a={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("ro-RO",a)}catch(ai){return console.error("Error formatting date:",ai),"N/A"}})(c.createdAt)})]}),c.teamType&&(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Tip echip\u0103:"}),(0,gt.jsx)("span",{className:"detail-value",children:c.teamType})]})]})]}),(c.address||c.city||c.county)&&(0,gt.jsxs)("div",{className:"user-detail-section",children:[(0,gt.jsx)("h4",{children:"Adres\u0103"}),(0,gt.jsxs)("div",{className:"user-detail-grid",children:[c.address&&(0,gt.jsxs)("div",{className:"user-detail-item full-width",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Adres\u0103 complet\u0103:"}),(0,gt.jsx)("span",{className:"detail-value",children:c.address})]}),c.city&&(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Ora\u0219:"}),(0,gt.jsx)("span",{className:"detail-value",children:c.city})]}),c.county&&(0,gt.jsxs)("div",{className:"user-detail-item",children:[(0,gt.jsx)("span",{className:"detail-label",children:"Jude\u021b:"}),(0,gt.jsx)("span",{className:"detail-value",children:c.county})]})]})]})]})}),(0,gt.jsx)("div",{className:"user-modal-footer",children:y?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("button",{className:"user-action-btn cancel",onClick:()=>{b(!1),c&&N({name:c.name||"",email:c.email||"",address:c.address||"",city:c.city||"",county:c.county||"",userType:c.userType||""})},children:"Anuleaz\u0103"}),(0,gt.jsx)("button",{className:"user-action-btn save",onClick:async()=>{if(c)try{await Bn.put(`/users/${c.id}`,j,T());const a=e.map((e=>e.id===c.id?{...e,...j}:e));t(a),u({...c,...j}),b(!1),alert("Utilizatorul a fost actualizat cu succes!")}catch(a){console.error("Error updating user:",a),alert("A ap\u0103rut o eroare la actualizarea utilizatorului. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}},children:"Salveaz\u0103 modific\u0103rile"})]}):(0,gt.jsxs)(gt.Fragment,{children:[(O=c,O.teamType&&""!==O.teamType.trim()&&(0,gt.jsx)("button",{className:"user-action-btn reservation-profiles",onClick:()=>{z(!0)},children:"Profiluri rezervare"})),"suspended"===c.accountStatus?(0,gt.jsx)("button",{className:"user-action-btn activate",onClick:()=>(async a=>{try{if(!window.confirm("Sunte\u021bi sigur c\u0103 dori\u021bi s\u0103 reactiva\u021bi acest utilizator?"))return;await Bn.put(`/users/${a}`,{accountStatus:"verified"},T());const r=e.map((e=>e.id===a?{...e,accountStatus:"verified"}:e));t(r),"suspended"===f&&n((e=>e.filter((e=>e.id!==a)))),A(),alert("Utilizatorul a fost reactivat cu succes!")}catch(r){console.error("Error activating user:",r),alert("A aparut o eroare la reactivarea utilizatorului. Va rugam sa incercati din nou.")}})(c.id),children:"Reactiveaz\u0103 utilizatorul"}):(0,gt.jsx)("button",{className:"user-action-btn suspend",onClick:()=>(async a=>{try{if(!window.confirm("Sunte\u021bi sigur c\u0103 dori\u021bi s\u0103 suspenda\u021bi acest utilizator?"))return;await Bn.post(`/users/${a}/suspend`,{},T());const r=e.map((e=>e.id===a?{...e,accountStatus:"suspended"}:e));t(r),"active"===f&&n((e=>e.filter((e=>e.id!==a)))),A(),alert("Utilizatorul a fost suspendat cu succes!")}catch(r){console.error("Error suspending user:",r),alert("A aparut o eroare la suspendarea utilizatorului. Va rugam sa incercati din nou.")}})(c.id),children:"Suspend\u0103 utilizatorul"}),(0,gt.jsx)("button",{className:"user-action-btn edit",onClick:()=>{b(!0)},children:"Editeaz\u0103"})]})})]})}),(0,gt.jsx)($s,{isOpen:w,onClose:()=>S(!1),onUserCreated:R,userType:"user",title:"Creare utilizator nou",API_URL:P,getAuthHeader:T}),(0,gt.jsx)($s,{isOpen:k,onClose:()=>C(!1),onUserCreated:R,userType:"hall_admin",title:"Creare administrator sal\u0103 nou",API_URL:P,getAuthHeader:T}),(0,gt.jsx)(Bs,{isOpen:E,onClose:()=>{z(!1)},userId:null===c||void 0===c?void 0:c.id,userName:null===c||void 0===c?void 0:c.name,API_URL:P,getAuthHeader:T})]});var O},Hs=()=>{const[e,t]=(0,r.useState)({recipientType:"all_users",specificUser:"",subject:"",content:""}),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)({type:"",text:""}),[d,m]=(0,r.useState)(""),[h,p]=(0,r.useState)([]),[f,g]=(0,r.useState)(!1),[v,x]=(0,r.useState)({all_users:0,all_admins:0}),y=()=>{const e=localStorage.getItem("jwtToken");return e?{headers:{Authorization:`Bearer ${e}`}}:{}};(0,r.useEffect)((()=>{(async()=>{i(!0);try{const e=await Bn.get("/users",y());n(e.data),p(e.data);const t=e.data.filter((e=>"user"===e.userType)).length,a=e.data.filter((e=>"admin"===e.userType)).length;x({all_users:t,all_admins:a})}catch(e){console.error("Error fetching data:",e),u({type:"error",text:"Nu s-au putut \xeenc\u0103rca datele. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou."})}finally{i(!1)}})()}),[]),(0,r.useEffect)((()=>{if(""===d.trim())p(a);else{const e=a.filter((e=>{var t,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(d.toLowerCase()))}));p(e)}}),[d,a]);const b=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n}))),u({type:"",text:""})};return"admin"!==localStorage.getItem("userType")?(0,gt.jsx)("div",{className:"global-admin-page",children:(0,gt.jsxs)("div",{className:"email-error-message",children:[(0,gt.jsx)("h2",{children:"Acces restric\u021bionat"}),(0,gt.jsx)("p",{children:"Aceast\u0103 pagin\u0103 este disponibil\u0103 doar pentru administratori."})]})}):(0,gt.jsxs)("div",{className:"global-admin-page",children:[(0,gt.jsx)("h2",{className:"global-admin-page-title",children:"Trimiterea email-urilor"}),(0,gt.jsxs)("div",{className:"email-form-container",children:[(0,gt.jsxs)("div",{className:"email-form-header",children:[(0,gt.jsx)("h3",{children:"Compune mesaj nou"}),(0,gt.jsx)("p",{className:"email-form-description",children:"Trimite email-uri c\u0103tre utilizatorii platformei"})]}),(0,gt.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),"specific_user"!==e.recipientType||e.specificUser?e.subject.trim()?e.content.trim()||(u({type:"error",text:"V\u0103 rug\u0103m s\u0103 introduce\u021bi con\u021binutul email-ului."}),0):(u({type:"error",text:"V\u0103 rug\u0103m s\u0103 introduce\u021bi un subiect."}),0):(u({type:"error",text:"V\u0103 rug\u0103m s\u0103 selecta\u021bi un utilizator specific."}),0)){o(!0),u({type:"",text:""});try{const a={recipientType:e.recipientType,recipient:"specific_user"===e.recipientType?e.specificUser:null,subject:e.subject,content:e.content};await Bn.post("/admin/send-email",a,y());u({type:"success",text:"Email-urile au fost trimise cu succes!"}),t({recipientType:"all_users",specificUser:"",subject:"",content:""}),m("")}catch(s){var n,r;console.error("Error sending emails:",s),u({type:"error",text:(null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"A ap\u0103rut o eroare la trimiterea email-urilor. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou."})}finally{o(!1)}}},className:"email-form",children:[(0,gt.jsxs)("div",{className:"email-form-section",children:[(0,gt.jsx)("label",{className:"email-form-label",children:"Destinatar:"}),(0,gt.jsxs)("div",{className:"email-selection-container",children:[(0,gt.jsxs)("select",{className:"email-form-select",name:"recipientType",value:e.recipientType,onChange:e=>{const a=e.target.value;t((e=>({...e,recipientType:a,specificUser:"specific_user"===a?e.specificUser:""})))},children:[(0,gt.jsxs)("option",{value:"all_users",children:["To\u021bi utilizatorii (",v.all_users,")"]}),(0,gt.jsxs)("option",{value:"all_admins",children:["To\u021bi administratorii (",v.all_admins,")"]}),(0,gt.jsx)("option",{value:"specific_user",children:"Utilizator specific"})]}),"specific_user"===e.recipientType&&(0,gt.jsxs)("div",{className:"email-user-search-container",children:[(0,gt.jsx)("input",{type:"text",placeholder:"C\u0103uta\u021bi dup\u0103 nume sau email",className:"email-user-search-input",value:d,onChange:e=>{const a=e.target.value;m(a),t((e=>({...e,specificUser:a}))),g(""!==a.trim())},onFocus:()=>g(""!==d.trim())}),f&&(0,gt.jsx)("div",{className:"email-user-dropdown",children:s?(0,gt.jsx)("div",{className:"email-dropdown-item-loading",children:"Se \xeencarc\u0103 utilizatorii..."}):h.length>0?h.map((e=>(0,gt.jsxs)("div",{className:"email-dropdown-item",onClick:()=>(e=>{t((t=>({...t,specificUser:e.email}))),m(e.name),g(!1)})(e),children:[(0,gt.jsx)("div",{className:"email-dropdown-user-name",children:e.name}),(0,gt.jsx)("div",{className:"email-dropdown-user-email",children:e.email})]},e.id))):(0,gt.jsx)("div",{className:"email-dropdown-item-empty",children:"Nu s-au g\u0103sit utilizatori"})})]}),(0,gt.jsxs)("div",{className:"email-recipient-count",children:["Destinatari: ",(0,gt.jsx)("span",{children:(()=>{switch(e.recipientType){case"all_users":return v.all_users;case"all_admins":return v.all_admins;case"specific_user":return e.specificUser?1:0;default:return 0}})()})]})]})]}),(0,gt.jsxs)("div",{className:"email-form-section",children:[(0,gt.jsx)("label",{className:"email-form-label",children:"Subiect:"}),(0,gt.jsx)("input",{type:"text",name:"subject",value:e.subject,onChange:b,placeholder:"Introduce\u021bi subiectul email-ului",className:"email-form-input"})]}),(0,gt.jsxs)("div",{className:"email-form-section",children:[(0,gt.jsx)("label",{className:"email-form-label",children:"Con\u021binut:"}),(0,gt.jsxs)("div",{className:"email-textarea-container",children:[(0,gt.jsx)("textarea",{name:"content",value:e.content,onChange:b,placeholder:"Introduce\u021bi con\u021binutul email-ului",className:"email-form-textarea"}),(0,gt.jsx)("div",{className:"email-textarea-tools",children:(0,gt.jsxs)("div",{className:"email-textarea-info",children:[e.content.length," caractere"]})})]})]}),c.text&&(0,gt.jsx)("div",{className:`email-message ${c.type}`,children:c.text}),(0,gt.jsx)("div",{className:"email-form-actions",children:(0,gt.jsx)("button",{type:"submit",className:"email-send-button",disabled:l,children:l?"Se trimite...":"Trimite email"})})]})]})]})};class Vs extends r.Component{constructor(e){super(e),this.setActiveSection=e=>{this.setState({activeSection:e})},this.handleLogout=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("authToken"),localStorage.removeItem("userId"),localStorage.removeItem("userType"),this.setState({isLoggedIn:!1}),window.location.href="/"},this.state={activeSection:"view-all-halls",isLoggedIn:"true"===localStorage.getItem("isLoggedIn")}}renderContent(){const{activeSection:e}=this.state;switch(e){case"view-all-halls":default:return(0,gt.jsx)(ws,{});case"approve-registrations":return(0,gt.jsx)(Ss,{});case"view-halls-schedule":return(0,gt.jsx)(_s,{});case"manage-users":return(0,gt.jsx)(Us,{});case"send-emails":return(0,gt.jsx)(Hs,{})}}render(){const{activeSection:e,isLoggedIn:t}=this.state;return(0,gt.jsxs)("div",{className:"global-admin-container",children:[(0,gt.jsx)(ps,{isLoggedIn:t,onLogout:this.handleLogout}),(0,gt.jsx)("nav",{className:"global-admin-nav",children:(0,gt.jsxs)("div",{className:"global-admin-buttons-container",children:[(0,gt.jsxs)("div",{className:"global-admin-button-card "+("view-all-halls"===e?"active":""),onClick:()=>this.setActiveSection("view-all-halls"),children:[(0,gt.jsx)("div",{className:"global-admin-button-icon view-halls-icon"}),(0,gt.jsx)("h3",{className:"global-admin-button-title",children:"Vizualizarea tuturor s\u0103lilor"}),(0,gt.jsx)("p",{className:"global-admin-button-description",children:"Lista + posibilitatea de gestiune"})]}),(0,gt.jsxs)("div",{className:"global-admin-button-card "+("approve-registrations"===e?"active":""),onClick:()=>this.setActiveSection("approve-registrations"),children:[(0,gt.jsx)("div",{className:"global-admin-button-icon approve-reg-icon"}),(0,gt.jsx)("h3",{className:"global-admin-button-title",children:"Aprobarea cererilor"}),(0,gt.jsx)("p",{className:"global-admin-button-description",children:"Aprobarea cererilor de \xeenregistrare a echipelor"})]}),(0,gt.jsxs)("div",{className:"global-admin-button-card "+("view-halls-schedule"===e?"active":""),onClick:()=>this.setActiveSection("view-halls-schedule"),children:[(0,gt.jsx)("div",{className:"global-admin-button-icon schedule-view-icon"}),(0,gt.jsx)("h3",{className:"global-admin-button-title",children:"Vizualizarea programului s\u0103lilor"}),(0,gt.jsx)("p",{className:"global-admin-button-description",children:"Verific\u0103 disponibilitatea \u0219i programul s\u0103lilor"})]}),(0,gt.jsxs)("div",{className:"global-admin-button-card "+("manage-users"===e?"active":""),onClick:()=>this.setActiveSection("manage-users"),children:[(0,gt.jsx)("div",{className:"global-admin-button-icon users-icon"}),(0,gt.jsx)("h3",{className:"global-admin-button-title",children:"Gestiunea utilizatorilor"}),(0,gt.jsx)("p",{className:"global-admin-button-description",children:"Vizualizarea \u0219i gestionarea utilizatorilor"})]}),(0,gt.jsxs)("div",{className:"global-admin-button-card "+("send-emails"===e?"active":""),onClick:()=>this.setActiveSection("send-emails"),children:[(0,gt.jsx)("div",{className:"global-admin-button-icon emails-icon"}),(0,gt.jsx)("h3",{className:"global-admin-button-title",children:"Trimiterea email-urilor"}),(0,gt.jsx)("p",{className:"global-admin-button-description",children:"Trimite email-uri c\u0103tre utilizatori sau administratori"})]})]})}),(0,gt.jsx)("main",{className:"global-admin-content",children:this.renderContent()}),(0,gt.jsx)(Vn,{})]})}}const qs=Vs,Ws=()=>(0,gt.jsxs)("div",{className:"privacy-page",children:[(0,gt.jsx)("header",{className:"privacy-header",children:(0,gt.jsxs)("div",{className:"privacy-header-content",children:[(0,gt.jsxs)(nt,{to:"/",className:"privacy-logo-link",children:[(0,gt.jsx)("div",{className:"privacy-logo-icon"}),(0,gt.jsx)("span",{className:"privacy-logo-text",children:"TrainOn"})]}),(0,gt.jsx)(nt,{to:"/",className:"privacy-back-button",children:"\xcenapoi la pagina principal\u0103"})]})}),(0,gt.jsx)("main",{className:"privacy-content",children:(0,gt.jsxs)("div",{className:"privacy-container",children:[(0,gt.jsx)("h1",{className:"privacy-title",children:"Politica de Confiden\u021bialitate"}),(0,gt.jsx)("p",{className:"privacy-last-updated",children:"Ultima actualizare: 8 Mai, 2025"}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"1. Introducere"}),(0,gt.jsx)("p",{children:"Bine a\u021bi venit la TrainOn. Confiden\u021bialitatea datelor dumneavoastr\u0103 personale este o prioritate pentru noi. Aceast\u0103 Politic\u0103 de Confiden\u021bialitate explic\u0103 modul \xeen care colect\u0103m, utiliz\u0103m, divulg\u0103m \u0219i protej\u0103m informa\u021biile personale atunci c\xe2nd utiliza\u021bi platforma noastr\u0103 de rezervare a s\u0103lilor de sport."}),(0,gt.jsx)("p",{children:"V\u0103 rug\u0103m s\u0103 citi\u021bi cu aten\u021bie aceast\u0103 politic\u0103 pentru a \xeen\u021belege cum trat\u0103m datele dumneavoastr\u0103."})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"2. Informa\u021biile pe care le colect\u0103m"}),(0,gt.jsx)("h3",{children:"2.1 Informa\u021bii personale"}),(0,gt.jsx)("p",{children:"Putem colecta urm\u0103toarele informa\u021bii personale:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Nume \u0219i prenume"}),(0,gt.jsx)("li",{children:"Adres\u0103 de email"}),(0,gt.jsx)("li",{children:"Num\u0103r de telefon"}),(0,gt.jsx)("li",{children:"Data na\u0219terii"}),(0,gt.jsx)("li",{children:"Informa\u021bii despre contul dumneavoastr\u0103"}),(0,gt.jsx)("li",{children:"Istoricul rezerv\u0103rilor"}),(0,gt.jsx)("li",{children:"Preferin\u021bele legate de activit\u0103\u021bile sportive"})]}),(0,gt.jsx)("h3",{children:"2.2 Informa\u021bii colectate automat"}),(0,gt.jsx)("p",{children:"Atunci c\xe2nd utiliza\u021bi platforma noastr\u0103, anumite informa\u021bii sunt colectate automat, inclusiv:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Adresa IP"}),(0,gt.jsx)("li",{children:"Tipul dispozitivului"}),(0,gt.jsx)("li",{children:"Tipul \u0219i versiunea browserului"}),(0,gt.jsx)("li",{children:"Sistemul de operare"}),(0,gt.jsx)("li",{children:"Date despre utilizarea platformei"}),(0,gt.jsx)("li",{children:"Cookie-uri \u0219i tehnologii similare"})]})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"3. Cum utiliz\u0103m informa\u021biile dumneavoastr\u0103"}),(0,gt.jsx)("p",{children:"Utiliz\u0103m informa\u021biile personale colectate pentru:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Facilitarea \u0219i procesarea rezerv\u0103rilor de s\u0103li de sport"}),(0,gt.jsx)("li",{children:"Crearea \u0219i gestionarea contului dumneavoastr\u0103"}),(0,gt.jsx)("li",{children:"\xcembun\u0103t\u0103\u021birea serviciilor noastre"}),(0,gt.jsx)("li",{children:"Comunicarea cu dumneavoastr\u0103 despre rezerv\u0103ri, actualiz\u0103ri sau modific\u0103ri"}),(0,gt.jsx)("li",{children:"Trimiterea de notific\u0103ri legate de serviciile noastre"}),(0,gt.jsx)("li",{children:"Prevenirea fraudelor \u0219i asigurarea securit\u0103\u021bii platformei"}),(0,gt.jsx)("li",{children:"Respectarea obliga\u021biilor legale"})]})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"4. Divulgarea informa\u021biilor"}),(0,gt.jsx)("p",{children:"Putem divulga informa\u021biile dumneavoastr\u0103 personale c\u0103tre:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Administratorii s\u0103lilor de sport pentru facilitarea rezerv\u0103rilor"}),(0,gt.jsx)("li",{children:"Furnizori de servicii ter\u021be care ne ajut\u0103 s\u0103 oper\u0103m platforma"}),(0,gt.jsx)("li",{children:"Autorit\u0103\u021bi publice, c\xe2nd este cerut de lege"}),(0,gt.jsx)("li",{children:"Parteneri de afaceri, cu consim\u021b\u0103m\xe2ntul dumneavoastr\u0103 explicit"})]}),(0,gt.jsx)("p",{children:"Nu vom vinde, \xeenchiria sau distribui informa\u021biile dumneavoastr\u0103 personale c\u0103tre ter\u021bi f\u0103r\u0103 consim\u021b\u0103m\xe2ntul dumneavoastr\u0103, cu excep\u021bia cazurilor prev\u0103zute \xeen aceast\u0103 politic\u0103."})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"5. Securitatea datelor"}),(0,gt.jsx)("p",{children:"Implement\u0103m m\u0103suri de securitate tehnice \u0219i organiza\u021bionale pentru a proteja informa\u021biile dumneavoastr\u0103 personale \xeempotriva accesului neautorizat, pierderii sau modific\u0103rii. Aceste m\u0103suri includ criptarea datelor, accesul limitat la informa\u021bii \u0219i instruirea personalului."}),(0,gt.jsx)("p",{children:"Cu toate acestea, nicio metod\u0103 de transmitere sau stocare electronic\u0103 nu este 100% sigur\u0103. Prin urmare, nu putem garanta securitatea absolut\u0103 a datelor dumneavoastr\u0103."})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"6. Drepturile dumneavoastr\u0103"}),(0,gt.jsx)("p",{children:"\xcen conformitate cu legisla\u021bia aplicabil\u0103 privind protec\u021bia datelor, ave\u021bi urm\u0103toarele drepturi:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Dreptul de acces la datele personale"}),(0,gt.jsx)("li",{children:"Dreptul la rectificarea datelor inexacte"}),(0,gt.jsx)("li",{children:'Dreptul la \u0219tergerea datelor ("dreptul de a fi uitat")'}),(0,gt.jsx)("li",{children:"Dreptul la restric\u021bionarea prelucr\u0103rii"}),(0,gt.jsx)("li",{children:"Dreptul la portabilitatea datelor"}),(0,gt.jsx)("li",{children:"Dreptul de a v\u0103 opune prelucr\u0103rii"}),(0,gt.jsx)("li",{children:"Dreptul de a nu face obiectul unei decizii bazate exclusiv pe prelucrarea automat\u0103"})]}),(0,gt.jsx)("p",{children:"Pentru a v\u0103 exercita aceste drepturi, v\u0103 rug\u0103m s\u0103 ne contacta\u021bi folosind informa\u021biile de contact furnizate la sf\xe2r\u0219itul acestei politici."})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"7. Cookie-uri"}),(0,gt.jsx)("p",{children:"Utiliz\u0103m cookie-uri \u0219i tehnologii similare pentru a \xeembun\u0103t\u0103\u021bi experien\u021ba dumneavoastr\u0103 pe platform\u0103. Pute\u021bi gestiona preferin\u021bele pentru cookie-uri prin set\u0103rile browserului dumneavoastr\u0103. Pentru mai multe informa\u021bii despre cookie-urile pe care le folosim, consulta\u021bi Politica noastr\u0103 privind Cookie-urile."})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"8. Modific\u0103ri ale Politicii de Confiden\u021bialitate"}),(0,gt.jsx)("p",{children:'Ne rezerv\u0103m dreptul de a modifica aceast\u0103 Politic\u0103 de Confiden\u021bialitate \xeen orice moment. Orice modific\u0103ri vor fi postate pe aceast\u0103 pagin\u0103, iar data "Ultima actualizare" va fi revizuit\u0103. V\u0103 \xeencuraj\u0103m s\u0103 revizui\u021bi periodic aceast\u0103 politic\u0103 pentru a fi informat despre cum protej\u0103m informa\u021biile dumneavoastr\u0103.'})]}),(0,gt.jsxs)("section",{className:"privacy-section",children:[(0,gt.jsx)("h2",{children:"9. Contact"}),(0,gt.jsx)("p",{children:"Dac\u0103 ave\u021bi \xeentreb\u0103ri sau preocup\u0103ri legate de aceast\u0103 Politic\u0103 de Confiden\u021bialitate sau de practicile noastre privind datele, v\u0103 rug\u0103m s\u0103 ne contacta\u021bi:"}),(0,gt.jsxs)("div",{className:"privacy-contact-info",children:[(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Email:"})," trainon.application@gmail.com"]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Telefon:"})," +40 354 662 177"]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Adres\u0103:"})," Strada Universit\u0103\u021bii 7-9, Cluj-Napoca, Rom\xe2nia"]})]})]})]})}),(0,gt.jsx)(Vn,{})]}),Gs=()=>(0,gt.jsxs)("div",{className:"terms-page",children:[(0,gt.jsx)("header",{className:"terms-header",children:(0,gt.jsxs)("div",{className:"terms-header-content",children:[(0,gt.jsxs)(nt,{to:"/",className:"terms-logo-link",children:[(0,gt.jsx)("div",{className:"terms-logo-icon"}),(0,gt.jsx)("span",{className:"terms-logo-text",children:"TrainOn"})]}),(0,gt.jsx)(nt,{to:"/",className:"terms-back-button",children:"\xcenapoi la pagina principal\u0103"})]})}),(0,gt.jsx)("main",{className:"terms-content",children:(0,gt.jsxs)("div",{className:"terms-container",children:[(0,gt.jsx)("h1",{className:"terms-title",children:"Termeni \u0219i Condi\u021bii"}),(0,gt.jsx)("p",{className:"terms-last-updated",children:"Ultima actualizare: 8 Mai, 2025"}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"1. Introducere"}),(0,gt.jsx)("p",{children:'Ace\u0219ti Termeni \u0219i Condi\u021bii ("Termeni") guverneaz\u0103 utilizarea de c\u0103tre dumneavoastr\u0103 a platformei TrainOn ("Platforma"), inclusiv a site-ului web \u0219i a aplica\u021biei mobile, precum \u0219i a serviciilor asociate. Acces\xe2nd sau utiliz\xe2nd Platforma noastr\u0103, sunte\u021bi de acord s\u0103 respecta\u021bi ace\u0219ti Termeni \u0219i orice documente incluse prin referin\u021b\u0103.'}),(0,gt.jsx)("p",{children:"V\u0103 rug\u0103m s\u0103 citi\u021bi cu aten\u021bie ace\u0219ti Termeni \xeenainte de a utiliza Platforma noastr\u0103."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"2. Acceptarea Termenilor"}),(0,gt.jsx)("p",{children:"Prin accesarea sau utilizarea Platformei, confirma\u021bi c\u0103 a\u021bi citit, \xeen\u021belege\u021bi \u0219i sunte\u021bi de acord s\u0103 fi\u021bi legat de ace\u0219ti Termeni. Dac\u0103 nu sunte\u021bi de acord cu to\u021bi Termenii sau nu pute\u021bi respecta ace\u0219ti Termeni, nu trebuie s\u0103 accesa\u021bi sau s\u0103 utiliza\u021bi Platforma."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"3. Defini\u021biile Termenilor"}),(0,gt.jsx)("p",{children:"\xcen ace\u0219ti Termeni, urm\u0103torii termeni vor avea urm\u0103toarele semnifica\u021bii:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:'"Noi", "Nou\u0103"'})," sau ",(0,gt.jsx)("strong",{children:'"TrainOn"'})," se refer\u0103 la platforma TrainOn \u0219i la operatorii acesteia."]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:'"Utilizator"'})," se refer\u0103 la orice persoan\u0103 care acceseaz\u0103 sau utilizeaz\u0103 Platforma."]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:'"Cont"'})," se refer\u0103 la \xeenregistrarea dvs. pe Platform\u0103."]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:'"Servicii"'})," se refer\u0103 la toate serviciile furnizate de TrainOn prin intermediul Platformei."]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:'"Sal\u0103 de sport"'})," se refer\u0103 la facilit\u0103\u021bile disponibile pentru rezervare prin intermediul Platformei."]}),(0,gt.jsxs)("li",{children:[(0,gt.jsx)("strong",{children:'"Administrator"'})," se refer\u0103 la o persoan\u0103 sau entitate care administreaz\u0103 o sal\u0103 de sport listat\u0103 pe Platform\u0103."]})]})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"4. Utilizarea Platformei"}),(0,gt.jsx)("h3",{children:"4.1 Eligibilitate"}),(0,gt.jsx)("p",{children:"Pentru a utiliza Platforma, trebuie s\u0103 ave\u021bi cel pu\u021bin 18 ani sau v\xe2rsta legal\u0103 a majoratului \xeen jurisdic\u021bia dumneavoastr\u0103 (oricare este mai mare). Dac\u0103 accesa\u021bi sau utiliza\u021bi Platforma \xeen numele unei entit\u0103\u021bi juridice, declara\u021bi \u0219i garanta\u021bi c\u0103 ave\u021bi autoritatea de a lega acea entitate de ace\u0219ti Termeni."}),(0,gt.jsx)("h3",{children:"4.2 \xcenregistrare \u0219i Conturi"}),(0,gt.jsx)("p",{children:"Anumite func\u021bii ale Platformei necesit\u0103 crearea unui cont. C\xe2nd crea\u021bi un cont, trebuie s\u0103 furniza\u021bi informa\u021bii corecte, actuale \u0219i complete. Sunte\u021bi responsabil pentru men\u021binerea confiden\u021bialit\u0103\u021bii creden\u021bialelor contului dvs. \u0219i pentru toate activit\u0103\u021bile care au loc sub contul dvs. Trebuie s\u0103 ne notifica\u021bi imediat despre orice utilizare neautorizat\u0103 a contului dvs."}),(0,gt.jsx)("h3",{children:"4.3 Comportament Utilizator"}),(0,gt.jsx)("p",{children:"C\xe2nd utiliza\u021bi Platforma, sunte\u021bi de acord s\u0103:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Respecta\u021bi toate legile \u0219i reglement\u0103rile aplicabile"}),(0,gt.jsx)("li",{children:"Nu \xeenc\u0103lca\u021bi niciun drept de proprietate intelectual\u0103 sau alte drepturi"}),(0,gt.jsx)("li",{children:"Nu posta\u021bi sau transmite\u021bi con\u021binut ilegal, d\u0103un\u0103tor, def\u0103im\u0103tor, obscen sau ofensator"}),(0,gt.jsx)("li",{children:"Nu interfera\u021bi sau nu \xeencerca\u021bi s\u0103 interfera\u021bi cu func\u021bionarea Platformei"}),(0,gt.jsx)("li",{children:"Nu \xeencerca\u021bi s\u0103 ob\u021bine\u021bi acces neautorizat la nicio parte a Platformei"}),(0,gt.jsx)("li",{children:"Nu utiliza\u021bi Platforma pentru a trimite spam, virus sau alte coduri mali\u021bioase"})]})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"5. Rezerv\u0103rile"}),(0,gt.jsx)("h3",{children:"5.1 Efectuarea Rezerv\u0103rilor"}),(0,gt.jsx)("p",{children:"Platforma TrainOn v\u0103 permite s\u0103 efectua\u021bi rezerv\u0103ri la s\u0103lile de sport disponibile. C\xe2nd efectua\u021bi o rezervare, sunte\u021bi de acord s\u0103:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Furniza\u021bi informa\u021bii corecte \u0219i complete despre rezervarea dumneavoastr\u0103"}),(0,gt.jsx)("li",{children:"Respecta\u021bi regulile \u0219i politicile specifice s\u0103lii de sport"}),(0,gt.jsx)("li",{children:"Pl\u0103ti\u021bi toate taxele asociate cu rezervarea dumneavoastr\u0103"})]}),(0,gt.jsx)("h3",{children:"5.2 Anularea \u0219i Ramburs\u0103rile"}),(0,gt.jsx)("p",{children:"Politicile de anulare pot varia \xeen func\u021bie de sala de sport. V\u0103 rug\u0103m s\u0103 verifica\u021bi politicile specifice \xeenainte de a efectua o rezervare. \xcen general:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{children:"Anul\u0103rile efectuate cu cel pu\u021bin 24 de ore \xeenainte de timpul rezervat pot fi eligibile pentru o rambursare complet\u0103 sau par\u021bial\u0103"}),(0,gt.jsx)("li",{children:"Anul\u0103rile efectuate cu mai pu\u021bin de 24 de ore \xeenainte de timpul rezervat pot fi supuse unor taxe de anulare"}),(0,gt.jsx)("li",{children:"Ne rezerv\u0103m dreptul de a anula rezerv\u0103rile \xeen cazul unor circumstan\u021be excep\u021bionale, cu rambursare complet\u0103"})]})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"6. Pl\u0103\u021bi \u0219i Taxe"}),(0,gt.jsx)("p",{children:"Utilizarea anumitor servicii poate necesita plata unor taxe. Toate taxele sunt afi\u0219ate \xeen lei rom\xe2ne\u0219ti (RON) \u0219i includ TVA-ul aplicabil."}),(0,gt.jsx)("p",{children:"Prin efectuarea unei pl\u0103\u021bi, autoriza\u021bi TrainOn sau procesatorii no\u0219tri de pl\u0103\u021bi s\u0103 perceap\u0103 taxa specificat\u0103 folosind metoda de plat\u0103 pe care a\u021bi ales-o. Ne rezerv\u0103m dreptul de a modifica pre\u021burile \xeen orice moment, cu notificare prealabil\u0103."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"7. Proprietatea Intelectual\u0103"}),(0,gt.jsx)("p",{children:"Platforma \u0219i tot con\u021binutul, caracteristicile \u0219i func\u021bionalitatea acesteia (inclusiv, dar f\u0103r\u0103 a se limita la text, grafice, logo-uri, imagini \u0219i software) sunt de\u021binute de TrainOn sau de licen\u021biatorii s\u0103i \u0219i sunt protejate de legi privind drepturile de autor, m\u0103rci comerciale, brevete \u0219i alte legi de proprietate intelectual\u0103."}),(0,gt.jsx)("p",{children:"Nu ave\u021bi permisiunea s\u0103 reproduce\u021bi, distribui\u021bi, modifica\u021bi, crea\u021bi lucr\u0103ri derivate, afi\u0219a\u021bi public, efectua\u021bi public, republica\u021bi, desc\u0103rca\u021bi, stoca\u021bi sau transmite\u021bi orice material de pe Platform\u0103, cu excep\u021bia cazului \xeen care este permis \xeen mod explicit \xeen ace\u0219ti Termeni."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"8. Confiden\u021bialitate"}),(0,gt.jsxs)("p",{children:["Utilizarea Platformei este, de asemenea, guvernat\u0103 de Politica noastr\u0103 de Confiden\u021bialitate, care poate fi g\u0103sit\u0103 ",(0,gt.jsx)(nt,{to:"/privacy",className:"terms-link",children:"aici"}),". Prin utilizarea Platformei, sunte\u021bi de acord cu colectarea, utilizarea \u0219i divulgarea informa\u021biilor dumneavoastr\u0103 a\u0219a cum este descris \xeen Politica de Confiden\u021bialitate."]})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"9. Limitarea R\u0103spunderii"}),(0,gt.jsx)("p",{children:"\xcen m\u0103sura permis\u0103 de lege, TrainOn nu va fi r\u0103spunz\u0103tor pentru nicio daun\u0103 indirect\u0103, incidental\u0103, special\u0103, consecvent\u0103 sau punitiv\u0103, sau pentru orice pierdere de profit sau venit, indiferent dac\u0103 este cauzat\u0103 de delict (inclusiv neglijen\u021b\u0103), \xeenc\u0103lcarea contractului sau altfel, chiar dac\u0103 este previzibil\u0103."}),(0,gt.jsx)("p",{children:"Nu garant\u0103m c\u0103 Platforma va fi sigur\u0103 sau lipsit\u0103 de erori sau viru\u0219i. Sunte\u021bi responsabil pentru configurarea tehnologiei informa\u021bionale, programelor de calculator \u0219i platformei pentru a accesa site-ul nostru. Ar trebui s\u0103 utiliza\u021bi propriul software de protec\u021bie \xeempotriva viru\u0219ilor."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"10. Desp\u0103gubire"}),(0,gt.jsx)("p",{children:"Sunte\u021bi de acord s\u0103 ne desp\u0103gubi\u021bi, s\u0103 ne ap\u0103ra\u021bi \u0219i s\u0103 ne proteja\u021bi pe noi \u0219i pe licen\u021biatorii, afilia\u021bii, partenerii \u0219i furnizorii no\u0219tri, \u0219i pe fiecare dintre ofi\u021berii, directorii, angaja\u021bii, agen\u021bii \u0219i contractorii lor respectivi, de \u0219i \xeempotriva oric\u0103ror reclama\u021bii, pierderi, daune, responsabilit\u0103\u021bi, costuri \u0219i cheltuieli (inclusiv, dar f\u0103r\u0103 a se limita la, onorariile \u0219i costurile rezonabile ale avoca\u021bilor) care rezult\u0103 din sau \xeen leg\u0103tur\u0103 cu \xeenc\u0103lcarea de c\u0103tre dumneavoastr\u0103 a acestor Termeni sau utilizarea necorespunz\u0103toare a Platformei."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"11. Rezilierea"}),(0,gt.jsx)("p",{children:"Ne rezerv\u0103m dreptul, la discre\u021bia noastr\u0103, de a restric\u021biona, suspenda sau rezilia accesul dumneavoastr\u0103 la toate sau la orice parte a Platformei, cu sau f\u0103r\u0103 notificare, pentru orice motiv sau f\u0103r\u0103 motiv, inclusiv, dar f\u0103r\u0103 a se limita la, \xeenc\u0103lcarea acestor Termeni."}),(0,gt.jsx)("p",{children:"Dup\u0103 reziliere, dreptul dumneavoastr\u0103 de a utiliza Platforma va \xeenceta imediat. Toate prevederile din ace\u0219ti Termeni care, prin natura lor, ar trebui s\u0103 supravie\u021buiasc\u0103 rezilierii, vor supravie\u021bui rezilierii."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"12. Modific\u0103ri ale Termenilor"}),(0,gt.jsx)("p",{children:"Ne rezerv\u0103m dreptul, la discre\u021bia noastr\u0103, de a modifica sau \xeenlocui ace\u0219ti Termeni \xeen orice moment. Dac\u0103 o revizuire este semnificativ\u0103, vom depune eforturi rezonabile pentru a oferi o notificare cu cel pu\u021bin 30 de zile \xeenainte ca noii termeni s\u0103 intre \xeen vigoare. Ceea ce constituie o schimbare semnificativ\u0103 va fi determinat la discre\u021bia noastr\u0103."}),(0,gt.jsx)("p",{children:"Continuarea utiliz\u0103rii Platformei dup\u0103 orice astfel de modific\u0103ri constituie acceptarea noilor Termeni. Dac\u0103 nu sunte\u021bi de acord cu noii termeni, v\u0103 rug\u0103m s\u0103 \xeenceta\u021bi utilizarea Platformei."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"13. Legea Aplicabil\u0103"}),(0,gt.jsx)("p",{children:"Ace\u0219ti Termeni vor fi guverna\u021bi \u0219i interpreta\u021bi \xeen conformitate cu legile Rom\xe2niei, f\u0103r\u0103 a \u021bine cont de principiile conflictului de legi."}),(0,gt.jsx)("p",{children:"Orice disput\u0103, controvers\u0103 sau preten\u021bie care decurge din sau \xeen leg\u0103tur\u0103 cu ace\u0219ti Termeni sau \xeenc\u0103lcarea, rezilierea sau invaliditatea acestora va fi solu\u021bionat\u0103 definitiv de instan\u021bele competente din Rom\xe2nia."})]}),(0,gt.jsxs)("section",{className:"terms-section",children:[(0,gt.jsx)("h2",{children:"14. Contact"}),(0,gt.jsx)("p",{children:"Dac\u0103 ave\u021bi \xeentreb\u0103ri sau preocup\u0103ri cu privire la ace\u0219ti Termeni, v\u0103 rug\u0103m s\u0103 ne contacta\u021bi:"}),(0,gt.jsxs)("div",{className:"terms-contact-info",children:[(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Email:"})," trainon.application@gmail.com"]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Telefon:"})," +40 354 662 177"]}),(0,gt.jsxs)("p",{children:[(0,gt.jsx)("strong",{children:"Adres\u0103:"})," Strada Universit\u0103\u021bii 7-9, Cluj-Napoca, Rom\xe2nia"]})]})]})]})}),(0,gt.jsx)(Vn,{})]}),Js=e=>{let{defaultRating:t=0,onChange:a,readOnly:n=!1,size:s="medium"}=e;const[i,l]=(0,r.useState)(t),[o,c]=(0,r.useState)(0),u=()=>{n||c(0)};return(0,gt.jsx)("div",{className:`star-rating ${s}`,children:[1,2,3,4,5].map((e=>(0,gt.jsx)("span",{className:`star ${e<=(o||i)?"filled":"empty"} ${n?"readonly":""}`,onClick:()=>(e=>{n||(l(e),a&&a(e))})(e),onMouseOver:()=>(e=>{n||c(e)})(e),onMouseLeave:u,children:e<=(o||i)?"\u2605":"\u2606"},e)))})},Qs=()=>{const{hallId:e}=ae(),[t,a]=(0,r.useState)(null),[n,s]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(null),[m,h]=(0,r.useState)({rating:0,comment:""}),[p,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(""),[x,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=localStorage.getItem("jwtToken"),t=localStorage.getItem("userId"),a=localStorage.getItem("userType"),n=!!e&&!!t&&"true"===localStorage.getItem("isLoggedIn");if(y(n),console.log("Auth status:",{isLoggedIn:localStorage.getItem("isLoggedIn"),userId:t,token:e?"exists":"missing",userType:a}),n&&t){(async()=>{try{const a=await Bn.get(`/users/${t}`,{headers:{Authorization:`Bearer ${e}`}});d(a.data)}catch(a){console.error("Eroare la \xeenc\u0103rcarea datelor utilizatorului:",a)}})()}}),[]),(0,r.useEffect)((()=>{(async()=>{try{const t=await Bn.get(`/sportsHalls/${e}`);a(t.data)}catch(t){console.error("Eroare la \xeenc\u0103rcarea detaliilor s\u0103lii:",t),c("Nu s-au putut \xeenc\u0103rca detaliile s\u0103lii de sport.")}})()}),[e]);const b=async()=>{try{const t=(await Bn.get("/feedbacks")).data.filter((t=>t.hall&&t.hall.id===parseInt(e)));t.sort(((e,t)=>new Date(t.date||t.createdAt||0)-new Date(e.date||e.createdAt||0))),console.log("Recenzii \xeenc\u0103rcate:",t),s(t),l(!1)}catch(t){console.error("Eroare la \xeenc\u0103rcarea recenziilor:",t),c("Nu s-au putut \xeenc\u0103rca recenziile pentru aceast\u0103 sal\u0103."),l(!1)}};(0,r.useEffect)((()=>{e&&b()}),[e]);const j=e=>{if(!e)return"Dat\u0103 necunoscut\u0103";const t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}.${(t.getMonth()+1).toString().padStart(2,"0")}.${t.getFullYear()}`},N=e=>e.user?e.user.name||e.user.username||`Utilizator ${e.user.id}`:e.team?e.team.name||`Utilizator ${e.team.id}`:"Utilizator anonim",w=e=>N(e).charAt(0).toUpperCase();if(i)return(0,gt.jsx)("div",{className:"reviews-loading",children:"Se \xeencarc\u0103 recenziile..."});if(o)return(0,gt.jsx)("div",{className:"reviews-error",children:o});const S=(()=>{const e={5:0,4:0,3:0,2:0,1:0};return n.forEach((t=>{t.rating>=1&&t.rating<=5&&e[t.rating]++})),e})(),k=(()=>{if(0===n.length)return 0;return(n.reduce(((e,t)=>e+t.rating),0)/n.length).toFixed(1)})();return(0,gt.jsxs)("div",{className:"reviews-page",children:[(0,gt.jsx)("div",{className:"reviews-header",children:(0,gt.jsxs)("div",{className:"reviews-header-content",children:[(0,gt.jsxs)("div",{className:"reviews-header-left",children:[(0,gt.jsx)(nt,{to:`/sportsHalls/${e}`,className:"back-to-hall",children:"\u2190 \xcenapoi la sala de sport"}),(0,gt.jsxs)("h1",{className:"reviews-title",children:["Recenzii pentru ",t?t.name:"Sal\u0103 de sport"]})]}),x&&(0,gt.jsx)("button",{className:"add-review-button",onClick:()=>f(!p),children:p?"Anuleaz\u0103":"Adaug\u0103 recenzie"})]})}),(0,gt.jsxs)("div",{className:"reviews-content",children:[(0,gt.jsxs)("div",{className:"reviews-summary",children:[(0,gt.jsxs)("div",{className:"reviews-average",children:[(0,gt.jsx)("div",{className:"average-rating",children:k}),(0,gt.jsx)("div",{className:"average-stars",children:(0,gt.jsx)(Js,{defaultRating:parseFloat(k),readOnly:!0,size:"large"})}),(0,gt.jsxs)("div",{className:"reviews-count",children:[n.length," recenzii"]})]}),(0,gt.jsx)("div",{className:"rating-distribution",children:[5,4,3,2,1].map((e=>(0,gt.jsxs)("div",{className:"rating-bar-container",children:[(0,gt.jsx)("span",{className:"rating-label",children:e}),(0,gt.jsx)("div",{className:"rating-bar-wrapper",children:(0,gt.jsx)("div",{className:"rating-bar",style:{width:(n.length?S[e]/n.length*100:0)+"%"}})}),(0,gt.jsx)("span",{className:"rating-count",children:S[e]})]},e)))})]}),g&&(0,gt.jsx)("div",{className:"success-message",children:g}),x?p&&(0,gt.jsxs)("div",{className:"add-review-form",children:[(0,gt.jsx)("h2",{children:"Adaug\u0103 recenzia ta"}),(0,gt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),m.rating)try{const t=localStorage.getItem("userId"),a=localStorage.getItem("jwtToken");if(!t||!a)return void alert("Trebuie s\u0103 fi\u021bi autentificat pentru a ad\u0103uga o recenzie.");const n={hall:{id:parseInt(e)},user:{id:parseInt(t)},rating:m.rating,comment:m.comment,date:new Date};console.log("Se trimite recenzia:",n);const r={headers:{Authorization:`Bearer ${a}`}},s=await Bn.post("/feedbacks",n,r);console.log("R\u0103spuns de la server:",s.data),h({rating:0,comment:""}),f(!1),v("Recenzia dvs. a fost ad\u0103ugat\u0103 cu succes!"),setTimeout((()=>{v("")}),3e3),b()}catch(a){console.error("Eroare la trimiterea recenziei:",a),alert("A ap\u0103rut o eroare la trimiterea recenziei. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}else alert("V\u0103 rug\u0103m s\u0103 acorda\u021bi un rating \xeenainte de a trimite recenzia.")},children:[(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{children:"Evalueaz\u0103:"}),(0,gt.jsx)("div",{className:"rating-stars",children:(0,gt.jsx)(Js,{defaultRating:m.rating,onChange:e=>{h({...m,rating:e})},size:"large"})})]}),(0,gt.jsxs)("div",{className:"form-group",children:[(0,gt.jsx)("label",{htmlFor:"comment",children:"Comentariu:"}),(0,gt.jsx)("textarea",{id:"comment",name:"comment",value:m.comment,onChange:e=>{const{name:t,value:a}=e.target;h({...m,[t]:a})},placeholder:"Scrie recenzia ta aici...",rows:"4",required:!0})]}),(0,gt.jsx)("button",{type:"submit",className:"submit-review-button",children:"Trimite recenzia"})]})]}):(0,gt.jsxs)("div",{className:"login-prompt",children:[(0,gt.jsx)("p",{children:"Trebuie s\u0103 fii autentificat pentru a ad\u0103uga o recenzie."}),(0,gt.jsx)(nt,{to:"/login",className:"login-button",children:"Autentific\u0103-te"})]}),(0,gt.jsxs)("div",{className:"reviews-list",children:[(0,gt.jsx)("h2",{children:"Toate recenziile"}),0===n.length?(0,gt.jsx)("div",{className:"no-reviews",children:"Nu exist\u0103 recenzii pentru aceast\u0103 sal\u0103 de sport. Fii primul care adaug\u0103 o recenzie!"}):n.map((e=>(0,gt.jsxs)("div",{className:"review-card",children:[(0,gt.jsxs)("div",{className:"review-header",children:[(0,gt.jsxs)("div",{className:"review-user",children:[(0,gt.jsx)("div",{className:"user-avatar",children:w(e)}),(0,gt.jsxs)("div",{className:"user-info",children:[(0,gt.jsx)("div",{className:"user-name",children:N(e)}),(0,gt.jsx)("div",{className:"review-date",children:j(e.date||e.createdAt)})]})]}),(0,gt.jsx)("div",{className:"review-rating",children:(0,gt.jsx)(Js,{defaultRating:e.rating,readOnly:!0,size:"small"})})]}),(0,gt.jsx)("div",{className:"review-content",children:e.comment||"Niciun comentariu."})]},e.id)))]})]})]})},Ks=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",county:"",city:"",birthDate:""}),[h,p]=(0,r.useState)({...d}),f=async()=>{try{n(!0),o(null);const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");const a=await fetch(`/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw 401===a.status?new Error("Sesiunea a expirat. Te rug\u0103m s\u0103 te autentifici din nou."):403===a.status?new Error("Nu ai permisiunea s\u0103 accesezi aceste date."):new Error("Nu s-au putut \xeenc\u0103rca datele administratorului");const r=await a.json(),s=r.name?r.name.split(" "):["",""],i=s[0]||"",l=s.slice(1).join(" ")||"",c=r.birthDate?new Date(r.birthDate).toISOString().split("T")[0]:"",u={firstName:i,lastName:l,email:r.email||"",phone:r.phone||"",address:r.address||"",county:r.county||"",city:r.city||"",birthDate:c};m(u),p(u),n(!1)}catch(e){console.error("Eroare la \xeenc\u0103rcarea datelor administratorului:",e),o(e.message),n(!1)}};(0,r.useEffect)((()=>{f()}),[]);const g=(e,t)=>{p((a=>({...a,[e]:t})))};return a?(0,gt.jsxs)("div",{className:"app-admin-profile-section",children:[(0,gt.jsx)("div",{className:"app-admin-section-header",children:(0,gt.jsx)("h2",{children:"Date personale"})}),(0,gt.jsx)("p",{style:{color:"white",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:"Se \xeencarc\u0103 datele..."})]}):l&&!e?(0,gt.jsxs)("div",{className:"app-admin-profile-section",children:[(0,gt.jsx)("div",{className:"app-admin-section-header",children:(0,gt.jsx)("h2",{children:"Date personale"})}),(0,gt.jsxs)("p",{style:{color:"#dc2626",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:["Eroare: ",l]}),(0,gt.jsx)("button",{onClick:f,className:"app-admin-edit-button",style:{margin:"0 auto",display:"block"},children:"\xcencearc\u0103 din nou"})]}):(0,gt.jsxs)("div",{className:"app-admin-profile-section",children:[(0,gt.jsxs)("div",{className:"app-admin-section-header",children:[(0,gt.jsx)("h2",{children:"Date personale"}),e?(0,gt.jsxs)("div",{className:"app-admin-edit-actions",children:[(0,gt.jsxs)("button",{onClick:async()=>{try{await(async e=>{try{i(!0),o(null),u("");const t=localStorage.getItem("userId"),a=localStorage.getItem("jwtToken");if(!t||!a)throw new Error("Nu sunt disponibile informa\u021biile de autentificare");const n=`${e.firstName} ${e.lastName}`.trim(),r=e.birthDate?new Date(e.birthDate):null,s={name:n,email:e.email,address:e.address,county:e.county,city:e.city,birthDate:r},l=await fetch(`/users/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw 401===l.status?new Error("Sesiunea a expirat. Te rug\u0103m s\u0103 te autentifici din nou."):403===l.status?new Error("Nu ai permisiunea s\u0103 modifici aceste date."):new Error("Nu s-au putut salva modific\u0103rile");const c=await l.json();return u("Datele au fost salvate cu succes!"),i(!1),setTimeout((()=>{u("")}),3e3),c}catch(t){throw console.error("Eroare la salvarea datelor:",t),i(!1),t}})(h),m({...h}),t(!1)}catch(e){o("Nu s-au putut salva modific\u0103rile: "+e.message)}},className:"app-admin-save-button",disabled:s,children:[(0,gt.jsx)(pr,{size:16}),s?"Se salveaz\u0103...":"Salveaz\u0103"]}),(0,gt.jsxs)("button",{onClick:()=>{p({...d}),t(!1),o(null),u("")},className:"app-admin-cancel-button",disabled:s,children:[(0,gt.jsx)(br,{size:16}),"Anuleaz\u0103"]})]}):(0,gt.jsxs)("button",{onClick:()=>{p({...d}),t(!0),o(null),u("")},className:"app-admin-edit-button",children:[(0,gt.jsx)(yr,{size:16}),"Editeaz\u0103"]})]}),c&&(0,gt.jsx)("div",{style:{color:"#10b981",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:c}),l&&e&&(0,gt.jsx)("div",{style:{color:"#dc2626",textAlign:"center",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"rgba(220, 38, 38, 0.1)",border:"1px solid rgba(220, 38, 38, 0.3)",borderRadius:"6px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:l}),(0,gt.jsxs)("div",{className:"app-admin-personal-data-grid",children:[(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Prenume"}),e?(0,gt.jsx)("input",{type:"text",value:h.firstName,onChange:e=>g("firstName",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu prenumele"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.firstName||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Nume"}),e?(0,gt.jsx)("input",{type:"text",value:h.lastName,onChange:e=>g("lastName",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu numele"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.lastName||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Email"}),e?(0,gt.jsx)("input",{type:"email",value:h.email,onChange:e=>g("email",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu adresa de email"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.email||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Telefon"}),e?(0,gt.jsx)("input",{type:"tel",value:h.phone,onChange:e=>g("phone",e.target.value),className:"app-admin-edit-input",placeholder:"Adaug\u0103 num\u0103rul de telefon"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.phone||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Adres\u0103"}),e?(0,gt.jsx)("input",{type:"text",value:h.address,onChange:e=>g("address",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu adresa"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.address||"Nu este specificat\u0103"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Jude\u021b"}),e?(0,gt.jsx)("input",{type:"text",value:h.county,onChange:e=>g("county",e.target.value),className:"app-admin-edit-input",placeholder:"Introdu jude\u021bul"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.county||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Ora\u0219"}),e?(0,gt.jsxs)("select",{value:h.city,onChange:e=>g("city",e.target.value),className:"app-admin-edit-input",children:[(0,gt.jsx)("option",{value:"",children:"Selecteaz\u0103 ora\u0219ul"}),["Alba Iulia","Arad","Arge\u0219","Bac\u0103u","Bihor","Bistri\u021ba-N\u0103s\u0103ud","Boto\u0219ani","Br\u0103ila","Bra\u0219ov","Bucure\u0219ti","Buz\u0103u","C\u0103l\u0103ra\u0219i","Cara\u0219-Severin","Cluj-Napoca","Constan\u021ba","Covasna","D\xe2mbovi\u021ba","Dolj","Gala\u021bi","Giurgiu","Gorj","Harghita","Hunedoara","Ialomi\u021ba","Ia\u0219i","Ilfov","Maramure\u0219","Mehedin\u021bi","Mure\u0219","Neam\u021b","Olt","Prahova","S\u0103laj","Satu Mare","Sibiu","Suceava","Teleorman","Timi\u0219oara","Tulcea","V\xe2lcea","Vaslui","Vrancea"].map((e=>(0,gt.jsx)("option",{value:e,children:e},e)))]}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.city||"Nu este specificat"})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Data na\u0219terii"}),e?(0,gt.jsx)("input",{type:"date",value:h.birthDate,onChange:e=>g("birthDate",e.target.value),className:"app-admin-edit-input"}):(0,gt.jsx)("span",{className:"app-admin-data-value",children:d.birthDate?new Date(d.birthDate).toLocaleDateString("ro-RO"):"Nu este specificat\u0103"})]})]})]})},Ys=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=(0,r.useState)({}),[l,o]=(0,r.useState)(!1),c=e=>{const{name:t,value:a}=e.target;n((e=>({...e,[t]:a}))),s[t]&&i((e=>({...e,[t]:""})))};return console.log("AppAdminSecuritySettings render - isChangingPassword:",e),(0,gt.jsxs)("div",{className:"app-admin-profile-section",children:[(0,gt.jsx)("div",{className:"app-admin-section-header",children:(0,gt.jsx)("h2",{children:"Securitate"})}),(0,gt.jsxs)("div",{className:"app-admin-security-section",children:[(0,gt.jsxs)("div",{className:"app-admin-security-item",children:[(0,gt.jsxs)("div",{className:"app-admin-security-info",children:[(0,gt.jsx)("h3",{children:"Schimb\u0103 parola"}),(0,gt.jsx)("p",{children:"Actualizeaz\u0103-\u021bi parola pentru a men\u021bine contul de administrator aplica\u021bie securizat"})]}),e?(0,gt.jsxs)("div",{style:{width:"100%"},children:[(0,gt.jsxs)("div",{className:"app-admin-personal-data-grid",style:{marginTop:"1rem"},children:[(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Parola curent\u0103"}),(0,gt.jsx)("input",{type:"password",name:"currentPassword",className:"app-admin-edit-input "+(s.currentPassword?"error":""),value:a.currentPassword,onChange:c,placeholder:"Introdu parola curent\u0103"}),s.currentPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem"},children:s.currentPassword})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",children:[(0,gt.jsx)("label",{children:"Parola nou\u0103"}),(0,gt.jsx)("input",{type:"password",name:"newPassword",className:"app-admin-edit-input "+(s.newPassword?"error":""),value:a.newPassword,onChange:c,placeholder:"Introdu parola nou\u0103"}),s.newPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem"},children:s.newPassword})]}),(0,gt.jsxs)("div",{className:"app-admin-data-field",style:{gridColumn:"span 2"},children:[(0,gt.jsx)("label",{children:"Confirm\u0103 parola nou\u0103"}),(0,gt.jsx)("input",{type:"password",name:"confirmPassword",className:"app-admin-edit-input "+(s.confirmPassword?"error":""),value:a.confirmPassword,onChange:c,placeholder:"Confirm\u0103 parola nou\u0103"}),s.confirmPassword&&(0,gt.jsx)("span",{style:{color:"#ef4444",fontSize:"0.8rem"},children:s.confirmPassword})]})]}),s.general&&(0,gt.jsx)("div",{style:{color:"#ef4444",fontSize:"0.9rem",marginTop:"1rem",textAlign:"center"},children:s.general}),(0,gt.jsxs)("div",{className:"app-admin-edit-actions",style:{marginTop:"1rem"},children:[(0,gt.jsx)("button",{className:"app-admin-save-button",onClick:async()=>{if((()=>{const e={};return a.currentPassword||(e.currentPassword="Parola curent\u0103 este obligatorie"),a.newPassword?a.newPassword.length<6&&(e.newPassword="Parola nou\u0103 trebuie s\u0103 aib\u0103 cel pu\u021bin 6 caractere"):e.newPassword="Parola nou\u0103 este obligatorie",a.confirmPassword?a.newPassword!==a.confirmPassword&&(e.confirmPassword="Parolele nu se potrivesc"):e.confirmPassword="Confirmarea parolei este obligatorie",a.currentPassword===a.newPassword&&(e.newPassword="Parola nou\u0103 trebuie s\u0103 fie diferit\u0103 de cea curent\u0103"),i(e),0===Object.keys(e).length})()){o(!0);try{const e=localStorage.getItem("token");if(!e)throw new Error("Nu e\u0219ti autentificat");const r=JSON.parse(atob(e.split(".")[1])).sub,s=await fetch("/users",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Eroare la ob\u021binerea datelor utilizatorului");const i=(await s.json()).find((e=>e.email===r));if(!i)throw new Error("Utilizatorul nu a fost g\u0103sit");const l=await fetch(`/users/${i.id}/change-password`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:a.currentPassword,newPassword:a.newPassword})});if(!l.ok){const e=await l.json();throw new Error(e.message||"Eroare la schimbarea parolei")}alert("Parola administratorului aplica\u021biei a fost schimbat\u0103 cu succes!"),t(!1),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Eroare la schimbarea parolei:",e),i({general:e.message||"A ap\u0103rut o eroare la schimbarea parolei"})}finally{o(!1)}}},disabled:l,children:l?"Se salveaz\u0103...":"Salveaz\u0103 parola"}),(0,gt.jsx)("button",{className:"app-admin-cancel-button",onClick:()=>{t(!1),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({})},disabled:l,children:"Anuleaz\u0103"})]})]}):(0,gt.jsx)("button",{className:"app-admin-security-button",onClick:()=>{console.log("Butonul schimb\u0103 parola a fost ap\u0103sat!"),t(!0),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({})},style:{cursor:"pointer"},children:"Schimb\u0103 parola"})]}),(0,gt.jsxs)("div",{className:"app-admin-security-item",children:[(0,gt.jsxs)("div",{className:"app-admin-security-info",children:[(0,gt.jsx)("h3",{children:"Autentificare \xeen dou\u0103 pa\u0219i"}),(0,gt.jsx)("p",{children:"Adaug\u0103 un nivel suplimentar de securitate la contul t\u0103u de administrator aplica\u021bie"})]}),(0,gt.jsx)("button",{className:"app-admin-security-button",onClick:()=>{console.log("Configureaz\u0103 autentificarea \xeen dou\u0103 pa\u0219i pentru administratorul aplica\u021biei")},children:"Configureaz\u0103"})]}),(0,gt.jsxs)("div",{className:"app-admin-security-item danger",children:[(0,gt.jsxs)("div",{className:"app-admin-security-info",children:[(0,gt.jsx)("h3",{children:"\u0218terge contul de administrator aplica\u021bie"}),(0,gt.jsx)("p",{children:"\u0218terge permanent contul \u0219i toate datele asociate, inclusiv configur\u0103rile platformei"})]}),(0,gt.jsx)("button",{className:"app-admin-security-button danger",onClick:()=>{window.confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi permanent contul de administrator aplica\u021bie? Aceast\u0103 ac\u021biune nu poate fi anulat\u0103 \u0219i va afecta \xeentreaga platform\u0103.")&&console.log("\u0218terge contul de administrator aplica\u021bie")},children:"\u0218terge contul"})]})]})]})},Xs=()=>{const[e,t]=(0,r.useState)("personal"),[a,n]=(0,r.useState)("true"===localStorage.getItem("isLoggedIn")),[s,i]=(0,r.useState)({firstName:"",lastName:"",email:""});(0,r.useEffect)((()=>{a&&(async()=>{try{const e=localStorage.getItem("userId"),t=localStorage.getItem("jwtToken");if(!e||!t)return;const a=await fetch(`/users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(a.ok){const e=await a.json(),t=e.name?e.name.split(" "):["",""],n=t[0]||"",r=t.slice(1).join(" ")||"";i({firstName:n,lastName:r,email:e.email||""})}}catch(e){console.error("Eroare la \xeenc\u0103rcarea informa\u021biilor de baz\u0103 ale administratorului aplica\u021biei:",e)}})()}),[a]);return(0,gt.jsxs)("div",{className:"app-admin-profile-page",children:[(0,gt.jsx)(ps,{isLoggedIn:a,onLogout:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userType"),localStorage.removeItem("userId"),localStorage.removeItem("jwtToken"),n(!1),window.location.href="/"}}),(0,gt.jsxs)("div",{className:"app-admin-profile-container",children:[(0,gt.jsxs)("nav",{className:"app-admin-profile-sidebar",children:[(0,gt.jsxs)("div",{className:"app-admin-profile-user-info",children:[(0,gt.jsx)("div",{className:"app-admin-profile-avatar",children:(0,gt.jsx)(yt,{size:32})}),(0,gt.jsxs)("h3",{children:[s.firstName," ",s.lastName]}),(0,gt.jsx)("p",{children:s.email}),(0,gt.jsx)("span",{className:"app-admin-profile-role",children:"Administrator Aplica\u021bie"})]}),(0,gt.jsxs)("div",{className:"app-admin-profile-nav",children:[(0,gt.jsxs)("button",{className:"app-admin-profile-nav-item "+("personal"===e?"active":""),onClick:()=>t("personal"),children:[(0,gt.jsx)(yt,{size:20}),"Date personale"]}),(0,gt.jsxs)("button",{className:"app-admin-profile-nav-item "+("security"===e?"active":""),onClick:()=>t("security"),children:[(0,gt.jsx)(xr,{size:20}),"Securitate"]})]})]}),(0,gt.jsx)("main",{className:"app-admin-profile-content",children:(()=>{switch(e){case"personal":default:return(0,gt.jsx)(Ks,{});case"security":return(0,gt.jsx)(Ys,{})}})()})]})]})},Zs=()=>{const[e]=lt(),t=te(),a=e.get("token"),[n,s]=(0,r.useState)({newPassword:"",confirmPassword:""}),[i,l]=(0,r.useState)({}),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!0),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),N=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(!a)return c("Link-ul de resetare este invalid sau lipse\u0219te."),void f(!1);w()}),[a]),(0,r.useEffect)((()=>{g&&N.current&&setTimeout((()=>{N.current.focus()}),100)}),[g]);const w=async()=>{try{const e=await fetch(`/reset-password/validate?token=${a}`),t=await e.json();e.ok&&t.valid?(v(!0),y(t.email),j(t.userName)):(c(t.message||"Link-ul de resetare este invalid sau a expirat."),v(!1))}catch(e){c("Eroare la validarea link-ului. Te rug\u0103m s\u0103 \xeencerci din nou."),v(!1)}finally{f(!1)}},S=e=>{const{name:t,value:a}=e.target;s((e=>({...e,[t]:a}))),l((e=>({...e,[t]:!1}))),c(""),d("")},k=e=>{"Enter"!==e.key||m||(e.preventDefault(),C())},C=async()=>{if((()=>{const e={};return n.newPassword?n.newPassword.length<6?(e.newPassword=!0,c("Parola nou\u0103 trebuie s\u0103 aib\u0103 cel pu\u021bin 6 caractere!"),!1):n.newPassword.length>128?(e.newPassword=!0,c("Parola nou\u0103 este prea lung\u0103 (maxim 128 caractere)!"),!1):n.confirmPassword?n.newPassword!==n.confirmPassword?(e.confirmPassword=!0,c("Parolele nu se potrivesc!"),!1):!(Object.keys(e).length>0)||(l(e),!1):(e.confirmPassword=!0,c("Confirmarea parolei este obligatorie!"),!1):(e.newPassword=!0,c("Parola nou\u0103 este obligatorie!"),!1)})()){h(!0),c("");try{const e=await fetch("/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,newPassword:n.newPassword,confirmPassword:n.confirmPassword})}),r=await e.json();if(!e.ok)throw new Error(r.message||"Eroare la resetarea parolei");d(r.message),s({newPassword:"",confirmPassword:""}),setTimeout((()=>{t("/user-home",{replace:!0})}),3e3)}catch(e){console.error("Reset password error:",e),c(e.message)}finally{h(!1)}}},E=()=>{t("/user-home",{replace:!0})};return p?(0,gt.jsx)("div",{className:"reset-password-page",children:(0,gt.jsx)("div",{className:"reset-password-container",children:(0,gt.jsxs)("div",{className:"reset-password-card",children:[(0,gt.jsx)("div",{className:"loading-spinner"}),(0,gt.jsx)("p",{children:"Valid\u0103m link-ul de resetare..."})]})})}):g?(0,gt.jsx)("div",{className:"reset-password-page",children:(0,gt.jsx)("div",{className:"reset-password-container",children:(0,gt.jsxs)("div",{className:"reset-password-card",children:[(0,gt.jsx)("h1",{className:"reset-password-title",children:"Resetare Parol\u0103"}),(0,gt.jsxs)("div",{className:"user-info",children:[(0,gt.jsxs)("p",{children:["Salut ",(0,gt.jsx)("strong",{children:b}),"!"]}),(0,gt.jsxs)("p",{className:"user-email",children:["Resetezi parola pentru: ",x]})]}),(0,gt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m||C()},className:"reset-password-form",noValidate:!0,children:[(0,gt.jsxs)("div",{className:"reset-password-input-container "+(i.newPassword?"reset-password-input-error":""),children:[(0,gt.jsx)("input",{ref:N,type:"password",name:"newPassword",value:n.newPassword,onChange:S,onKeyPress:k,className:"reset-password-input",placeholder:" ",required:!0,disabled:m,autoComplete:"new-password"}),(0,gt.jsx)("label",{className:"reset-password-floating-label",children:"Parola nou\u0103"})]}),(0,gt.jsxs)("div",{className:"reset-password-input-container "+(i.confirmPassword?"reset-password-input-error":""),children:[(0,gt.jsx)("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:S,onKeyPress:k,className:"reset-password-input",placeholder:" ",required:!0,disabled:m,autoComplete:"new-password"}),(0,gt.jsx)("label",{className:"reset-password-floating-label",children:"Confirm\u0103 parola nou\u0103"})]}),(0,gt.jsxs)("div",{className:"password-requirements",children:[(0,gt.jsx)("p",{children:"Parola trebuie s\u0103 aib\u0103:"}),(0,gt.jsxs)("ul",{children:[(0,gt.jsx)("li",{className:n.newPassword.length>=6?"valid":"",children:"Cel pu\u021bin 6 caractere"}),(0,gt.jsx)("li",{className:n.newPassword===n.confirmPassword&&n.confirmPassword?"valid":"",children:"Parolele s\u0103 se potriveasc\u0103"})]})]}),o&&(0,gt.jsx)("p",{className:"reset-password-error-message",role:"alert",children:o}),u&&(0,gt.jsxs)("div",{className:"reset-password-success-message",role:"alert",children:[(0,gt.jsx)("div",{className:"success-icon",children:"\u2705"}),(0,gt.jsx)("p",{children:u}),(0,gt.jsx)("p",{className:"redirect-message",children:"Vei fi redirec\u021bionat c\u0103tre pagina principal\u0103..."})]}),(0,gt.jsx)("button",{type:"submit",className:"reset-password-button "+(m?"loading":""),disabled:m,children:m?"Se reseteaz\u0103...":"Reseteaz\u0103 parola"}),(0,gt.jsx)("button",{type:"button",className:"reset-password-back-btn",onClick:E,disabled:m,children:"\xcenapoi la pagina principal\u0103"})]})]})})}):(0,gt.jsx)("div",{className:"reset-password-page",children:(0,gt.jsx)("div",{className:"reset-password-container",children:(0,gt.jsxs)("div",{className:"reset-password-card",children:[(0,gt.jsx)("h1",{className:"reset-password-title",children:"Link Invalid"}),(0,gt.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,gt.jsx)("p",{className:"reset-password-error",children:o}),(0,gt.jsx)("p",{className:"reset-password-description",children:"Te rug\u0103m s\u0103 solici\u021bi din nou resetarea parolei sau s\u0103 verifici c\u0103 ai accesat link-ul corect din email."}),(0,gt.jsx)("button",{type:"button",className:"reset-password-button",onClick:E,children:"\xcenapoi la pagina principal\u0103"})]})})})};const ei=function(){return(0,gt.jsx)(tt,{children:(0,gt.jsx)("div",{className:"app",children:(0,gt.jsxs)(be,{children:[(0,gt.jsx)(xe,{path:"/",element:(0,gt.jsx)(ve,{to:"/user-home"})}),(0,gt.jsx)(xe,{path:"/user-home",element:(0,gt.jsx)(Gn,{})}),(0,gt.jsx)(xe,{path:"/sportsHalls/:id",element:(0,gt.jsx)(nr,{})}),(0,gt.jsx)(xe,{path:"/search",element:(0,gt.jsx)(rr,{})}),(0,gt.jsx)(xe,{path:"/profile-creation",element:(0,gt.jsx)(vr,{})}),(0,gt.jsx)(xe,{path:"/profile",element:(0,gt.jsx)(Sr,{})}),(0,gt.jsx)(xe,{path:"/reservations",element:(0,gt.jsx)(Cr,{})}),(0,gt.jsx)(xe,{path:"/fcfs-reservation",element:(0,gt.jsx)(Pr,{})}),(0,gt.jsx)(xe,{path:"/sportsHalls/:hallId/reviews",element:(0,gt.jsx)(Qs,{})}),(0,gt.jsx)(xe,{path:"/reset-password",element:(0,gt.jsx)(Zs,{})}),(0,gt.jsx)(xe,{path:"/payment",element:(0,gt.jsx)(Dr,{})}),(0,gt.jsx)(xe,{path:"/payment-success",element:(0,gt.jsx)(Lr,{})}),(0,gt.jsx)(xe,{path:"/payment-cancel",element:(0,gt.jsx)(Lr,{})}),(0,gt.jsx)(xe,{path:"/privacy",element:(0,gt.jsx)(Ws,{})}),(0,gt.jsx)(xe,{path:"/terms",element:(0,gt.jsx)(Gs,{})}),(0,gt.jsx)(xe,{path:"/hall-admin-dashboard",element:(0,gt.jsx)(ts,{})}),(0,gt.jsx)(xe,{path:"/hall-admin-dashboard/add",element:(0,gt.jsx)(ts,{})}),(0,gt.jsx)(xe,{path:"/hall-admin-dashboard/schedule",element:(0,gt.jsx)(ts,{})}),(0,gt.jsx)(xe,{path:"/hall-admin-dashboard/reservations",element:(0,gt.jsx)(ts,{})}),(0,gt.jsx)(xe,{path:"/hall-admin-dashboard/reviews",element:(0,gt.jsx)(ts,{})}),(0,gt.jsx)(xe,{path:"/edit-hall/:id",element:(0,gt.jsx)(os,{})}),(0,gt.jsx)(xe,{path:"/admin-profile",element:(0,gt.jsx)(ms,{})}),(0,gt.jsx)(xe,{path:"/admin-dashboard",element:(0,gt.jsx)(qs,{})}),(0,gt.jsx)(xe,{path:"/admin-dashboard/view-halls",element:(0,gt.jsx)(qs,{})}),(0,gt.jsx)(xe,{path:"/admin-dashboard/approve-registrations",element:(0,gt.jsx)(qs,{})}),(0,gt.jsx)(xe,{path:"/admin-dashboard/view-schedule",element:(0,gt.jsx)(qs,{})}),(0,gt.jsx)(xe,{path:"/admin-dashboard/manage-users",element:(0,gt.jsx)(qs,{})}),(0,gt.jsx)(xe,{path:"/admin-dashboard/send-emails",element:(0,gt.jsx)(qs,{})}),(0,gt.jsx)(xe,{path:"/app-admin-profile",element:(0,gt.jsx)(Xs,{})})]})})})},ti=e=>{e&&e instanceof Function&&a.e(488).then(a.bind(a,488)).then((t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:s,getTTFB:i}=t;a(e),n(e),r(e),s(e),i(e)}))};s.createRoot(document.getElementById("root")).render((0,gt.jsx)(r.StrictMode,{children:(0,gt.jsx)(ei,{})})),ti()})();
//# sourceMappingURL=main.36108f1b.js.map