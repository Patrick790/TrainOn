# ===================================================================
# === Varianta Final? - application.properties                    ===
# === Func?ioneaz? atât pe Render (produc?ie) cât ?i local        ===
# ===================================================================

# Numele aplica?iei
spring.application.name=Licenta

# ==================================
# === CONFIGURARE BAZ? DE DATE   ===
# ==================================
# Pe Render, folose?te adresa injectat?. Local, va trebui s? comentezi aceast?
# linie ?i s? o decomentezi pe cea pentru baza ta de date local? (SQLite sau alta).
spring.datasource.url=${JDBC_DATABASE_URL}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ==================================
# === CONFIGURARE PORT SERVER    ===
# ==================================
# Folose?te portul dat de Render (${PORT}), sau 8080 ca rezerv? pentru rulare local?.
server.port=${PORT:8080}

# ==================================
# === CONFIGURARE JPA & HIBERNATE ===
# ==================================
# Creeaz?/actualizeaz? automat schema bazei de date.
spring.jpa.hibernate.ddl-auto=update
# Permite lazy loading în afara unei tranzac?ii (folose?te cu aten?ie).
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true
# Seteaz? fusul orar pentru conexiunile JDBC.
spring.jpa.properties.hibernate.jdbc.time_zone=Europe/Bucharest

# ==================================
# === CONFIGURARE JSON (JACKSON) ===
# ==================================
spring.jackson.serialization.fail-on-empty-beans=false
spring.main.allow-circular-references=true
spring.jackson.time-zone=Europe/Bucharest

# ==================================
# === CONFIGURARE UPLOAD FI?IERE ===
# ==================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB

# ==================================
# === CONFIGURARE EMAIL (GMAIL)  ===
# ==================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
# Datele de autentificare pentru email sunt citite din variabilele de mediu.
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}

# ==================================
# === CONFIGURARE STRIPE         ===
# ==================================
# Cheile API pentru Stripe sunt citite din variabilele de mediu.
stripe.secret.key=${STRIPE_SECRET_KEY}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET}

# ==================================
# === ALTE CONFIGUR?RI           ===
# ==================================
# Necesare pentru a gestiona cererile de tip OPTIONS (CORS).
spring.mvc.dispatch-options-request=true
